"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4947],{5391:function(e,t,n){n.d(t,{Z:function(){return y}});var o=n(8314),r=n(4985),a=n(8450),i=n(6105),c=n(3205),l=n(6873),s=n(8762),u=n(1169),d=n(308),p=n(3494),m=function(e){return"\n  mutation($upvoteInput: ".concat(e,"UpvoteInput!) {\n    toggleUpvote: ").concat(e.toLowerCase(),"Upvote(input: $upvoteInput) {\n      subject {\n        upvoteCount\n      }\n    }\n  }")};function h(){return(h=(0,u.Z)((function(e,t,n){return(0,d.__generator)(this,(function(o){return[2,fetch(p.Lp,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({query:m(n?"Remove":"Add"),variables:e})}).then((function(e){return e.json()}))]}))}))).apply(this,arguments)}var v=n(4457),f=n(367);function g(e){var t=e.reply,n=e.onReplyUpdate,o=(0,f.$I)().t,r=(0,f.aQ)(),i=(0,f.r8)(),u=(0,c.useCallback)((function(e,o){return n((0,s.uJ)(t,e),o)}),[t,n]),d=t.deletedAt||t.isMinimized;return(0,a.BX)("div",{className:"gsc-reply",children:[(0,a.tZ)("div",{className:"gsc-tl-line"}),(0,a.BX)("div",{className:"flex ".concat(d?"items-center":""),children:[(0,a.tZ)("div",{className:"gsc-reply-author-avatar",children:(0,a.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:t.author.url,className:"flex items-center",children:(0,a.tZ)("img",{className:"rounded-full",src:t.author.avatarUrl,width:"30",height:"30",alt:"@".concat(t.author.login),loading:"lazy"})})}),(0,a.BX)("div",{className:"w-full min-w-0 ml-2",children:[d?null:(0,a.BX)("div",{className:"gsc-reply-header",children:[(0,a.BX)("div",{className:"gsc-reply-author",children:[(0,a.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:t.author.url,className:"flex min-w-0 items-center",children:(0,a.tZ)("span",{className:"link-primary overflow-hidden text-ellipsis font-semibold",children:t.author.login})}),(0,a.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:t.url,className:"link-secondary overflow-hidden text-ellipsis",children:(0,a.tZ)("time",{className:"whitespace-nowrap",title:r(t.createdAt),dateTime:t.createdAt,children:i(t.createdAt)})}),"NONE"!==t.authorAssociation?(0,a.tZ)("div",{className:"hidden text-xs leading-[18px] sm:inline-flex",children:(0,a.tZ)("span",{className:"color-box-border-info font-medium capitalize rounded-xl border px-[7px]",children:o(t.authorAssociation)})}):null]}),t.lastEditedAt?(0,a.tZ)("button",{className:"color-text-secondary gsc-reply-edited",title:o("lastEditedAt",{date:t.lastEditedAt}),children:o("edited")}):null]}),(0,a.tZ)("div",{dir:"auto",className:"markdown gsc-reply-content ".concat(d?" not-shown":""),onClick:l.Cn,dangerouslySetInnerHTML:d?void 0:{__html:(0,l.jd)(t.bodyHTML)},children:d?(0,a.tZ)("em",{className:"color-text-secondary",children:t.deletedAt?o("thisCommentWasDeleted"):o("thisCommentWasHidden")}):null}),d?null:(0,a.tZ)("div",{className:"gsc-reply-footer",children:(0,a.tZ)("div",{className:"gsc-reply-reactions",children:(0,a.tZ)(v.Z,{reactionGroups:t.reactions,subjectId:t.id,onReact:u,popoverPosition:"top"})})})]})]})]})}var b=n(5917);function y(e){var t=e.children,n=e.comment,u=e.replyBox,d=e.onCommentUpdate,p=e.onReplyUpdate,m=(0,f.$I)(),y=m.t,Z=m.dir,N=(0,f.aQ)(),w=(0,f.r8)(),C=(0,c.useState)(0),x=C[0],A=C[1],k=n.replies.slice(-5-50*x),T=n.replyCount-k.length,B=k.length<n.replies.length,R=!B&&T>0,S=(0,c.useContext)(b.Vo).token,L=(0,c.useCallback)((function(e,t){return d((0,s.uJ)(n,e),t)}),[n,d]),_=(0,c.useCallback)((function(){var e=n.viewerHasUpvoted?n.upvoteCount-1:n.upvoteCount+1,t=function(e,t,n){return h.apply(this,arguments)}({upvoteInput:{subjectId:n.id}},S,n.viewerHasUpvoted);d((0,r.Z)((0,o.Z)({},n),{upvoteCount:e,viewerHasUpvoted:!n.viewerHasUpvoted}),t)}),[n,d,S]),j=!!n.deletedAt||n.isMinimized;return(0,a.tZ)("div",{className:"gsc-comment",children:(0,a.BX)("div",{className:"color-bg-primary w-full min-w-0 rounded-md border ".concat(n.viewerDidAuthor?"color-box-border-info":"color-border-primary"),children:[n.isMinimized?null:(0,a.BX)("div",{className:"gsc-comment-header",children:[(0,a.BX)("div",{className:"gsc-comment-author",children:[(0,a.BX)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:n.author.url,className:"gsc-comment-author-avatar",children:[(0,a.tZ)("img",{className:"mr-2 rounded-full",src:n.author.avatarUrl,width:"30",height:"30",alt:"@".concat(n.author.login),loading:"lazy"}),(0,a.tZ)("span",{className:"link-primary overflow-hidden text-ellipsis font-semibold",children:n.author.login})]}),(0,a.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:n.url,className:"link-secondary overflow-hidden text-ellipsis",children:(0,a.tZ)("time",{className:"whitespace-nowrap",title:N(n.createdAt),dateTime:n.createdAt,children:w(n.createdAt)})}),"NONE"!==n.authorAssociation?(0,a.tZ)("div",{className:"hidden text-xs leading-[18px] sm:inline-flex",children:(0,a.tZ)("span",{className:"color-box-border-info font-medium capitalize ml-1 rounded-xl border px-[7px]",children:y(n.authorAssociation)})}):null]}),n.lastEditedAt?(0,a.tZ)("button",{className:"color-text-secondary gsc-comment-edited",title:y("lastEditedAt",{date:N(n.lastEditedAt)}),children:y("edited")}):null]}),(0,a.tZ)("div",{dir:t?Z:"auto",className:"markdown gsc-comment-content".concat(n.isMinimized?" minimized color-bg-tertiary border-color-primary":""),onClick:l.Cn,dangerouslySetInnerHTML:j?void 0:{__html:(0,l.jd)(n.bodyHTML)},children:j?(0,a.tZ)("em",{className:"color-text-secondary",children:n.deletedAt?y("thisCommentWasDeleted"):y("thisCommentWasMinimized")}):null}),t,!n.isMinimized&&d?(0,a.BX)("div",{className:"gsc-comment-footer",children:[(0,a.BX)("div",{className:"gsc-comment-reactions",children:[(0,a.BX)("button",{type:"button",className:"gsc-upvote-button gsc-social-reaction-summary-item ".concat(n.viewerHasUpvoted?"has-reacted":""),onClick:_,disabled:!S||!n.viewerCanUpvote,"aria-label":y(S?"upvote":"youMustBeSignedInToUpvote"),title:S?y("upvotes",{count:n.upvoteCount}):y("youMustBeSignedInToUpvote"),children:[(0,a.tZ)(i.Hf3,{className:"gsc-direct-reaction-button-emoji"}),(0,a.tZ)("span",{className:"gsc-social-reaction-summary-item-count",title:y("upvotes",{count:n.upvoteCount}),children:n.upvoteCount})]}),j?null:(0,a.tZ)(v.Z,{reactionGroups:n.reactions,subjectId:n.id,onReact:L,popoverPosition:"top"})]}),(0,a.tZ)("div",{className:"gsc-comment-replies-count",children:(0,a.tZ)("span",{className:"color-text-tertiary text-xs",children:y("replies",{count:n.replyCount,plus:""})})})]}):null,n.replies.length>0?(0,a.BX)("div",{className:"color-bg-inset color-border-primary gsc-replies ".concat(!u||j?"rounded-b-md":""),children:[B||R?(0,a.BX)("div",{className:"flex h-8 items-center mb-2 pl-4",children:[(0,a.tZ)("div",{className:"flex w-[29px] shrink-0 content-center mr-[9px]",children:(0,a.tZ)(i.Ui8,{className:"w-full rotate-90 fill-[var(--color-border-muted)]"})}),B?(0,a.tZ)("button",{className:"color-text-link hover:underline",onClick:function(){return A(x+1)},children:y("showPreviousReplies",{count:T})}):null,R?(0,a.tZ)("a",{href:n.url,className:"color-text-link hover:underline",rel:"nofollow noopener noreferrer",target:"_blank",children:y("seePreviousRepliesOnGitHub",{count:T})}):null]}):null,p?k.map((function(e){return(0,a.tZ)(g,{reply:e,onReplyUpdate:p},e.id)})):null]}):null,!n.isMinimized&&u?u:null]})})}},4457:function(e,t,n){n.d(t,{Z:function(){return g}});var o=n(1169),r=n(7405),a=n(308),i=n(8450),c=n(6105),l=n(3205),s=n(5917),u=n(5521),d=n(8762),p=n(3494),m=function(e){return"\n  mutation($content: ReactionContent!, $subjectId: ID!) {\n    toggleReaction: ".concat(e,"Reaction(input: {content: $content, subjectId: $subjectId}) {\n      reaction {\n        content\n        id\n      }\n    }\n  }")};function h(){return(h=(0,o.Z)((function(e,t,n){return(0,a.__generator)(this,(function(o){return[2,fetch(p.Lp,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({query:m(n?"remove":"add"),variables:e})}).then((function(e){return e.json()}))]}))}))).apply(this,arguments)}var v=n(367);function f(e){var t=e.isLoggedIn,n=e.isLoading,o=e.current,r=e.loginUrl,a=(0,v.$I)().t;return n?(0,i.tZ)("p",{className:"m-2",children:a("pleaseWait")}):t?(0,i.tZ)("p",{className:"overflow-hidden text-ellipsis whitespace-nowrap m-2",children:a(o||"pickYourReaction")}):(0,i.tZ)("p",{className:"m-2",children:(0,i.tZ)(v.cC,{i18nKey:"common:signInToAddYourReaction",components:{a:(0,i.tZ)("a",{href:r,className:"color-text-link",target:"_top"})}})})}function g(e){var t=e.reactionGroups,n=e.subjectId,p=e.onReact,m=e.variant,g=void 0===m?"all":m,b=e.popoverPosition,y=void 0===b?"bottom":b,Z=e.onDiscussionCreateRequest,N=(0,v.$I)().t,w=(0,l.useState)(null),C=w[0],x=w[1],A=(0,l.useState)(!1),k=A[0],T=A[1],B=(0,r.Z)((0,u.IC)(!1),3),R=B[0],S=B[1],L=B[2],_=(0,l.useContext)(s.Vo),j=_.token,U=_.origin,E=(0,_.getLoginUrl)(U),H=(0,l.useCallback)(function(){var e=(0,o.Z)((function(e){var o,r;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return k||!n&&!Z?[2]:(T(!n),n?(r=n,[3,3]):[3,1]);case 1:return[4,Z()];case 2:r=a.sent(),a.label=3;case 3:return p(e,function(e,t,n){return h.apply(this,arguments)}({content:e,subjectId:r},j,!!(null===t||void 0===t||null===(o=t[e])||void 0===o?void 0:o.viewerHasReacted)).then((function(){return T(!1)}))),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),[k,Z,p,t,n,j]),I="popoverOnly"===g?[]:Object.entries(t||{}).filter((function(e){return(0,r.Z)(e,2)[1].count>0})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1],a=o.count,c=o.viewerHasReacted;return(0,i.BX)("button",{className:"gsc-direct-reaction-button gsc-social-reaction-summary-item ".concat(c?"has-reacted":"").concat(j?"":" cursor-not-allowed"),disabled:!j,onClick:function(){return H(n)},"aria-label":j?N("addTheReaction",{reaction:N(n)}):N("youMustBeSignedInToAddReactions"),title:j?N("peopleReactedWith",{count:a,reaction:N(n),emoji:N("emoji")}):N("youMustBeSignedInToAddReactions"),children:[(0,i.tZ)("span",{className:"gsc-direct-reaction-button-emoji",children:d.Jg[n]}),(0,i.tZ)("span",{className:"gsc-social-reaction-summary-item-count",title:N("peopleReactedWith",{count:a,reaction:N(n),emoji:N("emoji")}),children:a})]},n)}));return(0,i.BX)(i.HY,{children:["groupsOnly"!==g?(0,i.BX)("details",{ref:R,className:"gsc-reactions-menu",onToggle:function(e){e.target instanceof HTMLDetailsElement&&L(e.target.open)},open:S,children:[(0,i.tZ)("summary",{"aria-label":N("addReactions"),className:"link-secondary gsc-reactions-button gsc-social-reaction-summary-item ".concat("popoverOnly"===g?"popover-only":""),children:(0,i.tZ)(c.W5D,{size:16})}),(0,i.BX)("div",{className:"color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover ".concat(y," ").concat(S?" open":""," ").concat("popoverOnly"===g?"right":"left"),children:[(0,i.tZ)(f,{isLoading:k,isLoggedIn:!!j,loginUrl:E,current:C}),(0,i.tZ)("div",{className:"color-border-primary my-2 border-t"}),(0,i.tZ)("div",{className:"m-2",children:Object.entries(d.Jg).map((function(e){var n,o=(0,r.Z)(e,2),a=o[0],c=o[1],l=null===t||void 0===t||null===(n=t[a])||void 0===n?void 0:n.viewerHasReacted;return(0,i.tZ)("button",{"aria-label":N(l?"removeTheReaction":"addTheReaction",{reaction:N(a)}),type:"button",className:"gsc-emoji-button".concat(l?" has-reacted color-bg-info color-border-tertiary":"").concat(j?"":" no-token"),onClick:function(){H(a),L(!1)},onMouseEnter:function(){return x(a)},onFocus:function(){return x(a)},onMouseLeave:function(){return x(null)},onBlur:function(){return x(null)},disabled:!j,children:(0,i.tZ)("span",{className:"gsc-emoji",children:c})},a)}))})]})]}):null,"popoverOnly"!==g?(0,i.tZ)("div",{className:"gsc-direct-reaction-buttons",children:I}):null]})}},6873:function(e,t,n){n.d(t,{Cn:function(){return p},KF:function(){return s},aT:function(){return d},jd:function(){return m},qw:function(){return u}});var o=n(8314),r=n(4985),a=n(4595),i=n(4761),c={avatarUrl:"https://avatars.githubusercontent.com/u/10137?s=64&v=4",login:"ghost",url:"https://github.com/ghost"};function l(e){return e.reduce((function(e,t){return e[t.content]={count:t.users.totalCount,viewerHasReacted:t.viewerHasReacted},e}),{})}function s(e){var t=e.reactionGroups,n=e.replyTo.id,i=e.author,s=(0,a.Z)(e,["reactionGroups","replyTo","author"]),u=l(t),d=i||c;return(0,r.Z)((0,o.Z)({},s),{author:d,reactions:u,replyToId:n})}function u(e){var t=e.replies,n=e.reactionGroups,i=e.author,u=(0,a.Z)(e,["replies","reactionGroups","author"]),d=t.totalCount,p=t.nodes,m=l(n),h=p.map(s),v=i||c;return(0,r.Z)((0,o.Z)({},u),{author:v,replyCount:d,reactions:m,replies:h})}function d(e){var t=e.target,n=t.closest(".snippet-clipboard-content, .highlight"),o=t.closest("button.ClipboardButton");if(n&&o&&e.currentTarget.contains(o)){e.preventDefault();var r=n.dataset.snippetClipboardCopyContent||n.querySelector("pre").textContent||"";(0,i.ES)(r).then((function(){var e=o.querySelector("svg.js-clipboard-copy-icon"),t=o.querySelector("svg.js-clipboard-check-icon");e.classList.add("d-none"),t.classList.remove("d-none"),setTimeout((function(){e.classList.remove("d-none"),t.classList.add("d-none")}),2e3)}))}}function p(e){!function(e){var t=e.target,n=t.closest(".email-hidden-toggle a");n&&e.currentTarget.contains(n)&&(e.preventDefault(),t.closest("div").querySelector(".email-hidden-reply").classList.toggle("expanded"))}(e),d(e)}function m(e){if("undefined"===typeof document)return e.replace(/<a (href="[^"]*")/g,'<a $1 rel="noopener noreferrer nofollow" target="_top"');var t=document.createElement("template");t.innerHTML=e;var n=t.content;return n.querySelectorAll(":not(.email-hidden-toggle) > a").forEach((function(e){var t=window.location.href;if(e.href.startsWith("".concat(t,"#"))){var n;try{n=new URL(document.referrer)}catch(o){return}return n.hash="",void(e.href="".concat(n.href).concat(e.href.substring(t.length)))}e.rel="noopener noreferrer nofollow",e.target="_top"})),n.querySelectorAll("a.commit-tease-sha").forEach((function(e){return e.href="https://github.com"+e.pathname})),n.querySelectorAll(".snippet-clipboard-content, .highlight:not(.js-file-line-container)").forEach((function(e){e.classList.add("position-relative"),e.classList.remove("overflow-auto");var t=document.createElement("template");t.innerHTML='\n<div class="zeroclipboard-container position-absolute right-0 top-0">\n  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">\n    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">\n      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>\n    </svg>\n    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">\n      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>\n    </svg>\n  </button>\n</div>'.trim(),e.appendChild(t.content.firstChild)})),t.innerHTML}},6753:function(e,t,n){function o(e,t){window.parent.postMessage({giscus:e},t)}function r(e,t){var n=document.querySelector("iframe.giscus-frame");n&&n.contentWindow.postMessage({giscus:e},t)}n.d(t,{$:function(){return r},A:function(){return o}})},8762:function(e,t,n){n.d(t,{Jg:function(){return c},aT:function(){return s},uJ:function(){return u}});var o=n(7589),r=n(8314),a=n(4985),i=n(7405),c={THUMBS_UP:"\ud83d\udc4d",THUMBS_DOWN:"\ud83d\udc4e",LAUGH:"\ud83d\ude04",HOORAY:"\ud83c\udf89",CONFUSED:"\ud83d\ude15",HEART:"\u2764\ufe0f",ROCKET:"\ud83d\ude80",EYES:"\ud83d\udc40"};function l(e,t){var n=e[t].viewerHasReacted?-1:1;return[(0,a.Z)((0,r.Z)({},e),(0,o.Z)({},t,{count:e[t].count+n,viewerHasReacted:!e[t].viewerHasReacted})),n]}function s(e,t){var n=(0,i.Z)(l(e.discussion.reactions,t),2),o=n[0],c=n[1];return(0,a.Z)((0,r.Z)({},e),{discussion:(0,a.Z)((0,r.Z)({},e.discussion),{reactionCount:e.discussion.reactionCount+c,reactions:o})})}function u(e,t){var n=(0,i.Z)(l(e.reactions,t),1)[0];return(0,a.Z)((0,r.Z)({},e),{reactions:n})}},3494:function(e,t,n){n.d(t,{Db:function(){return i},Lp:function(){return a}});var o=n(7220),r="https://api.github.com",a="".concat(r,"/graphql"),i="".concat(r,"/markdown"),c=("".concat(r,"/repos"),"".concat(r,"/app/installations"),o.env.SUPABASE_KEY,o.env.SUPABASE_URL),l=o.env.SUPABASE_INSTALLATION_ACCESS_TOKENS_TABLE||"installation_access_tokens";"".concat(c,"/rest/v1/").concat(l)}}]);