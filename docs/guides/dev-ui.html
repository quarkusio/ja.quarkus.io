<!DOCTYPE html>
<html lang="ja">







<head>
  <title>Dev UI - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com https://ajax.googleapis.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />

  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/guides/dev-ui" />
  <meta property="og:title" content="Dev UI" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/dev-ui">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/guides/dev-ui">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUSとは何か?</a></li>
          <li><a href="/developer-joy" class="">開発者満足</a></li>
          <li><a href="/performance" class="">パフォーマンス</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">標準</a></li>
          <li><a href="/versatility" class="">多用途性</a></li>
          <li><a href="/container-first" class="">コンテナ・ファースト</a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入門</a></li>
          <li><a href="/guides" class="active">ドキュメント</a></li>
          <li><a href="/userstories/" class="">ユーザーストーリー</a></li>  
          <li><a href="/qtips" class="">"Q" Tipsビデオ</a></li>          
          <li><a href="/books" class="">書籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">エクステンションを探す</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">エクステンションの使用</a></li>
          <li><a href="/guides/writing-extensions" class="">エクステンションの作成</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">エクステンションの共有</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">サポート</a></li>
          <li><a href="/blog" class="">ブログ</a></li>
          <li><a href="/discussion" class="">ディスカッション</a></li>
          <li><a href="/working-groups" class="">ワーキンググループ</a></li>
          <li><a href="/insights" class="">ポッドキャスト</a></li>
          <li><a href="/events" class="">イベント</a></li>
          <li><a href="/newsletter" class="">ニュースレター</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ロードマップ</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">コーディングを開始</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/guides/dev-ui" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/guides/dev-ui">ポルトガル（BR）</a></li>
          <li><a href="https://es.quarkus.io/guides/dev-ui">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/guides/dev-ui">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/guides/dev-ui">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>バージョン:</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" selected>3.31.3 - Latest</option>
        
        
        
        <option value="3.27" >3.27</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <a class="editlink" href="https://github.com/quarkusio/quarkus/edit/main/docs/src/main/asciidoc/dev-ui.adoc">このページを編集</a>
      
      <h1 class="text-caps">Dev UI </h1>
      <div class="sect1">
<h2 id="general-overview"><a class="anchor" href="#general-overview"></a>General overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus Dev UI is a developer-friendly user interface that comes to life when you run your application in development mode (<code>./mvnw quarkus:dev</code>).
It serves as a powerful portal for exploring, debugging, and interacting with your application - all while it&#8217;s running - with zero code changes or restarts.</p>
</div>
<div class="sect2">
<h3 id="what-is-dev-ui"><a class="anchor" href="#what-is-dev-ui"></a>What is Dev UI?</h3>
<div class="paragraph">
<p>The Dev UI is designed to boost developer joy by making Quarkus' inner workings observable and extensible. It offers:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Insight into available extensions and their capabilities</p>
</li>
<li>
<p>Access to runtime metadata and tools</p>
</li>
<li>
<p>A responsive frontend that integrates tightly with hot reload</p>
</li>
<li>
<p>A flexible way for extensions to expose configuration, documentation, and actions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Whether you&#8217;re a developer exploring your project or an extension author enhancing the experience, Dev UI is your entry point.</p>
</div>
</div>
<div class="sect2">
<h3 id="layout-at-a-glance"><a class="anchor" href="#layout-at-a-glance"></a>Layout at a Glance</h3>
<div class="paragraph">
<p>When running in dev mode, Quarkus provides a dynamic, modular web interface accessible at <a href="http://localhost:8080/q/dev-ui" class="bare">http://localhost:8080/q/dev-ui</a>. You can also click <code>d</code> in the console log, that will open your default browser at Dev UI.</p>
</div>
<div class="paragraph">
<p>The basic layout has the following parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Menu</p>
</li>
<li>
<p>Page</p>
</li>
<li>
<p>Footer</p>
</li>
<li>
<p>Card</p>
</li>
<li>
<p>Settings</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is a visual overview of the layout:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/guides/images/devui_layout_light.png" alt="Dev UI Layout" width="100%">
</div>
</div>
<div class="sect3">
<h4 id="menu-left-sidebar"><a class="anchor" href="#menu-left-sidebar"></a>Menu (Left Sidebar)</h4>
<div class="paragraph">
<p>The <strong>menu</strong> on the left-hand side provides structured access to built-in pages:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Menu Item</th>
<th class="tableblock halign-left valign-top">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Extensions</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays all Quarkus extensions (used by the current application) as cards. Each card may provide configuration, documentation, or tools.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows all configuration options (with current, default, and documentation info). Includes a config editor (text &amp; form modes).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Workspace</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A project file browser. Files can be opened and edited inline. Extensions may add workspace actions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Endpoints</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists all HTTP endpoints (REST, GraphQL, internal, etc.). Helps you inspect available routes in your app.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Continuous Testing</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Monitors and controls continuous testing. View test results, rerun tests, or toggle testing state.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dev Services</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Displays information about automatically started services (e.g., databases, Kafka brokers).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Build Metrics</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides performance metrics from the last build and reload cycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Readme</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Renders your project&#8217;s <code>README.md</code>, if available. Useful for onboarding or project context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Dependencies</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows all runtime and deployment dependencies with dependency path exploration and search functionality.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can drag a page from an extension card into the menu to <strong>bookmark</strong> it for quick access.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="page-area-main-content"><a class="anchor" href="#page-area-main-content"></a>Page Area (Main Content)</h4>
<div class="paragraph">
<p>The <strong>main panel</strong> displays content for the selected menu item or extension. Depending on the selected page, it may render:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Extension-specific tools and UIs (e.g., GraphQL UI, Swagger UI)</p>
</li>
<li>
<p>JSON viewers, code editors, or metrics charts</p>
</li>
<li>
<p>Interactive actions (e.g., buttons, toggles)</p>
</li>
<li>
<p>Documentation and links</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pages are modular and dynamically loaded. Extensions can contribute custom pages written using Web Components and interact with the backend via JSON-RPC.</p>
</div>
</div>
<div class="sect3">
<h4 id="footer"><a class="anchor" href="#footer"></a>Footer</h4>
<div class="paragraph">
<p>The <strong>footer</strong> at the bottom is primarily used to display logs while the application runs in dev mode.</p>
</div>
<div class="paragraph">
<p>By default, the <code>Server</code> log (standard Quarkus log output) is selected, but additional log tabs may appear depending on which extensions are present. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>HTTP</code>, <code>GraphQL</code>,<code>Scheduler</code>, etc., may appear when relevant extensions are in use</p>
</li>
<li>
<p><code>Dev Services</code> log output from started services like databases, Kafka brokers, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This live log view helps developers track behavior, debug issues, and monitor Dev Services without switching to the terminal.</p>
</div>
</div>
<div class="sect3">
<h4 id="cards"><a class="anchor" href="#cards"></a>Cards</h4>
<div class="paragraph">
<p>Each Quarkus extension that contributes to Dev UI is represented as a card in the <strong>Extensions</strong> page. These cards provide quick access to features, documentation, configuration, and runtime tools offered by the extension.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/guides/images/devui_card_light.png" alt="Extension Card Anatomy" width="400">
</div>
</div>
<div class="paragraph">
<p>Each card may include the following elements:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Logo</strong> <em>(optional)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An optional logo representing the extension or its domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Title</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the extension as recognized in the Dev UI.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Favorite</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marks the card as a favorite. Favorited cards are always displayed first in the Extensions view for easier access.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Guide</strong> <em>(optional)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Links to the online Quarkus guide for the extension (if available).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A short explanation of what the extension does or enables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Page Links</strong> <em>(optional)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interactive entries that navigate to custom pages contributed by the extension. A page link can also optionally contain a label that we discuss later.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Configuration</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A shortcut to the configuration editor filtered to settings relevant to this extension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Underlying Library</strong> <em>(optional)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the version of the main library powering the extension (if any).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>More Details</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opens a dialog with all information</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Clicking a page link inside a card navigates to a dedicated UI page for that feature. These pages can be bookmarked into the menu for quick access.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Extensions are free to customize their cards and add interactive behaviors based on what they provide at runtime.</p>
</div>
</div>
<div class="sect3">
<h4 id="settings"><a class="anchor" href="#settings"></a>Settings</h4>
<div class="imageblock">
<div class="content">
<img src="/guides/images/devui_layout_settings.png" alt="Dev UI Settings">
</div>
</div>
<div class="paragraph">
<p>The settings page is a dialog that contains settings for Dev UI:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Theme (Change between Desktop/Light/Dark</p>
</li>
<li>
<p>Locale (Change to another supported language/locale)</p>
</li>
<li>
<p>Bugs / Feature requests</p>
</li>
<li>
<p>Storage (Manage local browser storage used in Dev UI)</p>
</li>
<li>
<p>Dev MCP (Enable your Dev Mode to expose a MCP Server)</p>
</li>
<li>
<p>&#8230;&#8203; and more&#8230;&#8203; (Other extensions might add to this)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-for-extension-developers"><a class="anchor" href="#guide-for-extension-developers"></a>Guide for Extension Developers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus extensions can enhance the developer experience by contributing to the Dev UI. The rest of this guide outlines how to integrate your extension into the Dev UI, covering metadata configuration, adding pages to the card, menu, and footer, and best practices for dynamic content.</p>
</div>
<div class="sect2">
<h3 id="quarkus-extension-yaml"><a class="anchor" href="#quarkus-extension-yaml"></a>quarkus-extension.yaml</h3>
<div class="paragraph">
<p>To have your extension appear in the Dev UI, ensure the <code>quarkus-extension.yaml</code> file is present in the <code>src/main/resources/META-INF</code> directory of your extension&#8217;s <strong>runtime</strong> module. This file provides metadata that the Dev UI uses to generate the extension card.</p>
</div>
<div class="paragraph">
<p>例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">name: "Hibernate ORM"
description: "Define your persistent model with Hibernate ORM and Jakarta Persistence"
guide: "https://quarkus.io/guides/hibernate-orm"
metadata:
  categories:
    - "data"
  config:
    - "quarkus.hibernate-orm"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Key fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: Displayed as the extension title in the Dev UI card.</p>
</li>
<li>
<p><code>description</code>: Shown as the card&#8217;s summary.</p>
</li>
<li>
<p><code>guide</code>: URL to the extension&#8217;s guide; used to render the guide icon on the card.</p>
</li>
<li>
<p><code>metadata.config</code>: Filters configuration keys shown when clicking "Configuration" on the card.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-pages-to-the-dev-ui"><a class="anchor" href="#adding-pages-to-the-dev-ui"></a>Adding Pages to the Dev UI</h3>
<div class="paragraph">
<p>Your extension needs to have the following dependency in it&#8217;s deployment module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-devui-deployment-spi&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can be transitivly or directly and is only needed in deployment module. This gives your processor access to the relative Build Items.</p>
</div>
<div class="paragraph">
<p>Extensions can contribute interactive pages to the Dev UI in the following areas:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Card</strong>: Add links to pages directly on the extension card.</p>
</li>
<li>
<p><strong>Footer</strong>: Add tabs to the footer for logs or other runtime information.</p>
</li>
<li>
<p><strong>Menu</strong>: Add pages to the Dev UI&#8217;s left-hand menu.</p>
</li>
<li>
<p><strong>Settings</strong>: Add a tab to the settings dialog</p>
</li>
<li>
<p><strong>Unlisted</strong>: Pages that are not listed anywhere above, but are added to the router and can be linked to.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="card"><a class="anchor" href="#card"></a>Card</h4>
<div class="paragraph">
<p>The most common way to contribute to Dev UI is via Pages from your extension card in the Extension page.</p>
</div>
<div class="paragraph">
<p>To add links to your extension&#8217;s card, produce a <code>CardPageBuildItem</code> in a <code>@BuildStep</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class) <i class="conum" data-value="1"></i><b>(1)</b>
    void createJokesPageOnCard(BuildProducer&lt;CardPageBuildItem&gt; cardsProducer) {

        CardPageBuildItem cardPageBuildItem = new CardPageBuildItem(); <i class="conum" data-value="2"></i><b>(2)</b>
        cardPageBuildItem.setLogo("clown.svg", "clown.svg"); <i class="conum" data-value="3"></i><b>(3)</b>

        cardPageBuildItem.addPage(Page.webComponentPageBuilder() <i class="conum" data-value="4"></i><b>(4)</b>
                .title("Joke List") <i class="conum" data-value="5"></i><b>(5)</b>
                .icon("font-awesome-solid:cubes") <i class="conum" data-value="6"></i><b>(6)</b>
                .componentLink("qwc-jokes-list.js")); <i class="conum" data-value="7"></i><b>(7)</b>

        cardsProducer.produce(cardPageBuildItem);
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>カードに何かを追加するには、 <code>CardPageBuildItem</code> を返す/生成する必要があります。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>You can optionally add a logo (dark and light mode) in <code>deployment/src/main/resources/dev-ui/</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>To add a link on the card, you can use the <code>addPage</code> method, as all links go to a "page". <code>Page</code> has some builders to assist with building a page. The most common one is the <code>webComponentPageBuilder</code> - but we will discuss some others later.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>You can (optionally) add the title, else it will be derived from the component link.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>You can add an icon. All free <a href="https://fontawesome.com/icons">font-awesome</a> icons are available.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Add the link to the web component source (<code>js</code>) file in <code>deployment/src/main/resources/dev-ui/</code>. This has to take the format of qwc-extensionname-pagename.js</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Later we will discuss how to create this web component page.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">アイコンに関する注意事項</div>
<a href="https://fontawesome.com/search?o=r&amp;m=free">Font awesome</a> でアイコンを見つけた場合は、次のようにマッピングできます。たとえば、 <code>&lt;i class="fa-solid fa-house"&gt;&lt;/i&gt;</code> は <code>font-awesome-solid:house</code> にマッピングされるため、 <code>fa</code> は <code>font-awesome</code> になり、アイコン名から <code>fa-</code> が削除されます。
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="optional-library-version"><a class="anchor" href="#optional-library-version"></a>Optional: Library Version</h5>
<div class="paragraph">
<p>You can add a underlying library badge on the card. This is usefull for cases where the extension is exposing a well known library. As example, the <code>quarkus-hibernate-orm</code> extension provides access to Hibernate. Showing the underlying Hibernate details could be useful information for the user:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/guides/images/devui_hibernate_card_light.png" alt="Dev UI Layout">
</div>
</div>
<div class="paragraph">
<p>This can be done using the <code>addLibraryVersion</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addLibraryVersion("org.hibernate.orm", "hibernate-core", "Hibernate", "https://hibernate.org/orm/");</code></pre>
</div>
</div>
<div class="paragraph">
<p>You provide the groupId and artifactId (so that we can look up the version) and a Name and optionally a url.</p>
</div>
</div>
<div class="sect4">
<h5 id="optional-build-time-data"><a class="anchor" href="#optional-build-time-data"></a>Optional: Build Time Data</h5>
<div class="paragraph">
<p>You can pass data gathered during build to the Page (js):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addBuildTimeData("jokes", jokesBuildItem.getJokes());</code></pre>
</div>
</div>
<div class="paragraph">
<p>ページに必要なことがビルド時にわかっているすべてのデータに対して、これらのキーと値のペアを複数追加できます。</p>
</div>
<div class="paragraph">
<p>The key will be scoped automatically, so you do not have to prefix any namespace. Later we will discuss how to access this data in the webcomponent (page).</p>
</div>
</div>
<div class="sect4">
<h5 id="optional-labels"><a class="anchor" href="#optional-labels"></a>Optional: Labels</h5>
<div class="paragraph">
<p>You can add an optional label to the link in the card using one of the builder methods on the page builder. These labels can be</p>
</div>
<div class="ulist">
<ul>
<li>
<p>静的 (ビルド時に既知のラベル) <code>.staticLabel("staticLabelValue")</code></p>
</li>
<li>
<p>動的 (実行時にロード) <code>.dynamicLabelJsonRPCMethodName("yourJsonRPCMethodName")</code></p>
</li>
<li>
<p>ストリーミング (実行時に更新される値の継続的なストリーミング)値を継続的にストリーミング <code>.streamingLabelJsonRPCMethodName("yourJsonRPCMethodName")</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For dynamic and streaming labels, the method name is the name of the JsonRPC method, that we will discuss later.</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-extension-card-label-v2.png" alt="Dev UI card labels">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="footer-2"><a class="anchor" href="#footer-2"></a>Footer</h4>
<div class="paragraph">
<p>Apart from adding a card and a page, extensions can add a tab to the footer. This is useful for things that are happening continuously. A page will disconnect from the DOM (and maybe the backend) when navigating away from that page (or webcomponent), and a log in the footer will be permanently connected to the DOM, as it&#8217;s always part of the view (or app)</p>
</div>
<div class="paragraph">
<p>There are 2 ways to add things to the footer. There easiest is to just expose the log in a BuildItem. Here we expect either a supplier (function) that return a <code>Flow.Publisher&lt;String&gt;</code> or a RuntimeValue&lt;SubmissionPublisher&lt;String&gt;&gt;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@BuildStep(onlyIf = { IsLocalDevelopment.class }) <i class="conum" data-value="1"></i><b>(1)</b>
public void createFooterLog(BuildProducer&lt;FooterLogBuildItem&gt; footerLogProducer){
    footerLogProducer.produce(new FooterLogBuildItem("My Extension Log", () -&gt; {<i class="conum" data-value="2"></i><b>(2)</b>
        return createLogPublisher();<i class="conum" data-value="3"></i><b>(3)</b>
    }));
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>You must return/produce a <code>FooterLogBuildItem</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here return a Flow.Publisher&lt;String&gt; that will stream the log</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RuntimeValue is useful if the log is only available at runtime. If you can get the log in the deployment module you can use the supplier.</p>
</div>
<div class="paragraph">
<p>Or you can take full control of the UI and produce a <code>FooterPageBuildItem</code> and provide a custom web component in a js file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class)<i class="conum" data-value="1"></i><b>(1)</b>
    void createJokesLog(BuildProducer&lt;FooterPageBuildItem&gt; footerProducer) {

            FooterPageBuildItem footerPageBuildItem = new FooterPageBuildItem();<i class="conum" data-value="2"></i><b>(2)</b>

            footerPageBuildItem.addPage(Page.webComponentPageBuilder()<i class="conum" data-value="3"></i><b>(3)</b>
                    .title("Joke Log")<i class="conum" data-value="4"></i><b>(4)</b>
                    .icon("font-awesome-regular:face-grin-tongue-wink")<i class="conum" data-value="5"></i><b>(5)</b>
                    .componentLink("qwc-jokes-log.js"));<i class="conum" data-value="6"></i><b>(6)</b>

            footerProducer.produce(footerPageBuildItem);
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To add anything on the footer, you must return/produce a <code>FooterPageBuildItem</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To add a tab in the footer, you can use the <code>addPage</code> method, as all tabs renders a "page". <code>Page</code> has some builders to assist with building a page. The most common one is the <code>webComponentPageBuilder</code> - but we will discuss some others later.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>You can (optionally) add the title, else it will be derived from the component link.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>アイコンを追加できます。無料の font-awesome アイコンが利用可能です。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Add the link to the web component source (<code>js</code>) file in <code>deployment/src/main/resources/dev-ui/</code>. This has to take the format of qwc-extensionname-pagename.js</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="optional-build-time-data-2"><a class="anchor" href="#optional-build-time-data-2"></a>Optional: Build Time Data</h5>
<div class="paragraph">
<p>You can pass data gathered during build to the Page (js):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">footerPageBuildItem.addBuildTimeData("jokes", jokesBuildItem.getJokes());</code></pre>
</div>
</div>
<div class="paragraph">
<p>ページに必要なことがビルド時にわかっているすべてのデータに対して、これらのキーと値のペアを複数追加できます。</p>
</div>
<div class="paragraph">
<p>The key will be scoped automatically, so you do not have to prefix any namespace. Later we will discuss how to access this data in the webcomponent (page).</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="menu"><a class="anchor" href="#menu"></a>Menu</h4>
<div class="paragraph">
<p>To add a page to the Dev UI menu, produce a <code>MenuPageBuildItem</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class) <i class="conum" data-value="1"></i><b>(1)</b>
    void createJokesMenu(BuildProducer&lt;MenuPageBuildItem&gt; menuProducer) {

        MenuPageBuildItem menuPageBuildItem = new MenuPageBuildItem();  <i class="conum" data-value="2"></i><b>(2)</b>

        menuPageBuildItem.addPage(Page.webComponentPageBuilder() <i class="conum" data-value="3"></i><b>(3)</b>
                .title("One Joke") <i class="conum" data-value="4"></i><b>(4)</b>
                .icon("font-awesome-regular:face-grin-tongue-wink") <i class="conum" data-value="5"></i><b>(5)</b>
                .componentLink("qwc-jokes-menu.js")); <i class="conum" data-value="6"></i><b>(6)</b>

        menuProducer.produce(menuPageBuildItem);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To add anything on the menu, you must return/produce a <code>MenuPageBuildItem</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To add a link in the menu, you can use the <code>addPage</code> method, as all links go to a "page". <code>Page</code> has some builders to assist with building a page. The most common one is the <code>webComponentPageBuilder</code> - but we will discuss some others later.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>You can (optionally) add the title, else it will be derived from the component link.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>アイコンを追加できます。無料の font-awesome アイコンが利用可能です。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Add the link to the web component source (<code>js</code>) file in <code>deployment/src/main/resources/dev-ui/</code>. This has to take the format of qwc-extensionname-pagename.js</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This page will appear alongside built-in menu items like "Configuration" or "Workspace."</p>
</div>
<div class="sect4">
<h5 id="optional-build-time-data-3"><a class="anchor" href="#optional-build-time-data-3"></a>Optional: Build Time Data</h5>
<div class="paragraph">
<p>You can pass data gathered during build to the Page (js):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">menuPageBuildItem.addBuildTimeData("jokes", jokesBuildItem.getJokes());</code></pre>
</div>
</div>
<div class="paragraph">
<p>ページに必要なことがビルド時にわかっているすべてのデータに対して、これらのキーと値のペアを複数追加できます。</p>
</div>
<div class="paragraph">
<p>The key will be scoped automatically, so you do not have to prefix any namespace. Later we will discuss how to access this data in the webcomponent (page).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/guides/images/devui_jokes_light.png" alt="Dev UI Jokes" width="100%">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="settings-2"><a class="anchor" href="#settings-2"></a>Settings</h4>
<div class="paragraph">
<p>To add a tab to the Dev UI settings dialog, produce a <code>SettingPageBuildItem</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class) <i class="conum" data-value="1"></i><b>(1)</b>
    void createMCPSettingsTab(BuildProducer&lt;SettingPageBuildItem&gt; settingPageProducer) {

        SettingPageBuildItem mcpSettingTab = new SettingPageBuildItem();<i class="conum" data-value="2"></i><b>(2)</b>

        mcpSettingTab.addPage(Page.webComponentPageBuilder() <i class="conum" data-value="3"></i><b>(3)</b>
                .title("Dev MCP")<i class="conum" data-value="4"></i><b>(4)</b>
                .icon("font-awesome-solid:robot") <i class="conum" data-value="5"></i><b>(5)</b>
                .componentLink("qwc-dev-mcp-setting.js")); <i class="conum" data-value="6"></i><b>(6)</b>
        settingPageProducer.produce(mcpSettingTab);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To add anything on the settings tab, you must return/produce a <code>SettingPageBuildItem</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To add a tab in the setting dialog, you can use the <code>addPage</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>You can (optionally) add the title, else it will be derived from the component link.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>アイコンを追加できます。無料の font-awesome アイコンが利用可能です。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Add the link to the web component source (<code>js</code>) file in <code>deployment/src/main/resources/dev-ui/</code>. This has to take the format of qwc-extensionname-pagename.js</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This page will will be loaded as the content for that tab in the settings dialog</p>
</div>
<div class="sect4">
<h5 id="optional-build-time-data-4"><a class="anchor" href="#optional-build-time-data-4"></a>Optional: Build Time Data</h5>
<div class="paragraph">
<p>You can pass data gathered during build to the Page (js):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">mcpSettingTab.addBuildTimeData("key", values);</code></pre>
</div>
</div>
<div class="paragraph">
<p>ページに必要なことがビルド時にわかっているすべてのデータに対して、これらのキーと値のペアを複数追加できます。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="unlisted-page"><a class="anchor" href="#unlisted-page"></a>Unlisted Page</h4>
<div class="paragraph">
<p>Lastly, you can add pages that is not listed anywhere, but added to the Router, and can be navigated to. This is usefull if you are building very complex pages that navigates to more pages.</p>
</div>
<div class="paragraph">
<p>To do this, produce a <code>UnlistedPageBuildItem</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class) <i class="conum" data-value="1"></i><b>(1)</b>
    void createMCPUnlistedPages(BuildProducer&lt;UnlistedPageBuildItem&gt; unlistedPageProducer) {

        UnlistedPageBuildItem mcpOtherPages = new UnlistedPageBuildItem(); <i class="conum" data-value="2"></i><b>(2)</b>

        mcpOtherPages.addPage(Page.webComponentPageBuilder() <i class="conum" data-value="3"></i><b>(3)</b>
                .title("Tools") <i class="conum" data-value="4"></i><b>(4)</b>
                .icon("font-awesome-solid:screwdriver-wrench") <i class="conum" data-value="5"></i><b>(5)</b>
                .componentLink("qwc-dev-mcp-tools.js"));  <i class="conum" data-value="6"></i><b>(6)</b>
        unlistedPageProducer.produce(mcpOtherPages);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To add an unlisted page, you must return/produce a <code>UnlistedPageBuildItem</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use the <code>addPage</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>You can (optionally) add the title, else it will be derived from the component link.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>アイコンを追加できます。無料の font-awesome アイコンが利用可能です。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Add the link to the web component source (<code>js</code>) file in <code>deployment/src/main/resources/dev-ui/</code>. This has to take the format of qwc-extensionname-pagename.js</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This page will will be registered to the Router and can be nagigated to by a normal link or using the Router:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { RouterController } from 'router-controller'; <i class="conum" data-value="1"></i><b>(1)</b>

// ...

routerController = new RouterController(this); <i class="conum" data-value="2"></i><b>(2)</b>

// ...

let unlistedPages = this.routerController.getPagesForCurrentNamespace(); <i class="conum" data-value="3"></i><b>(3)</b>
// or if you not in your own space
// let unlistedPages = this.routerController.getPagesForNamespace("your namespace"); <i class="conum" data-value="4"></i><b>(4)</b>

// ... loop over page
this.routerController.go(page); <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Import the RouterController</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a new instance passing in this to scope it to your namespace</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Get all pages of your namespace</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Or if you are on another page (not one of yours) you can get the pages for your namespace</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Then you can loop over the pages and build the links/buttons. To actions the navigation your use the go method</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="building-web-components"><a class="anchor" href="#building-web-components"></a>Building Web Components</h4>
<div class="paragraph">
<p>Dev UI は、これらの Web コンポーネントの構築を容易にするために <a href="https://lit.dev/">Lit</a> を使用します。Web コンポーネントと Lit の詳細は、以下を参照してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.webcomponents.org/introduction">Web コンポーネントスタートガイド</a></p>
</li>
<li>
<p><a href="https://lit.dev/docs/">Lit ドキュメント</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most of the JavaScript code in Dev UI is written using Lit, so look for the available operations in the Lit documentation. For instance, for each cycle can be done like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">render() {
  return html`
    &lt;ul&gt;
      ${this.colors.map((color) =&gt;
        html`&lt;li style="color: ${color}"&gt;${color}&lt;/li&gt;`
      )}
    &lt;/ul&gt;
  `;
}</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="basic-structure-of-a-web-component-page"><a class="anchor" href="#basic-structure-of-a-web-component-page"></a>Web コンポーネントページの基本構造</h5>
<div class="paragraph">
<p>Web コンポーネントページは、新しい HTML 要素を作成する JavaScript クラスです。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { LitElement, html, css} from 'lit'; <i class="conum" data-value="1"></i><b>(1)</b>
import { jokes } from 'build-time-data'; <i class="conum" data-value="2"></i><b>(2)</b>

export class QwcJokesList extends LitElement { <i class="conum" data-value="3"></i><b>(3)</b>

    static styles = css` <i class="conum" data-value="4"></i><b>(4)</b>
        .buttonBar {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            align-items: center;
            width: 90%;
            color: var(--lumo-primary-text-color); <i class="conum" data-value="5"></i><b>(5)</b>
        }

        .buttonBar .button {
            width: 100%;
        }
        `;

    static properties = {
        _jokes: {state: true},
        _numberOfJokes: {state: true},
        _message: {state: true},
        _isStreaming: {state: true} <i class="conum" data-value="6"></i><b>(6)</b>
    };

    constructor() { <i class="conum" data-value="7"></i><b>(7)</b>
        super();
        this._jokes = [];
        this._numberOfJokes = 0;
        this._isStreaming = false;
    }

    connectedCallback() { <i class="conum" data-value="8"></i><b>(8)</b>
        super.connectedCallback();
        jokes.forEach((joke) =&gt;{
            var item = this._toJokeItem(joke);
            this._jokes.push(item);
        });
        this._numberOfJokes = this._jokes.length;
    }

    disconnectedCallback() { <i class="conum" data-value="9"></i><b>(9)</b>
        if(this._isStreaming){
            this._observer.cancel();
        }
        super.disconnectedCallback()
    }

    render() { <i class="conum" data-value="10"></i><b>(10)</b>
         return html`&lt;h3&gt;Here are ${this._numberOfJokes} jokes&lt;/h3&gt; <i class="conum" data-value="11"></i><b>(11)</b>
            &lt;vaadin-message-list .items="${this._jokes}"&gt;&lt;/vaadin-message-list&gt;

            ${this._renderLoadingMessage()}
            &lt;div class="buttonBar"&gt;
                &lt;vaadin-button class="button" theme="success" @click=${() =&gt; this._fetchMoreJokes()}&gt;
                    &lt;vaadin-icon icon="font-awesome-solid:comment"&gt;&lt;/vaadin-icon&gt; Tell me more jokes
                &lt;/vaadin-button&gt;
                &lt;vaadin-checkbox class="button" label="Stream new jokes continuously" @input=${(e) =&gt;this._startStopStreaming(e)}&gt;&lt;/vaadin-checkbox&gt;
            &lt;/div&gt;
            `;
    }

    // ... more private methods
}
customElements.define('qwc-jokes-list', QwcJokesList); <i class="conum" data-value="12"></i><b>(12)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>他のライブラリーからクラスや関数をインポートできます。
その場合、 <code>Lit</code> の <code>LitElement</code> クラスと <code>html</code> および <code>css</code> 関数を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>ビルド・ステップで定義されたビルド・タイム・データは、キーを使用して <code>build-time-data</code> から常にインポートすることができます。ビルド・ステップで追加されたすべてのキーが使用可能になります。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>コンポーネントの名前は、Qwc (Quarkus Web Component の略)、エクステンション名、ページタイトルの順に、すべて Camel Case で連結した形式にする必要があります。これは、前述のファイル名の形式とも一致します。コンポーネントは <code>LitComponent</code> を拡張する必要もあります。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>CSS スタイルは <code>css</code> 関数を使用して追加でき、これらのスタイルはコンポーネントにのみ適用されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>スタイルは、グローバルに定義された CSS 変数を参照して、特にライトモードとダークモードの切り替え時にページが正しくレンダリングされるようにすることができます。すべての CSS 変数は、Vaadin のドキュメント ((<a href="https://vaadin.com/docs/latest/styling/lumo/lumo-style-properties/color">カラー</a>、 <a href="https://vaadin.com/docs/latest/styling/lumo/lumo-style-properties/size-space">・サイズと間隔</a>など) で確認できます。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Properties can be added. Use <code>_</code> in front of a property if that property is private. Properties are usually injected in the HTML template, and can be defined as having state, meaning that if that property changes, the component (or part of it) should re-render. In this case, the jokes are Build time data that we gathered while building.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>コンストラクター (オプション) は必ず最初に <code>super</code> を呼び出し、次にそのプロパティーのデフォルト値を設定する必要があります。</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><code>connectedCallback</code> is a method from Lit that gets called when this component are connected to the DOM. This is a good place to do 'page load' type things, like fetching data from the backend (we will discuss this later)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><code>disconnectedCallback</code> us a method from Lit that gets called when this component are disconnected from the DOM. This is a good place to do any clean up.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><code>render</code> is a method from Lit that will be called to render the page. In this method, you return the markup of the page you want.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>You can use the <code>html</code> function from <code>Lit</code>, which gives you a template language to output the HTML you want. Once the template is created, you must only set or change the properties to re-render the page content. Read more about <a href="https://lit.dev/docs/components/rendering/">Lit html</a></td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Web コンポーネントは、必ず一意のタグを持つカスタム要素として登録する必要があります。その場合のタグは、ファイル名と同じ形式 (<code>qwc</code> ダッシュ <code>エクステンション名</code> ダッシュ <code>ページタイトル</code>) である必要があります。</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="hot-reload"><a class="anchor" href="#hot-reload"></a>ホットリロード</h6>
<div class="paragraph">
<p>ホットリロードの発生時に、画面を自動的に更新できます。そのためには、Webcomponent が拡張する <code>LitElement</code> を <code>QwcHotReloadElement</code> に置き換えます。</p>
</div>
<div class="paragraph">
<p><code>QwcHotReloadElement</code> は <code>LitElement</code> を拡張するため、コンポーネントは変わらず Lit Element です。</p>
</div>
<div class="paragraph">
<p><code>QwcHotReloadElement</code> を拡張する場合は、 <code>hotReload</code> メソッドを使用する必要があります (Lit の <code>render</code> メソッドも提供する必要があります)。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { QwcHotReloadElement, html, css} from 'qwc-hot-reload-element';

// ...

export class QwcMyExtensionPage extends QwcHotReloadElement {

    render(){
        // ...
    }

    hotReload(){
        // ..
    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="add-i18n-to-your-pages"><a class="anchor" href="#add-i18n-to-your-pages"></a>Add i18n to your pages</h5>
<div class="paragraph">
<p>Quarkus Dev UI supports full internationalization (i18n).
To enable this in your extension, you must externalize all user-visible text into translation files.</p>
</div>
<div class="paragraph">
<p>All translation files must be placed under:</p>
</div>
<div class="paragraph">
<p><code>&lt;extension&gt;/deployment/src/main/resources/dev-ui/i18n/</code></p>
</div>
<div class="sect5">
<h6 id="translation-file-layout"><a class="anchor" href="#translation-file-layout"></a>Translation file layout</h6>
<div class="paragraph">
<p>Each translation file is a plain JavaScript module following one of these naming patterns:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>languagecode.js</code></p>
</li>
<li>
<p><code>languagecode-COUNTRYCODE.js</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The base <strong>language</strong> file contains translations common to all dialects.
A <strong>country-specific</strong> file contains only the keys that differ from the base.</p>
</div>
<div class="paragraph">
<p>For example, English:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>en.js</code> — base English</p>
</li>
<li>
<p><code>en-US.js</code> — American English (only overrides)</p>
</li>
<li>
<p><code>en-GB.js</code> — British English (only overrides)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>French follows the same pattern:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fr.js</code> — base French</p>
</li>
<li>
<p><code>fr-FR.js</code> — France-specific</p>
</li>
<li>
<p><code>fr-CA.js</code> — Canada-specific</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A list of locale codes can be found here: <a href="https://simplelocalize.io/data/locales/" class="bare">https://simplelocalize.io/data/locales/</a></p>
</div>
<div class="paragraph">
<p>Quarkus Dev UI defaults to English.
If the user’s browser locale is supported, that locale becomes the active default.
Users may also manually change the locale from the Dev UI settings dialog.</p>
</div>
</div>
<div class="sect5">
<h6 id="translation-file-format"><a class="anchor" href="#translation-file-format"></a>Translation file format</h6>
<div class="paragraph">
<p>Each translation file must export a constant named <code>templates</code> containing key–value pairs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">export const templates = {
    'myextension-some-key': 'Some translated value'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>All keys must follow this naming convention:</p>
</div>
<div class="paragraph">
<p><code>&lt;extensionArtifactId&gt;-&lt;id&gt;</code></p>
</div>
<div class="paragraph">
<p>where <code>&lt;extensionArtifactId&gt;</code> is taken from the <code>&lt;artifactId&gt;</code> of your extension’s runtime module.</p>
</div>
<div class="paragraph">
<p>Example (Agroal):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>All translation keys must therefore start with:</p>
</div>
<div class="paragraph">
<p><code>quarkus-agroal-</code></p>
</div>
<div class="paragraph">
<p><strong>Required keys</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Metadata</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To translate the extension description (taken from the &lt;description&gt; element of your runtime POM), define:</p>
</div>
<div class="paragraph">
<p><code>&lt;extensionArtifactId&gt;-meta-description</code></p>
</div>
<div class="paragraph">
<p>例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">'quarkus-agroal-meta-description': 'JDBC Datasources and connection pooling'</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Page titles</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Each Dev UI page (created with CardPageBuildItem) needs a translation key for its title.</p>
</div>
<div class="paragraph">
<p>For a page titled "Database view" in Agroal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addPage(Page.webComponentPageBuilder()
        .icon("font-awesome-solid:database")
        .title("Database view")
        .componentLink("qwc-agroal-datasource.js"));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The translation key becomes <code>quarkus-agroal-database_view</code>.
(for the title, spaces replaced with underscores, lower-case.)</p>
</div>
<div class="paragraph">
<p>Example entry:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">'quarkus-agroal-database_view': 'Database view'</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>General text</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>All other user-visible strings in your JS code should also be externalized.</p>
</div>
<div class="paragraph">
<p>例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { str } from '@lit/localize';

export const templates = {
    // Metadata
    'quarkus-agroal-meta-description': 'JDBC Datasources and connection pooling',

    // Pages
    'quarkus-agroal-database_view': 'Database view',

    // General
    'quarkus-agroal-fetching-data-sources': 'Fetching data sources...'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Updating your JavaScript pages</strong></p>
</div>
<div class="paragraph">
<p>To use translations inside your Lit components, update your code as follows.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Import the localization helpers</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { msg, str, updateWhenLocaleChanges } from 'localization';</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>msg: lookup a translation key</p>
</li>
<li>
<p>str: create dynamic strings with variables</p>
</li>
<li>
<p>updateWhenLocaleChanges: tells Lit to re-render automatically when language changes</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Register for locale changes</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Add the following in your constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">constructor() {
    super();
    updateWhenLocaleChanges(this);
}</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Replace inline text with translation lookups</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Before:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">return this._renderProgressBar('Fetching data sources...');</code></pre>
</div>
</div>
<div class="paragraph">
<p>After:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">return this._renderProgressBar(
    msg('Fetching data sources...', { id: 'quarkus-agroal-fetching-data-sources' })
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the key does not exist in the current locale, the fallback text ('Fetching data sources&#8230;&#8203;') is used automatically.</p>
</div>
<div class="paragraph">
<p>例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// en.js
'quarkus-agroal-fetching-data-sources': 'Fetching data sources...'

// fr.js
'quarkus-agroal-fetching-data-sources': 'Récupération des sources de données…'</code></pre>
</div>
</div>
<div class="paragraph">
<p>1.1 Using variables inside translations</p>
</div>
<div class="paragraph">
<p>For dynamic messages, wrap the default string in str:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">} catch (error) {
    notifier.showErrorMessage(
        msg(str`Failed to save file: ${error}`, { id: 'quarkus-agroal-file-save-failed' })
    );
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In translation files, use positional variables (${0}, ${1}, …):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">// en.js
'quarkus-agroal-file-save-failed': str`Failed to save file: ${0}`,

// fr.js
'quarkus-agroal-file-save-failed': str`Échec de l’enregistrement du fichier : ${0}`,</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="ui-components"><a class="anchor" href="#ui-components"></a>UI Components</h5>
<div class="sect5">
<h6 id="vaadin-web-components"><a class="anchor" href="#vaadin-web-components"></a>Vaadin Web Components</h6>
<div class="paragraph">
<p><a href="https://vaadin.com/docs/latest/components">Vaadin Web Components</a>: Dev UI makes extensive usage of Vaadin web components as UI Building blocks.</p>
</div>
</div>
<div class="sect5">
<h6 id="qomponent"><a class="anchor" href="#qomponent"></a>Qomponent</h6>
<div class="paragraph">
<p><a href="https://github.com/qomponent">Qomponent</a>: A few custom build compoments that can be used.</p>
</div>
<div class="paragraph">
<p>Currently the following UI component are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>qui-dot - Render dot files.</p>
</li>
<li>
<p>qui-code-block - Render code. (See below <strong>Code block</strong> section)</p>
</li>
<li>
<p>qui-directory-tree - Render a directory tree (like in the workspace).</p>
</li>
<li>
<p>qui-alert - Show an alert.</p>
</li>
<li>
<p>qui-card - Card component.</p>
</li>
<li>
<p>qui-switch - Switch button.</p>
</li>
<li>
<p>qui-badge - Badge component.</p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="code-block"><a class="anchor" href="#code-block"></a>Code block</h6>
<div class="paragraph">
<p>Creates a code block (containing marked up code). This could also be made editable.
This component use the above mentioned code block from qomponent, that is build with <a href="https://codemirror.net/">code-mirror</a>, but adds the automatic theme state when switching themes.</p>
</div>
<div class="paragraph">
<p>Code can be provided remotely (<code>src</code>) or as a property (<code>content</code>) or as a slotted value (example below).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import 'qui-themed-code-block';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;qui-themed-code-block mode="properties"&gt;
      &lt;slot&gt;
foo = bar
      &lt;/slot&gt;
&lt;/qui-themed-code-block&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Currently the following modes are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>xml</p>
</li>
<li>
<p>javascript</p>
</li>
<li>
<p>php</p>
</li>
<li>
<p>cpp</p>
</li>
<li>
<p>go</p>
</li>
<li>
<p>rust</p>
</li>
<li>
<p>python</p>
</li>
<li>
<p>json</p>
</li>
<li>
<p>java</p>
</li>
<li>
<p>sql</p>
</li>
<li>
<p>yaml</p>
</li>
<li>
<p>html</p>
</li>
<li>
<p>css</p>
</li>
<li>
<p>sass</p>
</li>
<li>
<p>less</p>
</li>
<li>
<p>markdown</p>
</li>
<li>
<p>asciidoc</p>
</li>
<li>
<p>properties</p>
</li>
<li>
<p>asciiArmor</p>
</li>
<li>
<p>powerShell</p>
</li>
<li>
<p>shell</p>
</li>
<li>
<p>protobuf</p>
</li>
<li>
<p>dockerFile</p>
</li>
<li>
<p>diff</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/qomponent/qui-code-block">@qomponent/qui-code-block</a> for more details.</p>
</div>
</div>
<div class="sect5">
<h6 id="ide-link"><a class="anchor" href="#ide-link"></a>IDE リンク</h6>
<div class="paragraph">
<p>ユーザーの IDE (IDE を検出できる場合) で開くことができるリソース (Java ソースファイルなど) へのリンクを作成します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import 'qui-ide-link';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;qui-ide-link title='Source full class name'
                        class='text-source'
                        fileName='${sourceClassNameFull}'
                        lineNumber='${sourceLineNumber}'&gt;[${sourceClassNameFull}]&lt;/qui-ide-link&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/quarkusio/quarkus/blob/b84f13bb1a94073900328829e0b2224903179baf/extensions/devui/resources/src/main/resources/dev-ui/qwc/qwc-server-log.js#L334">Example code</a></p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="using-internal-controllers"><a class="anchor" href="#using-internal-controllers"></a>内部コントローラーの使用</h5>
<div class="paragraph">
<p>Some <a href="https://github.com/quarkusio/quarkus/tree/main/extensions/devui/resources/src/main/resources/dev-ui/controller">internal controllers</a> are available to make certain things easier:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Notifier</p>
</li>
<li>
<p>Storage</p>
</li>
<li>
<p>Log</p>
</li>
<li>
<p>Router</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="notifier"><a class="anchor" href="#notifier"></a>Notifier</h6>
<div class="paragraph">
<p>これは容易にトーストメッセージを表示できる方法です。トーストは画面上に配置でき (デフォルトでは左下)、レベル (Info、Success、Warning、Error) を設定できます。いずれかのレベルを primary にすることで、目を引くトーストメッセージを作成できます。</p>
</div>
<div class="paragraph">
<p>See the source of this controller <a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/controller/notifier.js">here</a>.</p>
</div>
<div class="paragraph">
<p>使用例:</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-controller-notifier.gif" alt="Dev UI Notifier">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { notifier } from 'notifier';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;a @click=${() =&gt; this._info()}&gt;Info&lt;/a&gt;;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">_info(position = null){
    notifier.showInfoMessage("This is an information message", position);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>有効な位置はすべて <a href="https://vaadin.com/docs/latest/components/notification/#position">こちら</a> で確認できます。</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/phillip-kruger/quarkus-jokes/blob/f572ed6f949de0c0b8cbfa99d7389ab5168fea65/deployment/src/main/resources/dev-ui/qwc-jokes-vaadin.js#L374">サンプルコード</a></p>
</div>
</div>
<div class="sect5">
<h6 id="storage"><a class="anchor" href="#storage"></a>Storage</h6>
<div class="paragraph">
<p>安全にローカルストレージにアクセスできる方法です。これにより、エクステンションをスコープとするローカルストレージに値が保存されます。この方法では、別のエクステンションと競合する心配はありません。</p>
</div>
<div class="paragraph">
<p>ローカルストレージは、ユーザーの好みや状態を記憶するのに便利です。例えば、フッターは一番下の引き出しの状態（開閉）と開いたときのサイズを記憶しています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { StorageController } from 'storage-controller';

// ...

storageControl = new StorageController(this); // Passing in this will scope the storage to your extension

// ...

const storedHeight = this.storageControl.get("height"); // Get some value

// ...

this.storageControl.set('height', 123); // Set some val</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/qwc/qwc-footer.js">Example code</a></p>
</div>
<div class="paragraph">
<p><strong>Per Application</strong></p>
</div>
<div class="paragraph">
<p>You can narrow the score of the storage further by the current application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">storageControl = new StorageController(this, true); // Passing in true will scope per application</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Storage Setting</strong></p>
</div>
<div class="paragraph">
<p>Users can have a raw view on the storage in the settings page:</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-storage-settings.png" alt="Dev UI Storage Settings">
</div>
</div>
<div class="paragraph">
<p>Because users can clean/revert to default in this screen by deleting the storage item, an extension might want to react on this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">connectedCallback() {
        super.connectedCallback();
        window.addEventListener('storage-changed', this._storageChange); // Listen for storage changes
}

disconnectedCallback() {
        window.removeEventListener('storage-changed', this._storageChange); // Clean up
        super.disconnectedCallback();
}

_storageChange = (e) =&gt; {
    if(e.detail.method === "remove" &amp;&amp; e.detail.key.startsWith("qwc-myextensionname-")){ // Only care about remove and your extension
        // React on storage removal
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="log"><a class="anchor" href="#log"></a>Log</h6>
<div class="paragraph">
<p>The log controller is used to add control buttons to a (footer) log.
See <a href="#footer">Footer</a>.</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-log-control-v2.png" alt="Dev UI Log control">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { LogController } from 'log-controller';

// ...

logControl = new LogController(this); // Passing in this will scope the control to your extension

// ...
this.logControl
                .addToggle("On/off switch", true, (e) =&gt; {
                    this._toggleOnOffClicked(e);
                }).addItem("Log levels", "font-awesome-solid:layer-group", "var(--lumo-tertiary-text-color)", (e) =&gt; {
                    this._logLevels();
                }).addItem("Columns", "font-awesome-solid:table-columns", "var(--lumo-tertiary-text-color)", (e) =&gt; {
                    this._columns();
                }).addItem("Zoom out", "font-awesome-solid:magnifying-glass-minus", "var(--lumo-tertiary-text-color)", (e) =&gt; {
                    this._zoomOut();
                }).addItem("Zoom in", "font-awesome-solid:magnifying-glass-plus", "var(--lumo-tertiary-text-color)", (e) =&gt; {
                    this._zoomIn();
                }).addItem("Clear", "font-awesome-solid:trash-can", "var(--lumo-error-color)", (e) =&gt; {
                    this._clearLog();
                }).addFollow("Follow log", true , (e) =&gt; {
                    this._toggleFollowLog(e);
                }).done();</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/qwc/qwc-server-log.js">Example code</a></p>
</div>
</div>
<div class="sect5">
<h6 id="router"><a class="anchor" href="#router"></a>Router</h6>
<div class="paragraph">
<p>ルーターは主に内部で使用されます。これは、SPA内の正しいページ/セクションにURLをルーティングするために、隠れて <a href="https://github.com/vaadin/router">Vaadin Router</a> を使用しています。これはナビゲーションを更新し、履歴(戻るボタン)を許可します。これはまた、複数のページを持つエクステンションで利用可能なサブメニューを作成します。</p>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/controller/router-controller.js">controller</a> for some methods that might be useful.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="global-state"><a class="anchor" href="#global-state"></a>Global State</h5>
<div class="paragraph">
<p>The properties on a Web component page is scope for that page/webcomponent. There is also a few global states available that might be useful in your component. Dev UI uses <a href="https://gitaarik.github.io/lit-state/build/">LitState</a> for this. LitState automatically re-renders your LitElement components, when a shared app state variable they use changes. It&#8217;s like LitElement&#8217;s properties, but then shared over multiple components.</p>
</div>
<div class="paragraph">
<p>Dev UI has the following build-in state:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connection</p>
</li>
<li>
<p>テーマ</p>
</li>
<li>
<p>Assistant</p>
</li>
<li>
<p>Dev UI</p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="connection-state"><a class="anchor" href="#connection-state"></a>Connection State</h6>
<div class="paragraph">
<p>This will give you the connection state to the backend. Dev UI is connected to the backend with a Web Socket. The UI might loose connection to the backend in certain cases, example a Hot reload is in progress or the user actually stopped the server.</p>
</div>
<div class="paragraph">
<p>To use this state in your page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { observeState } from 'lit-element-state'; <i class="conum" data-value="1"></i><b>(1)</b>
import { connectionState } from 'connection-state'; <i class="conum" data-value="2"></i><b>(2)</b>

export class QwcExtensionPage extends observeState(LitElement) {  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>import observeState from the LitState library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>import the state you are interested in, in this case connection state.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Wrap the LitElement in <code>observerState</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can access the connection state anywhere in your page, and when that state changes it will act exactly the same as a local state - re-render the relevant parts of the page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">render() {
    return html`&lt;vaadin-icon title="${connectionState.current.message}" style="color:${connectionState.current.color}" icon="font-awesome-solid:${connectionState.current.icon}"&gt;&lt;/vaadin-icon&gt;`;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see all the properties of connection state <a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/state/connection-state.js">here</a></p>
</div>
</div>
<div class="sect5">
<h6 id="theme-state"><a class="anchor" href="#theme-state"></a>Theme State</h6>
<div class="paragraph">
<p>This will give you access to the current theme, that the user can change at any time.</p>
</div>
<div class="paragraph">
<p>To use this state in your page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { observeState } from 'lit-element-state'; <i class="conum" data-value="1"></i><b>(1)</b>
import { themeState } from 'theme-state'; <i class="conum" data-value="2"></i><b>(2)</b>

export class QwcExtensionPage extends observeState(LitElement) {  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>import observeState from the LitState library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>import the state you are interested in, in this case theme state.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Wrap the LitElement in <code>observerState</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can access the theme state anywhere in your page, and when that state changes it will act exactly the same as a local state - re-render the relevant parts of the page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">render() {
    return html`&lt;div class="codeBlock"&gt;
                        &lt;qui-code-block
                            mode='json'
                            content='${json}'
                            theme='${themeState.theme.name}'
                            showLineNumbers&gt;
                        &lt;/qui-code-block&gt;`;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see all the properties of theme state <a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/state/theme-state.js">here</a></p>
</div>
</div>
<div class="sect5">
<h6 id="assistant-state"><a class="anchor" href="#assistant-state"></a>Assistant State</h6>
<div class="paragraph">
<p>This state contains information on the Quarkus Assistant, if it&#8217;s available and if it&#8217;s configured and ready to be used. This is useful if you extension provide assistant features and you need to know the state of the assistant.</p>
</div>
<div class="paragraph">
<p>To use this state in your page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { observeState } from 'lit-element-state'; <i class="conum" data-value="1"></i><b>(1)</b>
import { assistantState } from 'assistant-state'; <i class="conum" data-value="2"></i><b>(2)</b>

export class QwcExtensionPage extends observeState(LitElement) {  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>import observeState from the LitState library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>import the state you are interested in, in this case assistant state.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Wrap the LitElement in <code>observerState</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can access the assistant state anywhere in your page, and when that state changes it will act exactly the same as a local state - re-render the relevant parts of the page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">render() {
    if(assistantState.current.isConfigured){
        return html`&lt;div class="assistantfeature"&gt;
                        &lt;span&gt; Magic happends here&lt;/span&gt;
                    &lt;/div&gt;`;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can see all the properties of assistant state <a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/state/assistant-state.js">here</a></p>
</div>
</div>
<div class="sect5">
<h6 id="dev-ui-state"><a class="anchor" href="#dev-ui-state"></a>Dev UI State</h6>
<div class="paragraph">
<p>This state is a general state that contains global properties used in Dev UI, and it&#8217;s mostly use internally. It works exactly the same as any of the states discussed before.</p>
</div>
<div class="paragraph">
<p>A lot of the properties in this state is really build time data that auto reload when a hot-reload happens.</p>
</div>
<div class="paragraph">
<p>You can see all the properties of dev ui state
<a href="https://github.com/quarkusio/quarkus/blob/main/extensions/devui/resources/src/main/resources/dev-ui/state/devui-state.js">here</a></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="other-ways-to-create-pages"><a class="anchor" href="#other-ways-to-create-pages"></a>Other ways to create pages</h4>
<div class="paragraph">
<p>As mentioned, there are some other ways to create pages in Dev UI (other than using Web Components).</p>
</div>
<div class="sect4">
<h5 id="external-links"><a class="anchor" href="#external-links"></a>外部リンク</h5>
<div class="paragraph">
<p>これらは、他の (Dev UI の外の) データを参照するリンクで、HTML ページ、テキスト、その他のデータがあります。</p>
</div>
<div class="paragraph">
<p>その良い例としては、JSON と YAML の両方のフォーマットで生成された OpenAPI スキーマへのリンクと、Swagger UI へのリンクが含まれる SmallRye OpenAPI エクステンションが挙げられます。</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-extension-openapi-v2.png" alt="Dev UI extension card">
</div>
</div>
<div class="paragraph">
<p>外部参照へのリンクはビルド時に判明するため、このようなリンクをカードに表示するには、エクステンションに以下のビルドステップを追加します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@BuildStep(onlyIf = IsLocalDevelopment.class)<i class="conum" data-value="1"></i><b>(1)</b>
public CardPageBuildItem pages(NonApplicationRootPathBuildItem nonApplicationRootPathBuildItem) {

    CardPageBuildItem cardPageBuildItem = new CardPageBuildItem(); <i class="conum" data-value="2"></i><b>(2)</b>

    cardPageBuildItem.addPage(Page.externalPageBuilder("Schema yaml") <i class="conum" data-value="3"></i><b>(3)</b>
            .url(nonApplicationRootPathBuildItem.resolvePath("openapi")) <i class="conum" data-value="4"></i><b>(4)</b>
            .isYamlContent() <i class="conum" data-value="5"></i><b>(5)</b>
            .icon("font-awesome-solid:file-lines")); <i class="conum" data-value="6"></i><b>(6)</b>

    cardPageBuildItem.addPage(Page.externalPageBuilder("Schema json")
            .url(nonApplicationRootPathBuildItem.resolvePath("openapi") + "?format=json")
            .isJsonContent()
            .icon("font-awesome-solid:file-code"));

    cardPageBuildItem.addPage(Page.externalPageBuilder("Swagger UI")
            .url(nonApplicationRootPathBuildItem.resolvePath("swagger-ui"))
            .isHtmlContent()
            .icon("font-awesome-solid:signs-post"));

    return cardPageBuildItem;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always make sure that this build step is only run when in local dev mode</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>カードに何かを追加するには、 <code>CardPageBuildItem</code> を返す/生成する必要があります。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>リンクを追加するには <code>addPage</code> メソッドを使用します。すべてのリンクが "page" に移動します。 <code>Page</code> には、ページの構築を支援するビルダーがいくつかあります。 <code>external</code> リンクの場合は、 <code>externalPageBuilder</code> を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>外部リンクの URL を追加します。ここでは、リンクが設定可能な非アプリケーションパス (デフォルトは <code>/q</code>) の下にあるため、 <code>NonApplicationRootPathBuildItem</code> を使用してリンクを作成します。リンクが <code>/q</code> の下にある場合は、必ず <code>NonApplicationRootPathBuildItem</code> を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>移動先のコンテンツのコンテンツタイプを (オプションで) ヒントとして表示できます。ヒントがない場合、 <code>MediaType</code> を決定するためにヘッダー呼び出しが実行されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>アイコンを追加できます。無料の font-awesome アイコンが利用可能です。</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="embedding-external-content"><a class="anchor" href="#embedding-external-content"></a>外部コンテンツの埋め込み</h6>
<div class="paragraph">
<p>デフォルトでは、外部リンクも Dev UI の内部 (埋め込み) でレンダリングされます。HTML の場合、ページがレンダリングされ、その他のコンテンツはメディアタイプをマークアップするために <a href="https://codemirror.net/">code-mirror</a> を使用して表示されます。たとえば <code>yaml</code> 形式のOpenAPI スキーマドキュメントは、次のようになります。</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-extension-openapi-embed-v2.png" alt="Dev UI embedded page">
</div>
</div>
<div class="paragraph">
<p>コンテンツを埋め込みたくない場合は、ページビルダーの <code>.doNotEmbed()</code>、リンクを新しいタブで開くことができます。</p>
</div>
</div>
<div class="sect5">
<h6 id="runtime-external-links"><a class="anchor" href="#runtime-external-links"></a>ランタイム外部リンク</h6>
<div class="paragraph">
<p>The example above assumes you know the link to use at build time. There might be cases where you only know this at runtime. In that case, you can use a JsonRPC Method (discussed later) that returns the link to add, and use that when creating the link. Rather than using the <code>.url</code> method on the page builder, use the <code>.dynamicUrlJsonRPCMethodName("yourJsonRPCMethodName")</code>.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="raw-data-pages"><a class="anchor" href="#raw-data-pages"></a>Raw data pages</h5>
<div class="paragraph">
<p>If you have some data that is known at build time (build time data) that you want to display, you can use one of the following builders in <code>Page</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#marked-up-data">Marked-up data</a></p>
</li>
<li>
<p><a href="#table-data">Table data</a></p>
</li>
<li>
<p><a href="#qute-data">Qute data</a></p>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="marked-up-data"><a class="anchor" href="#marked-up-data"></a>Marked-up data</h6>
<div class="paragraph">
<p>データは、生の (シリアル化された) JSON 値で表示されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addPage(Page.rawDataPageBuilder("Raw data") <i class="conum" data-value="1"></i><b>(1)</b>
                .icon("font-awesome-brands:js")
                .buildTimeDataKey("someKey")); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>rawDataPageBuilder</code> を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Page BuildItem の <code>addBuildTimeData</code> でビルド時データを追加したときに使用したキーにリンクします。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>これにより、生データを JSON でレンダリングするページへのリンクが作成されます。</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-raw-page-v2.png" alt="Dev UI raw page">
</div>
</div>
</div>
<div class="sect5">
<h6 id="table-data"><a class="anchor" href="#table-data"></a>テーブルデータ</h6>
<div class="paragraph">
<p>構造上可能な場合は、ビルド時データをテーブルに表示することもできます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addPage(Page.tableDataPageBuilder("Table data") <i class="conum" data-value="1"></i><b>(1)</b>
                .icon("font-awesome-solid:table")
                .showColumn("timestamp") <i class="conum" data-value="2"></i><b>(2)</b>
                .showColumn("user") <i class="conum" data-value="2"></i><b>(2)</b>
                .showColumn("fullJoke") <i class="conum" data-value="2"></i><b>(2)</b>
                .buildTimeDataKey("someKey")); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>tableDataPageBuilder</code> を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>オプションで特定のフィールドのみを表示します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Page BuildItem の <code>addBuildTimeData</code> でビルド時データを追加したときに使用したキーにリンクします。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>これにより、テーブル内のデータをレンダリングするページへのリンクが作成されます。</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-table-page-v2.png" alt="Dev UI table page">
</div>
</div>
</div>
<div class="sect5">
<h6 id="qute-data"><a class="anchor" href="#qute-data"></a>Qute データ</h6>
<div class="paragraph">
<p>qute テンプレートを使用して、ビルド時データを表示することもできます。すべてのビルド時データキーは、テンプレートで使用できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addPage(Page.quteDataPageBuilder("Qute data") <i class="conum" data-value="1"></i><b>(1)</b>
                .icon("font-awesome-solid:q")
                .templateLink("qute-jokes-template.html")); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>quteDataPageBuilder</code> を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>/deployment/src/main/resources/dev-ui/</code> の Qute テンプレートにリンクします。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>データを表示するには、任意の Qute テンプレートを使用します (例: <code>qute-jokes-template.html</code>)。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;table&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Timestamp&lt;/th&gt;
            &lt;th&gt;User&lt;/th&gt;
            &lt;th&gt;Joke&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        {#for joke in jokes} <i class="conum" data-value="1"></i><b>(1)</b>
        &lt;tr&gt;
            &lt;td&gt;{joke.timestamp}&lt;/td&gt;
            &lt;td&gt;&lt;span&gt;&lt;img src="{joke.profilePic}" height="30px"&gt;&lt;/img&gt; {joke.user}&lt;/span&gt;&lt;/td&gt;
            &lt;td&gt;{joke.fullJoke}&lt;/td&gt;
        &lt;/tr&gt;
        {/for}
    &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Page Build Item のビルド時データキーとして <code>jokes</code> が追加されました。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="communicating-to-the-backend"><a class="anchor" href="#communicating-to-the-backend"></a>バックエンドとの通信</h3>
<div class="paragraph">
<p>All communication to the backend happend with <a href="https://www.jsonrpc.org/">JsonRPC</a> over web socket. Dev UI makes this easy to use for extension developers, and you do not really need to get into the details of either JsonRPC or Web Sockets.</p>
</div>
<div class="paragraph">
<p>There are 3 stages to communicate to a backend during runtime (when the user is running their app in dev mode):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executing some method against the runtime classpath</p>
</li>
<li>
<p>Executing some method against the deployment classpath</p>
</li>
<li>
<p>Returning data from some recorded value</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="jsonrpc-against-the-runtime-classpath"><a class="anchor" href="#jsonrpc-against-the-runtime-classpath"></a>ランタイムクラスパスに対する JsonRPC</h4>
<div class="paragraph">
<p>You can fetch or stream runtime data (rather than Build time data discussed earlier) or execute methods against the runtime classpath (as opposed to deployment classpath). There are two parts to getting data during runtime. The Java side in the runtime or runtime-dev module, and then the usage in the web component (that we will discuss later).</p>
</div>
<div class="paragraph">
<p>In your Runtime or Runtime-dev module, create the JsonRPC Service. This class will default to an application-scoped bean, except if you explicitly scope the bean. All public methods that return something will be made available to call from the Web component Javascript.</p>
</div>
<div class="paragraph">
<p>これらのメソッドで返されるオブジェクトは次のとおりです。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>プリミティブまたは <code>String</code></p>
</li>
<li>
<p><code>io.vertx.core.json.JsonArray</code></p>
</li>
<li>
<p><code>io.vertx.core.json.JsonObject</code></p>
</li>
<li>
<p>JSON にシリアル化できるその他の POJO</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>上記のすべては、ブロッキング (POJO) または非ブロッキング (<code>@NonBlocking</code> または <code>Uni</code>) にできます。また、 <code>Multi</code> を使用してデータをストリーミングすることもできます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
public class JokesJsonRPCService {

    private final BroadcastProcessor&lt;Joke&gt; jokeStream = BroadcastProcessor.create();
    private final BroadcastProcessor&lt;Joke&gt; jokeLog = BroadcastProcessor.create();
    private static int numberOfJokesTold = 10;

    @PostConstruct
    void init() {
        Multi.createFrom().ticks().every(Duration.ofMinutes(1)).subscribe().with((item) -&gt; {
            jokeStream.onNext(getJoke());
        });
    }

    public Multi&lt;Joke&gt; streamJokes() { <i class="conum" data-value="2"></i><b>(2)</b>
        return jokeStream;
    }

    @NonBlocking <i class="conum" data-value="3"></i><b>(3)</b>
    public Joke getJoke() {
        numberOfJokesTold++;
        Joke joke = fetchRandomJoke();
        jokeLog.onNext(joke);
        return joke;
    }

    public Multi&lt;Joke&gt; jokeLog() {
        return jokeLog;
    }

    // Some more private methods
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Non-scoped class will default to Application Scope</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Data can be streamed with Multi</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This example runs nonblocking. We could also return <code>Uni&lt;Joke&gt;</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://github.com/phillip-kruger/quarkus-jokes/blob/main/runtime/src/main/java/io/quarkus/jokes/runtime/JokesJsonRPCService.java">Example code</a></p>
</div>
<div class="paragraph">
<p>このコードは、データを UI に表示できるようにする役割を担います。</p>
</div>
<div class="paragraph">
<p>デプロイメントモジュールのプロセッサーに <code>JsonPRCService</code> を登録する必要があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@BuildStep
JsonRPCProvidersBuildItem createJokesJsonRPCService() {<i class="conum" data-value="1"></i><b>(1)</b>
    return new JsonRPCProvidersBuildItem(JokesJsonRPCService.class);<i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>JsonRPCProvidersBuildItem</code> を生成または返します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Define the class in your runtime or runtime-dev module that will contain methods that make data available in the UI</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are creating a new runtime-dev module, you must also add the conditional Dev dependency in
the <strong>runtime</strong> module <code>pom.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;plugin&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-extension-maven-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;conditionalDevDependencies&gt;
            &lt;artifact&gt;${project.groupId}:${project.artifactId}-dev:${project.version}&lt;/artifact&gt;
        &lt;/conditionalDevDependencies&gt;
        ...
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="jsonrpc-against-the-deployment-classpath"><a class="anchor" href="#jsonrpc-against-the-deployment-classpath"></a>JsonRPC against the Deployment classpath</h4>
<div class="paragraph">
<p>場合によっては、デプロイメントクラスパスに対してメソッドを実行したり、データを取得したりする必要があるかもしれません。同様の状況は JsonRPC 通信でも発生しますが、その場合はランタイムモジュールに JsonRPC サービスは作成せず、
デプロイメントモジュールのサプライヤーで実行されるコードを提供します。これを行うには、以下のように <code>BuildTimeActionBuildItem</code> を作成します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class)
    BuildTimeActionBuildItem createBuildTimeActions() { <i class="conum" data-value="1"></i><b>(1)</b>
        BuildTimeActionBuildItem generateManifestActions = new BuildTimeActionBuildItem(); <i class="conum" data-value="2"></i><b>(2)</b>

        generateManifestActions.actionBuilder()
            .methodName("generateManifests")<i class="conum" data-value="3"></i><b>(3)</b>
            .function(params -&gt; { <i class="conum" data-value="4"></i><b>(4)</b>
                try {
                    List&lt;Manifest&gt; manifests = holder.getManifests();
                    // Avoid relying on databind.
                    Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();
                    for (Manifest manifest : manifests) {
                        map.put(manifest.getName(), manifest.getContent());
                    }
                    return map;
                } catch (Exception e) {
                    throw new RuntimeException(e);
                }
            }).build();

        return generateManifestActions;
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>BuildProducer を返す、または使用して、 <code>BuildTimeActionBuildItem</code> を作成します</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>BuildTimeActionBuildItem</code> は、エクステンションの namespace で自動的にスコープ指定されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The method name (that can be called from js in the same way as any json-rpc service) is <code>generateManifests</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Here we add an function that will execute when this action is requested from the UI. If there are any parameters, those will be available in a map (params)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also return a <code>CompletableFuture</code>/<code>CompletionStage</code> as an action, and if you want to stream data you need to use <code>addSubscription</code> (rather than <code>addAction</code>) and return a <code>Flow.Publisher</code>. Here you can not use Uni and Multi as we need to pass data between the deployment and runtime classpaths, so sticking to JDK classes is the safe option.</p>
</div>
</div>
<div class="sect3">
<h4 id="jsonrpc-against-a-recorded-value"><a class="anchor" href="#jsonrpc-against-a-recorded-value"></a>JsonRPC against a recorded value</h4>
<div class="paragraph">
<p>Passing recorded data to the UI work the same as the above deployment classpath, except rather than a function, you pass the RuntimeValue (returned from your recorder)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@BuildStep(onlyIf = IsLocalDevelopment.class)
BuildTimeActionBuildItem createBuildTimeActions() {
    BuildTimeActionBuildItem actionBuildItem = new BuildTimeActionBuildItem();
        actionBuildItem.actionBuilder()
                .methodName("getMyRecordedValue")
                .runtime(runtimeValue) <i class="conum" data-value="1"></i><b>(1)</b>
                .build();
    return actionBuildItem;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the RuntimeValue as returned from your recorder.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="jsonrpc-in-the-webcomponent-page"><a class="anchor" href="#jsonrpc-in-the-webcomponent-page"></a>JsonRPC in the Webcomponent (Page)</h4>
<div class="paragraph">
<p>You can use the built-in JsonRPC controller to access the any of the methods you defined. Runtime, Deployment and Recorded all works the same way in the WebComponent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { JsonRpc } from 'jsonrpc';

// ...

jsonRpc = new JsonRpc(this); // Passing in this will scope the RPC calls to your extension

// ...

connectedCallback() {
    super.connectedCallback();
    this.jsonRpc.getJoke().then(jsonRpcResponse =&gt; { <i class="conum" data-value="1"></i><b>(1)</b>
        this._addToJokes(jsonRpcResponse.result); <i class="conum" data-value="2"></i><b>(2)</b>
    });
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Note the method <code>getJoke</code> corresponds to the method in your Java Service. This method returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> with the JsonRPC result.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>In this case, the result is an object, so we just add it to our list of jokes. This could also be an array if the server returned some collection.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>JsonArray (または任意の Java コレクション) は、ブロッキングまたは非ブロッキングであれば配列を返します。それ以外の場合は、JsonObject が返されます。</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/phillip-kruger/quarkus-jokes/blob/main/deployment/src/main/resources/dev-ui/qwc-jokes-web-components.js">サンプルコード</a></p>
</div>
<div class="paragraph">
<p>呼び出されるメソッドにパラメーターを渡すこともできます。以下はその例です 
(ランタイム Java コード内)。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public Uni&lt;JsonObject&gt; clear(String name) { <i class="conum" data-value="1"></i><b>(1)</b>
    Optional&lt;Cache&gt; cache = manager.getCache(name);
    if (cache.isPresent()) {
        return cache.get().invalidateAll().map((t) -&gt; getJsonRepresentationForCache(cache.get()));
    } else {
        return Uni.createFrom().item(new JsonObject().put("name", name).put("size", -1));
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>clear メソッドは <code>name</code> と呼ばれるパラメーターを 1 つ受け取ります。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Webcomponent (Javascript) の場合: </p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">_clear(name) {
    this.jsonRpc.clear({name: name}).then(jsonRpcResponse =&gt; { <i class="conum" data-value="1"></i><b>(1)</b>
        this._updateCache(jsonRpcResponse.result)
    });
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>name</code> パラメーターが渡されます。</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="streaming-data"><a class="anchor" href="#streaming-data"></a>ストリーミングデータ</h4>
<div class="paragraph">
<p>データを継続的に画面にストリーミングすることで、UI 画面を最新のデータで更新することができます。これは、 <code>Multi</code> (Java 側) と <code>Observer</code> (Javascript 側) で実行できます。</p>
</div>
<div class="paragraph">
<p>ストリーミングデータの Java 側: </p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class JokesJsonRPCService {

    private final BroadcastProcessor&lt;Joke&gt; jokeStream = BroadcastProcessor.create();

    @PostConstruct
    void init() {
        Multi.createFrom().ticks().every(Duration.ofHours(4)).subscribe().with((item) -&gt; {
            jokeStream.onNext(getJoke());
        });
    }

    public Multi&lt;Joke&gt; streamJokes() { <i class="conum" data-value="1"></i><b>(1)</b>
        return jokeStream;
    }

    // ...
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>jokes をストリーミングする Multi を返します。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://github.com/phillip-kruger/quarkus-jokes/blob/f572ed6f949de0c0b8cbfa99d7389ab5168fea65/runtime/src/main/java/io/quarkus/jokes/runtime/JokesJsonRPCService.java#L37">サンプルコード</a></p>
</div>
<div class="paragraph">
<p>ストリーミングデータの Javascript 側: </p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">this._observer = this.jsonRpc.streamJokes().onNext(jsonRpcResponse =&gt; { <i class="conum" data-value="1"></i><b>(1)</b>
    this._addToJokes(jsonRpcResponse.result);
    this._numberOfJokes = this._numberOfJokes++;
});

// ...

this._observer.cancel(); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>メソッドを呼び出し (オプションでパラメーターを渡す)、次のイベントで呼び出されるコードを提供できます。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>必要に応じて後でキャンセルできるように、オブザーバーのインスタンスを保管してください。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a href="https://github.com/phillip-kruger/quarkus-jokes/blob/main/deployment/src/main/resources/dev-ui/qwc-jokes-web-components.js">サンプルコード</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="workspace"><a class="anchor" href="#workspace"></a>Workspace</h3>
<div class="paragraph">
<p>Extensions can contribute <code>actions</code> to items in the workspace.</p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-workspace.png" alt="Dev UI workspace">
</div>
</div>
<div class="paragraph">
<p>Actions are really a JsonRPC Method that takes a workspace item as input.</p>
</div>
<div class="paragraph">
<p>To do this you can return/produce a <code>WorkspaceActionBuildItem</code> in your processor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @BuildStep(onlyIf = IsLocalDevelopment.class)
    WorkspaceActionBuildItem createWorkspaceActions() {
        ActionBuilder actionBuilder = Action.actionBuilder() <i class="conum" data-value="1"></i><b>(1)</b>
                .label("Joke") <i class="conum" data-value="2"></i><b>(2)</b>
                .function((t) -&gt; { <i class="conum" data-value="3"></i><b>(3)</b>
                    // Here do something with the input and return something
                    String content = t.content;
                    // ....
                    return t;
                })
                .display(Display.split) <i class="conum" data-value="4"></i><b>(4)</b>
                .displayType(DisplayType.markdown) <i class="conum" data-value="5"></i><b>(5)</b>
                .filter(Patterns.ANY_JAVA); <i class="conum" data-value="6"></i><b>(6)</b>

        return new WorkspaceActionBuildItem(actionBuilder);
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use the actionBuilder to create a new Action.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The label is what will be displayed in the action drop down in thw Workspace Page</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Here the code that will execute if the user selects this action. You will receive some input (see the <code>Input</code> section below)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>How the result should be displayed (see the <code>Display</code> section below)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>What the result type would be (see the <code>DisplayType</code> section below)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Optional filter if this action only applies to certain items. Takes a regex as input, and some predefined regexes exisits in the the <code>Patterns</code> class</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="input"><a class="anchor" href="#input"></a>Input</h4>
<div class="paragraph">
<p>The input your fuction receive is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>actionId: The unique (autoscoped) action id</p>
</li>
<li>
<p>name: The item (or file) name</p>
</li>
<li>
<p>path: The full path to that item (or file)</p>
</li>
<li>
<p>content: The content of this item (or file)</p>
</li>
<li>
<p>type: the type (example text/plain)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="display"><a class="anchor" href="#display"></a>Display</h4>
<div class="paragraph">
<p>Here you can set how the response should display in the Workspace page. Options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>nothing:  Nothing will be displayed</p>
</li>
<li>
<p>dialog:  Content will be displayed in a dialog popup</p>
</li>
<li>
<p>replace:  Content will replace the original (input) content</p>
</li>
<li>
<p>split:  Content will display in a split screen (left/right)</p>
</li>
<li>
<p>notification:  Content will in a notification</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="displaytype"><a class="anchor" href="#displaytype"></a>DisplayType</h4>
<div class="paragraph">
<p>Depending on what your action does with the content input, your output might produce the following types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>raw: This be used as is (text)</p>
</li>
<li>
<p>code: This will be rendered in a code editor</p>
</li>
<li>
<p>markdown: This will display interperated markdown</p>
</li>
<li>
<p>html: This will display interperated html</p>
</li>
<li>
<p>image: This will display an image</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-custom-cards"><a class="anchor" href="#advanced-custom-cards"></a>Advanced: Custom cards</h3>
<div class="paragraph">
<p>デフォルトの内蔵カードを使用したくない場合は、拡張ページに表示されるカードをカスタマイズすることができます。</p>
</div>
<div class="paragraph">
<p>これを行うには、提供されたカードの代わりに読み込まれる Web コンポーネントを提供し、これを Java プロセッサーに登録する必要があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.setCustomCard("qwc-mycustom-card.js");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Javascript 側では、すべてのページにアクセスできます (リンクを作成する必要がある場合)。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { pages } from 'build-time-data';</code></pre>
</div>
</div>
<div class="paragraph">
<p>次に、以下のプロパティが渡されます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>extensionName</p>
</li>
<li>
<p>description</p>
</li>
<li>
<p>guide</p>
</li>
<li>
<p>namespace</p>
</li>
<li>
<p>logoUrl</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">static properties = {
    extensionName: {type: String},
    description: {type: String},
    guide: {type: String},
    namespace: {type: String},
    logoUrl: {type: String}
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="dev-ui-log"><a class="anchor" href="#dev-ui-log"></a>Dev UI Log</h3>
<div class="paragraph">
<p><code>999-SNAPSHOT</code> バージョンを使用してローカルアプリケーションを実行すると、Dev UI のフッターに <code>Dev UI</code> Log が表示されます。これは、ブラウザーと Quarkus アプリ間でやり取りされるすべての JSON RPC メッセージをデバッグする場合に役立ちます。</p>
</div>
<div class="paragraph">
<p>There might be cases where you develop an extension outside of Quarkus core (like Quarkiverse), so your quarkus version is not <code>999-SNAPSHOT</code>. In that case you can still enable the Dev UI log with this application property: <code>quarkus.dev-ui.show-json-rpc-log=true</code></p>
</div>
<div class="imageblock center">
<div class="content">
<img src="/guides/images/dev-ui-jsonrpc-log-v2.png" alt="Dev UI Json RPC Log">
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-headless-components"><a class="anchor" href="#advanced-headless-components"></a>Advanced: Headless Components</h3>
<div class="paragraph">
<p>In rare cases, an extension might need to execute logic <strong>even when its main component is not added to the DOM</strong>. This is typically useful for setting global state or triggering background tasks without displaying any UI.</p>
</div>
<div class="paragraph">
<p>To support this, extensions can declare a <strong>headless component</strong> — a web component with no visual representation that runs automatically on page load.</p>
</div>
<div class="paragraph">
<p>Declare the headless component in your extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">CardPageBuildItem cardPageBuildItem = new CardPageBuildItem();
cardPageBuildItem.setHeadlessComponentLink("qwc-chappie-init.js"); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the path to the headless component JavaScript file (relative to the extension resources).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Then create the component alongside your other Dev UI pages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">import { LitElement } from 'lit';
import { JsonRpc } from 'jsonrpc';
import { assistantState } from 'assistant-state';

/**
 * This load on browser load (headless components) to set the initial assistant state
 */
class QwcChappieInit extends LitElement {

    static properties = {
        namespace: {attribute: true}, <i class="conum" data-value="1"></i><b>(1)</b>
    }

    connectedCallback() {
        super.connectedCallback();
        this._init().then(() =&gt; this.remove()); <i class="conum" data-value="2"></i><b>(2)</b>
    }

    async _init() {
        const jsonRpc = new JsonRpc(this.namespace); <i class="conum" data-value="3"></i><b>(3)</b>

        jsonRpc.loadConfiguration().then(jsonRpcResponse =&gt; {
            if(jsonRpcResponse.result &amp;&amp; jsonRpcResponse.result.name){
                assistantState.ready();
            }else{
                assistantState.available();
            }
        });
    }

    // prevent rendering anything
    createRenderRoot() { <i class="conum" data-value="3"></i><b>(3)</b>
        return this;
    }
}
customElements.define('qwc-chappie-init', QwcChappieInit); <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>namespace</code> attribute will always be provided automatically by Dev UI.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Perform your logic in <code>connectedCallback</code>, then remove the element if no longer needed.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>When using JsonRPC, pass in the provided namespace (instead of <code>this</code>, as in normal components).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Your tag definition have to be the filename without the <code>.js</code></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="testing"><a class="anchor" href="#testing"></a>テスト</h3>
<div class="paragraph">
<p>エクステンションには、以下をテストするテストを追加できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ビルド時データ</p>
</li>
<li>
<p>JsonRPC経由の実行時データ</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>これを pom に追加する必要があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-devui-test-spi&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>そうすることで、テストを作成するための 2 つのベースクラスにアクセスできるようになります。</p>
</div>
<div class="sect3">
<h4 id="testing-build-time-data"><a class="anchor" href="#testing-build-time-data"></a>ビルド時データのテスト</h4>
<div class="paragraph">
<p>ビルド時データを追加した場合の例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">cardPageBuildItem.addBuildTimeData("somekey", somevalue);</code></pre>
</div>
</div>
<div class="paragraph">
<p>ビルド時データが正しく生成されていることをテストするには、 <code>DevUIBuildTimeDataTest</code> を拡張するテストを追加できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeTest extends DevUIBuildTimeDataTest {

    @RegisterExtension
    static final QuarkusDevModeTest config = new QuarkusDevModeTest().withEmptyApplication();

    public SomeTest() {
        super("my-extension-artifactId");
    }

    @Test
    public void testSomekey() throws Exception {
        JsonNode somekeyResponse = super.getBuildTimeData("somekey");
        Assertions.assertNotNull(somekeyResponse);

        // Check more values on somekeyResponse
    }

}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="testing-runtime-data"><a class="anchor" href="#testing-runtime-data"></a>実行時データのテスト</h4>
<div class="paragraph">
<p>実行時データレスポンスが含まれる JsonRPC サービスを追加した場合の例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public boolean updateProperties(String content, String type) {
    // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>updateProperties</code> が JsonRPC 経由で正しく実行されることをテストするには、 <code>DevUIJsonRPCTest</code> を拡張するテストを追加できます。</p>
</div>
<div class="paragraph">
<p>The following dependency might also be required to be added to your pom, if it&#8217;s not yet added by other dependencies, otherwise Dev UI will not start during testing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-vertx-http-deployment&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class SomeTest extends DevUIJsonRPCTest {

    @RegisterExtension
    static final QuarkusDevModeTest config = new QuarkusDevModeTest().withEmptyApplication();

    public SomeTest() {
        super("my-extension-artifactId");
    }

    @Test
    public void testUpdateProperties() throws Exception {

        JsonNode updatePropertyResponse = super.executeJsonRPCMethod("updateProperty",
                Map.of(
                        "name", "quarkus.application.name",
                        "value", "changedByTest"));
        Assertions.assertTrue(updatePropertyResponse.asBoolean());

        // Get the properties to make sure it is changed
        JsonNode allPropertiesResponse = super.executeJsonRPCMethod("getAllValues");
        String applicationName = allPropertiesResponse.get("quarkus.application.name").asText();
        Assertions.assertEquals("changedByTest", applicationName);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#general-overview">General overview</a>
<ul class="sectlevel2">
<li><a href="#what-is-dev-ui">What is Dev UI?</a></li>
<li><a href="#layout-at-a-glance">Layout at a Glance</a></li>
</ul>
</li>
<li><a href="#guide-for-extension-developers">Guide for Extension Developers</a>
<ul class="sectlevel2">
<li><a href="#quarkus-extension-yaml">quarkus-extension.yaml</a></li>
<li><a href="#adding-pages-to-the-dev-ui">Adding Pages to the Dev UI</a></li>
<li><a href="#communicating-to-the-backend">バックエンドとの通信</a></li>
<li><a href="#workspace">Workspace</a></li>
<li><a href="#advanced-custom-cards">Advanced: Custom cards</a></li>
<li><a href="#dev-ui-log">Dev UI Log</a></li>
<li><a href="#advanced-headless-components">Advanced: Headless Components</a></li>
<li><a href="#testing">テスト</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>関連コンテンツ</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>同じトピックについて</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/guides/continuous-testing">継続的テスト</a></li>
      
        
        <li class="guide"><a href="/guides/compose-dev-services">Compose Dev Services</a></li>
      
        
        <li class="guide"><a href="/guides/assistant">Dev Assistant</a></li>
      
        
        <li class="guide"><a href="/guides/dev-mcp">Dev MCP</a></li>
      
        
        <li class="howto"><a href="/guides/security-openid-connect-dev-services">OpenID Connect (OIDC)のDev ServicesとDev UI</a></li>
      
        
        <li class="guide"><a href="/guides/amqp-dev-services">Dev Services for AMQP</a></li>
      
        
        <li class="guide"><a href="/guides/apicurio-registry-dev-services">Dev Services for Apicurio Registry</a></li>
      
        
        <li class="guide"><a href="/guides/databases-dev-services">Dev Services for Databases</a></li>
      
        
        <li class="guide"><a href="/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      
        
        <li class="guide"><a href="/guides/infinispan-dev-services">Dev Services for Infinispan</a></li>
      
        
        <li class="guide"><a href="/guides/kafka-dev-services">Dev Services for Kafka</a></li>
      
        
        <li class="guide"><a href="/guides/kubernetes-dev-services">Dev Services for Kubernetes</a></li>
      
        
        <li class="guide"><a href="/guides/pulsar-dev-services">Dev Services for Pulsar</a></li>
      
        
        <li class="guide"><a href="/guides/rabbitmq-dev-services">Dev Services for RabbitMQ</a></li>
      
        
        <li class="guide"><a href="/guides/redis-dev-services">Dev Services for Redis</a></li>
      
        
        <li class="guide"><a href="/guides/dev-services">Dev Servicesの概要</a></li>
      
        
        <li class="guide"><a href="/guides/kafka-dev-ui">Kafka Dev UI</a></li>
      
        
        <li class="guide"><a href="/guides/tests-with-coverage">テストカバレッジの測定</a></li>
      
        
        <li class="reference"><a href="/guides/rabbitmq-reference">リアクティブメッセージング RabbitMQ コネクターのリファレンスドキュメント</a></li>
      
        
        <li class="guide"><a href="/guides/security-testing">セキュリティのテスト</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>ナビゲーション</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">ホーム</a></li>
          
          
          
            <li><a href="/about" target="_blank">Quarkusについて</a></li>
          
          
          
            <li><a href="/blog" target="_blank">ブログ</a></li>
          
          
          
            <li><a href="/insights" target="_blank">ポッドキャスト</a></li>
          
          
          
            <li><a href="/events" target="_blank">イベント</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">ニュースレター</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">ユーザーストーリー</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">ロードマップ</a></li>
          
          
          
            <li><a href="/security" target="_blank">セキュリティ&nbsp;ポリシー</a></li>
          
          
          
            <li><a href="/usage" target="_blank">使用方法</a></li>
          
          
          
            <li><a href="https://github.com/commonhaus/artwork/tree/main/projects/quarkus" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>フォローする</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>ヘルプ</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">サポート</a></li>
          
          
          
            <li><a href="/guides" target="_blank">ガイド</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">入門</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">ディスカッション</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">開発メーリングリスト</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>言語</span>
        <ul class="footer-links">
          
          
            <li><a href=" https://quarkus.io/ " target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href=" https://es.quarkus.io/ " target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href=" https://ja.quarkus.io/ " target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkusはコミュニティプロジェクトで構成されています</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate ORM</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">その他多数...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
