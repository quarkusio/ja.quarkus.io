<!DOCTYPE html>
<html lang="ja">







<head>
  <title>Flywayの使用 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com https://ajax.googleapis.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />

  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/guides/flyway" />
  <meta property="og:title" content="Flywayの使用" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/flyway">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/guides/flyway">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUSとは何か?</a></li>
          <li><a href="/developer-joy" class="">開発者満足</a></li>
          <li><a href="/performance" class="">パフォーマンス</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">標準</a></li>
          <li><a href="/versatility" class="">多用途性</a></li>
          <li><a href="/container-first" class="">コンテナ・ファースト</a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入門</a></li>
          <li><a href="/guides" class="active">ドキュメント</a></li>
          <li><a href="/userstories/" class="">ユーザーストーリー</a></li>  
          <li><a href="/qtips" class="">"Q" Tipsビデオ</a></li>          
          <li><a href="/books" class="">書籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">エクステンションを探す</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">エクステンションの使用</a></li>
          <li><a href="/guides/writing-extensions" class="">エクステンションの作成</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">エクステンションの共有</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">サポート</a></li>
          <li><a href="/blog" class="">ブログ</a></li>
          <li><a href="/discussion" class="">ディスカッション</a></li>
          <li><a href="/working-groups" class="">ワーキンググループ</a></li>
          <li><a href="/insights" class="">ポッドキャスト</a></li>
          <li><a href="/events" class="">イベント</a></li>
          <li><a href="/newsletter" class="">ニュースレター</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ロードマップ</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">コーディングを開始</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/guides/flyway" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/guides/flyway">ポルトガル（BR）</a></li>
          <li><a href="https://es.quarkus.io/guides/flyway">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/guides/flyway">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/guides/flyway">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>バージョン:</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" selected>3.31.3 - Latest</option>
        
        
        
        <option value="3.27" >3.27</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" >3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <a class="editlink" href="https://github.com/quarkusio/quarkus/edit/main/docs/src/main/asciidoc/flyway.adoc">このページを編集</a>
      
      <h1 class="text-caps">Flywayの使用 </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://flywaydb.org/">Flyway</a> は、JVM環境でよく使われているデータベースマイグレーションツールです。</p>
</div>
<div class="paragraph">
<p>Quarkusでは、このガイドで説明するように、Flywayを使用するためのファーストクラスのサポートを提供しています。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-support-for-flyway"><a class="anchor" href="#setting-up-support-for-flyway"></a>Flywayのサポートのセットアップ</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#developing-with-flyway">Flywayを使った開発</a> で示されているように、プロジェクトで Flyway を使い始めるには、以下のことを行う必要があります:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flyway で通常行うように、マイグレーションを <code>src/main/resources/db/migration</code> フォルダーに追加します。</p>
</li>
<li>
<p><code>migrate-at-start</code> オプションを有効にしてスキーマを自動的に移行するか、 <code>Flyway</code> オブジェクトを注入して通常のように移行を実行します。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>以下をビルドファイルに追加してください:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flyway エクステンション</p>
</li>
<li>
<p>お使いの JDBC ドライバーのエクステンション ( <code>quarkus-jdbc-postgresql</code> , <code>quarkus-jdbc-h2</code> , <code>quarkus-jdbc-mariadb</code> , &#8230;&#8203;)</p>
</li>
<li>
<p>(H2やSQLiteのような)インメモリデータベースやファイルデータベースを使用していない限り、使用しているデータベースに対応するflywayモジュールの依存関係を追加する必要があります。( 詳細は <a href="https://github.com/flyway/flyway/issues/3780">こちら</a> )</p>
</li>
</ul>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- Flyway specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- JDBC driver dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Flyway SQL Server specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Flyway MariaDB/MySQL specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Flyway Oracle specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-oracle&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Flyway PostgreSQL specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-postgresql&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Flyway DB2 specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-db2&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- HSQLDB specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-hsqldb&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Informix specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-informix&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Redshift specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-redshift&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Saphana specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-saphana&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Snowflake specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-snowflake&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Sybasease specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-database-sybasease&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Firebird specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-firebird&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- BigQuery specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-gcp-bigquery&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Spanner specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-gcp-spanner&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;!-- Singlestore specific dependencies --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;
    &lt;artifactId&gt;flyway-singlestore&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">// Flyway specific dependencies
implementation("io.quarkus:quarkus-flyway")
// JDBC driver dependencies
implementation("io.quarkus:quarkus-jdbc-postgresql")
// Flyway SQL Server specific dependencies
implementation("org.flywaydb:flyway-sqlserver")
// Flyway MariaDB/MySQL specific dependencies
implementation("org.flywaydb:flyway-mysql")
// Flyway Oracle specific dependencies
implementation("org.flywaydb:flyway-database-oracle")
// Flyway PostgreSQL specific dependencies
implementation("org.flywaydb:flyway-database-postgresql")
// Flyway DB2 specific dependencies
implementation("org.flywaydb:flyway-database-db2")
// HSQLDB specific dependencies
implementation("org.flywaydb:flyway-database-hsqldb")
// Informix specific dependencies
implementation("org.flywaydb:flyway-database-informix")
// Redshift specific dependencies
implementation("org.flywaydb:flyway-database-redshift")
// Saphana specific dependencies
implementation("org.flywaydb:flyway-database-saphana")
// Snowflake specific dependencies
implementation("org.flywaydb:flyway-database-snowflake")
// Sybasease specific dependencies
implementation("org.flywaydb:flyway-database-sybasease")
// Firebird specific dependencies
implementation("org.flywaydb:flyway-firebird")
// BigQuery specific dependencies
implementation("org.flywaydb:flyway-gcp-bigquery")
// Spanner specific dependencies
implementation("org.flywaydb:flyway-gcp-spanner")
// Singlestore specific dependencies
implementation("org.flywaydb:flyway-singlestore:10.15.0")</code></pre>
</div>
</div>
<div class="paragraph">
<p>Flyway のサポートは、Quarkus のデータソース設定に依存しています。この設定は、デフォルトのデータソースだけでなく、 すべての <a href="#multiple-datasources">名前の付いたデータソース</a> に対してカスタマイズすることができます。まず、Flyway によるスキーマ管理を可能にするために、データソース設定を <code>application.properties</code> ファイルに追加する必要があります。また、以下のプロパティーを使用して、Flyway の動作をカスタマイズすることができます。</p>
</div>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="ビルド時に固定"></i></span>ビルド時に固定される設定プロパティ - 他のすべての設定プロパティは実行時にオーバーライド可能 <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">型</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-flyway_quarkus-flyway-enabled"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-enabled"><code>quarkus.flyway.enabled</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.enabled' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Flyway is enabled <strong>during the build</strong>.</p>
</div>
<div class="paragraph">
<p>If Flyway is disabled, the Flyway beans won&#8217;t be created and Flyway won&#8217;t be usable.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6332">QUARKUS_FLYWAY_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6332" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-flyway_section_quarkus-flyway"></a> <span class="section-name section-level0"><a href="#quarkus-flyway_section_quarkus-flyway">Datasources</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">型</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-flyway_quarkus-flyway-locations"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-locations"><code>quarkus.flyway.locations</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.locations' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".locations</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".locations' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Comma-separated list of locations to scan recursively for migrations. The location type is determined by its prefix.</p>
</div>
<div class="paragraph">
<p>Unprefixed locations or locations starting with classpath: point to a package on the classpath and may contain both SQL and Java-based migrations.</p>
</div>
<div class="paragraph">
<p>Locations starting with filesystem: point to a directory on the filesystem, may only contain SQL migrations and are only scanned recursively down non-hidden directories.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6333">QUARKUS_FLYWAY_LOCATIONS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6333" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>db/migration</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-flyway_quarkus-flyway-callbacks"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-callbacks"><code>quarkus.flyway.callbacks</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.callbacks' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".callbacks</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".callbacks' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Comma-separated list of fully qualified class names of Callback implementations to use to hook into the Flyway lifecycle. The <code>org.flywaydb.core.api.callback.Callback</code> subclass must have a no-args constructor and must not be abstract. These classes must also not have any fields that hold state (unless that state is initialized in the constructor).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6334">QUARKUS_FLYWAY_CALLBACKS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6334" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-active"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-active"><code>quarkus.flyway.active</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.active' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".active</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".active' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Flag to activate/deactivate Flyway for a specific datasource at runtime.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6335">QUARKUS_FLYWAY_ACTIVE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6335" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>'true' if the datasource is active; 'false' otherwise</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-connect-retries"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-connect-retries"><code>quarkus.flyway.connect-retries</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.connect-retries' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".connect-retries</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".connect-retries' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum number of retries when attempting to connect to the database.</p>
</div>
<div class="paragraph">
<p>After each failed attempt, Flyway will wait up to the configured <code>connect-retries-interval</code> duration before attempting to connect again, up to the maximum number of times specified by connectRetries.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6336">QUARKUS_FLYWAY_CONNECT_RETRIES</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6336" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-connect-retries-interval"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-connect-retries-interval"><code>quarkus.flyway.connect-retries-interval</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.connect-retries-interval' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".connect-retries-interval</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".connect-retries-interval' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum time between retries when attempting to connect to the database.</p>
</div>
<div class="paragraph">
<p>This will cap the interval between connect retries to the value provided.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6337">QUARKUS_FLYWAY_CONNECT_RETRIES_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6337" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-quarkus-flyway_quarkus-flyway"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>120 seconds</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-default-schema"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-default-schema"><code>quarkus.flyway.default-schema</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.default-schema' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".default-schema</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".default-schema' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the default schema managed by Flyway. This schema name is case-sensitive. If not specified, but <em>schemas</em> is, Flyway uses the first schema in that list. If that is also not specified, Flyway uses the default schema for the database connection.</p>
</div>
<div class="paragraph">
<p>Consequences:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>This schema will be the one containing the schema history table.</p>
</li>
<li>
<p>This schema will be the default for the database connection (provided the database supports this concept).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6338">QUARKUS_FLYWAY_DEFAULT_SCHEMA</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6338" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-jdbc-url"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-jdbc-url"><code>quarkus.flyway.jdbc-url</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.jdbc-url' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".jdbc-url</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".jdbc-url' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-8" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The JDBC URL that Flyway uses to connect to the database. Falls back to the datasource URL if not specified.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6339">QUARKUS_FLYWAY_JDBC_URL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6339" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-username"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-username"><code>quarkus.flyway.username</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.username' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".username</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".username' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-9" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The username that Flyway uses to connect to the database. If no specific JDBC URL is configured, falls back to the datasource username if not specified.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6340">QUARKUS_FLYWAY_USERNAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6340" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-password"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-password"><code>quarkus.flyway.password</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.password' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".password</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".password' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-10" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The password that Flyway uses to connect to the database. If no specific JDBC URL is configured, falls back to the datasource password if not specified.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6341">QUARKUS_FLYWAY_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6341" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-schemas"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-schemas"><code>quarkus.flyway.schemas</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.schemas' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".schemas</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".schemas' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-11" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Comma-separated case-sensitive list of schemas managed by Flyway. The first schema in the list will be automatically set as the default one during the migration. It will also be the one containing the schema history table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6342">QUARKUS_FLYWAY_SCHEMAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6342" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-table"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-table"><code>quarkus.flyway.table</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.table' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".table</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".table' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-12" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of Flyway&#8217;s schema history table. By default (single-schema mode), the schema history table is placed in the default schema for the connection provided by the datasource. When the flyway.schemas property is set (multi-schema mode), the schema history table is placed in the first schema of the list.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6343">QUARKUS_FLYWAY_TABLE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6343" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-sql-migration-prefix"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-sql-migration-prefix"><code>quarkus.flyway.sql-migration-prefix</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.sql-migration-prefix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".sql-migration-prefix</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".sql-migration-prefix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-13" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The file name prefix for versioned SQL migrations. Versioned SQL migrations have the following file name structure: prefixVERSIONseparatorDESCRIPTIONsuffix , which using the defaults translates to V1.1__My_description.sql</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6344">QUARKUS_FLYWAY_SQL_MIGRATION_PREFIX</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6344" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-repeatable-sql-migration-prefix"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-repeatable-sql-migration-prefix"><code>quarkus.flyway.repeatable-sql-migration-prefix</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.repeatable-sql-migration-prefix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".repeatable-sql-migration-prefix</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".repeatable-sql-migration-prefix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-14" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The file name prefix for repeatable SQL migrations. Repeatable SQL migrations have the following file name structure: prefixSeparatorDESCRIPTIONsuffix , which using the defaults translates to R__My_description.sql</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6345">QUARKUS_FLYWAY_REPEATABLE_SQL_MIGRATION_PREFIX</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6345" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-clean-at-start"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-clean-at-start"><code>quarkus.flyway.clean-at-start</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.clean-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".clean-at-start</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".clean-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-15" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to execute Flyway clean command automatically when the application starts, false otherwise.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6346">QUARKUS_FLYWAY_CLEAN_AT_START</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6346" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-clean-disabled"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-clean-disabled"><code>quarkus.flyway.clean-disabled</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.clean-disabled' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".clean-disabled</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".clean-disabled' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-16" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to prevent Flyway clean operations, false otherwise.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6347">QUARKUS_FLYWAY_CLEAN_DISABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6347" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-migrate-at-start"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-migrate-at-start"><code>quarkus.flyway.migrate-at-start</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.migrate-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".migrate-at-start</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".migrate-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-17" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to execute Flyway automatically when the application starts, false otherwise.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6348">QUARKUS_FLYWAY_MIGRATE_AT_START</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6348" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-repair-at-start"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-repair-at-start"><code>quarkus.flyway.repair-at-start</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.repair-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".repair-at-start</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".repair-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-18" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to execute a Flyway repair command when the application starts, false otherwise.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6349">QUARKUS_FLYWAY_REPAIR_AT_START</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6349" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-validate-at-start"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-validate-at-start"><code>quarkus.flyway.validate-at-start</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.validate-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".validate-at-start</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".validate-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-19" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to execute a Flyway validate command when the application starts, false otherwise.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6350">QUARKUS_FLYWAY_VALIDATE_AT_START</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6350" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-validate-at-start-clean-on-validation-error"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-validate-at-start-clean-on-validation-error"><code>quarkus.flyway.validate-at-start.clean-on-validation-error</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.validate-at-start.clean-on-validation-error' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".validate-at-start.clean-on-validation-error</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".validate-at-start.clean-on-validation-error' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-20" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to automatically execute a Flyway clean command when a validation error occurs at start, false otherwise.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6351">QUARKUS_FLYWAY_VALIDATE_AT_START_CLEAN_ON_VALIDATION_ERROR</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6351" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-baseline-on-migrate"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-baseline-on-migrate"><code>quarkus.flyway.baseline-on-migrate</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.baseline-on-migrate' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".baseline-on-migrate</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".baseline-on-migrate' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-21" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to execute Flyway baseline before migrations This flag is ignored if the flyway_schema_history table exists in the current schema or if the current schema is empty. Note that this will not automatically call migrate, you must either enable baselineAtStart or programmatically call flyway.migrate().</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6352">QUARKUS_FLYWAY_BASELINE_ON_MIGRATE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6352" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-baseline-at-start"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-baseline-at-start"><code>quarkus.flyway.baseline-at-start</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.baseline-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".baseline-at-start</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".baseline-at-start' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-22" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>true to execute Flyway baseline automatically when the application starts. This flag is ignored if the flyway_schema_history table exists in the current schema. This will work even if the current schema is empty.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6353">QUARKUS_FLYWAY_BASELINE_AT_START</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6353" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-baseline-version"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-baseline-version"><code>quarkus.flyway.baseline-version</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.baseline-version' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".baseline-version</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".baseline-version' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-23" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The initial baseline version.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6354">QUARKUS_FLYWAY_BASELINE_VERSION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6354" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-baseline-description"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-baseline-description"><code>quarkus.flyway.baseline-description</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.baseline-description' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".baseline-description</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".baseline-description' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-24" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The description to tag an existing schema with when executing baseline.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6355">QUARKUS_FLYWAY_BASELINE_DESCRIPTION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6355" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-validate-on-migrate"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-validate-on-migrate"><code>quarkus.flyway.validate-on-migrate</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.validate-on-migrate' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".validate-on-migrate</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".validate-on-migrate' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-25" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether to automatically call validate when performing a migration.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6356">QUARKUS_FLYWAY_VALIDATE_ON_MIGRATE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6356" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-out-of-order"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-out-of-order"><code>quarkus.flyway.out-of-order</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.out-of-order' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".out-of-order</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".out-of-order' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-26" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Allows migrations to be run "out of order".</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6357">QUARKUS_FLYWAY_OUT_OF_ORDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6357" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-ignore-missing-migrations"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-ignore-missing-migrations"><code>quarkus.flyway.ignore-missing-migrations</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.ignore-missing-migrations' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".ignore-missing-migrations</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".ignore-missing-migrations' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-27" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Ignore missing migrations when reading the history table. When set to true migrations from older versions present in the history table but absent in the configured locations will be ignored (and logged as a warning), when false (the default) the validation step will fail.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6358">QUARKUS_FLYWAY_IGNORE_MISSING_MIGRATIONS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6358" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-ignore-future-migrations"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-ignore-future-migrations"><code>quarkus.flyway.ignore-future-migrations</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.ignore-future-migrations' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".ignore-future-migrations</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".ignore-future-migrations' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-28" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Ignore future migrations when reading the history table. When set to true migrations from newer versions present in the history table but absent in the configured locations will be ignored (and logged as a warning), when false (the default) the validation step will fail.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6359">QUARKUS_FLYWAY_IGNORE_FUTURE_MIGRATIONS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6359" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-placeholders-placeholder-key"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-placeholders-placeholder-key"><code>quarkus.flyway.placeholders."placeholder-key"</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.placeholders."placeholder-key"' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".placeholders."placeholder-key"</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".placeholders."placeholder-key"' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-29" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the placeholders to replace in SQL migration scripts.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6360">QUARKUS_FLYWAY_PLACEHOLDERS__PLACEHOLDER_KEY_</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6360" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Map&lt;String,String&gt;</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-create-schemas"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-create-schemas"><code>quarkus.flyway.create-schemas</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.create-schemas' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".create-schemas</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".create-schemas' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-30" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Flyway should attempt to create the schemas specified in the schemas property</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6361">QUARKUS_FLYWAY_CREATE_SCHEMAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6361" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-placeholder-prefix"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-placeholder-prefix"><code>quarkus.flyway.placeholder-prefix</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.placeholder-prefix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".placeholder-prefix</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".placeholder-prefix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-31" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Prefix of every placeholder (default: ${ )</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6362">QUARKUS_FLYWAY_PLACEHOLDER_PREFIX</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6362" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-placeholder-suffix"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-placeholder-suffix"><code>quarkus.flyway.placeholder-suffix</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.placeholder-suffix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".placeholder-suffix</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".placeholder-suffix' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-32" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Suffix of every placeholder (default: } )</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6363">QUARKUS_FLYWAY_PLACEHOLDER_SUFFIX</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6363" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-init-sql"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-init-sql"><code>quarkus.flyway.init-sql</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.init-sql' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".init-sql</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".init-sql' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-33" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The SQL statements to run to initialize a new database connection immediately after opening it.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6364">QUARKUS_FLYWAY_INIT_SQL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6364" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-validate-migration-naming"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-validate-migration-naming"><code>quarkus.flyway.validate-migration-naming</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.validate-migration-naming' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".validate-migration-naming</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".validate-migration-naming' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-34" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether to validate migrations and callbacks whose scripts do not obey the correct naming convention. A failure can be useful to check that errors such as case sensitivity in migration prefixes have been corrected.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6365">QUARKUS_FLYWAY_VALIDATE_MIGRATION_NAMING</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6365" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-flyway_quarkus-flyway-ignore-migration-patterns"></a> <span class="property-path"><a href="#quarkus-flyway_quarkus-flyway-ignore-migration-patterns"><code>quarkus.flyway.ignore-migration-patterns</code></a></span>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway.ignore-migration-patterns' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div class="paragraph">
<p><code>quarkus.flyway."datasource-name".ignore-migration-patterns</code>
<button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-text='quarkus.flyway."datasource-name".ignore-migration-patterns' title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
<div id="conf-collapsible-desc-35" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Ignore migrations during validate and repair according to a given list of patterns (see <a href="https://flywaydb.org/documentation/configuration/parameters/ignoreMigrationPatterns" class="bare">https://flywaydb.org/documentation/configuration/parameters/ignoreMigrationPatterns</a> for more information). When this configuration is set, the ignoreFutureMigrations and ignoreMissingMigrations settings are ignored. Patterns are comma separated.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-6366">QUARKUS_FLYWAY_IGNORE_MIGRATION_PATTERNS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-6366" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-flyway_quarkus-flyway" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">期間フォーマットについて</div>
<div class="paragraph">
<p>期間の値を書くには、標準の <code>java.time.Duration</code> フォーマットを使います。
詳細は <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>数字で始まる簡略化した書式を使うこともできます:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値のみの場合は、秒単位の時間を表します。</p>
</li>
<li>
<p>数値の後に <code>ms</code> が続く場合は、ミリ秒単位の時間を表します。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>その他の場合は、簡略化されたフォーマットが解析のために <code>java.time.Duration</code> フォーマットに変換されます：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値の後に <code>h</code> 、 <code>m</code> 、 <code>s</code> が続く場合は、その前に <code>PT</code> が付けられます。</p>
</li>
<li>
<p>数値の後に <code>d</code> が続く場合は、その前に <code>P</code> が付けられます。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="developing-with-flyway"><a class="anchor" href="#developing-with-flyway"></a>Flywayを使った開発</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>application.properties</code> ファイルの例は以下の通りです。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># configure your datasource
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=sarah
quarkus.datasource.password=connor
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/mydatabase

# Run Flyway migrations automatically
quarkus.flyway.migrate-at-start=true

# More Flyway configuration options
# quarkus.flyway.baseline-on-migrate=true
# quarkus.flyway.baseline-version=1.0.0
# quarkus.flyway.baseline-description=Initial version
# quarkus.flyway.connect-retries=10
# quarkus.flyway.schemas=TEST_SCHEMA
# quarkus.flyway.table=flyway_quarkus_history
# quarkus.flyway.locations=db/location1,db/location2
# quarkus.flyway.sql-migration-prefix=X
# quarkus.flyway.repeatable-sql-migration-prefix=K</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>src/main/resources/db/migration/V1.0.0__Quarkus.sql</code> のように Flyway の命名規則に従って、デフォルトフォルダーに SQL マイグレーションを追加します。 </p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CREATE TABLE quarkus
(
  id   INT,
  name VARCHAR(20)
);
INSERT INTO quarkus(id, name)
VALUES (1, 'QUARKED');</code></pre>
</div>
</div>
<div class="paragraph">
<p>これでアプリケーションを起動でき、Quarkus は設定に従って Flyway のマイグレーションメソッドを実行します。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
上記の例のように <code>quarkus.flyway.migrate-at-start=true</code> とすることで Quarkusは <a href="lifecycle">アプリケーションの起動</a> の一部としてFlywayのマイグレーションを実行します。
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class MigrationService {
    // You can Inject the object if you want to use it manually
    @Inject
    Flyway flyway; <i class="conum" data-value="1"></i><b>(1)</b>

    public void checkMigration() {
        // This will print 1.0.0
        System.out.println(flyway.info().current().getVersion().toString());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Flyway オブジェクトを直接使用する場合はインジェクトします。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
開発モードでは、既存のマイグレーションスクリプトが変更された場合、Quarkusは自動的にアプリケーションを再起動します。新しいマイグレーションスクリプトの開発やテスト中にこの機能を利用したい場合は、 <code>%dev.quarkus.flyway.clean-at-start=true</code> を設定し、変更したマイグレーションをFlywayが実際に実行するようにする必要があります。
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="repairing-the-flyway-schema-history-table"><a class="anchor" href="#repairing-the-flyway-schema-history-table"></a>Flywayスキーマ履歴テーブルの修復</h3>
<div class="paragraph">
<p>Flyway スキーマ履歴テーブルの <em>修復</em> が必要となるシナリオはさまざまです。そのようなシナリオの1つは、トランザクションDDL文をサポートしていないデータベースで移行が失敗した場合です。</p>
</div>
<div class="paragraph">
<p>このような状況では、 <a href="https://flywaydb.org/documentation/command/repair">Flyway repairコマンド</a> が便利です。Quarkusでは、マイグレーション前に <code>quarkus.flyway.repair-at-start=true</code> を設定して自動的に実行するか、 <code>Flyway</code> オブジェクトをインジェクションして <code>Flyway#repair()</code> を呼び出すことで手動で実行することができます。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-datasources"><a class="anchor" href="#multiple-datasources"></a>複数のデータソース</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Flyway は、複数のデータソースに対して設定可能です。Flyway のプロパティーには、例えば、名前の付いたデータソースと全く同じように接頭辞が付けられます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.datasource.db-kind=h2
quarkus.datasource.username=username-default
quarkus.datasource.jdbc.url=jdbc:h2:tcp://localhost/mem:default
quarkus.datasource.jdbc.max-size=13

quarkus.datasource.users.db-kind=h2
quarkus.datasource.users.username=username1
quarkus.datasource.users.jdbc.url=jdbc:h2:tcp://localhost/mem:users
quarkus.datasource.users.jdbc.max-size=11

quarkus.datasource.inventory.db-kind=h2
quarkus.datasource.inventory.username=username2
quarkus.datasource.inventory.jdbc.url=jdbc:h2:tcp://localhost/mem:inventory
quarkus.datasource.inventory.jdbc.max-size=12

# Flyway configuration for the default datasource
quarkus.flyway.schemas=DEFAULT_TEST_SCHEMA
quarkus.flyway.locations=db/default/location1,db/default/location2
quarkus.flyway.migrate-at-start=true

# Flyway configuration for the "users" datasource
quarkus.flyway.users.schemas=USERS_TEST_SCHEMA
quarkus.flyway.users.locations=db/users/location1,db/users/location2
quarkus.flyway.users.migrate-at-start=true

# Flyway configuration for the "inventory" datasource
quarkus.flyway.inventory.schemas=INVENTORY_TEST_SCHEMA
quarkus.flyway.inventory.locations=db/inventory/location1,db/inventory/location2
quarkus.flyway.inventory.migrate-at-start=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>キーに余分なビットがあることに注意してください。構文は次の通りです。 <code>quarkus.flyway.[optional name.][datasource property]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
設定なしの場合、Flyway はデフォルト設定を使用して各データソースに対して設定されます。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="customizing-flyway"><a class="anchor" href="#customizing-flyway"></a>Flywayのカスタマイズ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkusが提供する設定オプションに加えてFlywayを設定する必要がある場合、 <code>io.quarkus.flyway.FlywayConfigurationCustomizer</code> クラスが便利です。</p>
</div>
<div class="paragraph">
<p>Flywayをデフォルトのデータソース用にカスタマイズするには、次のようなBeanを追加するだけです:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Singleton
public static class MyCustomizer implements FlywayConfigurationCustomizer {

    @Override
    public void customize(FluentConfiguration configuration) {
        // do something with configuration
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>名前付きデータソースを使用する場合、 <code>@FlywayDataSource</code> アノテーションを使用して、カスタマイザーが適用されるデータソースを指定することができます。例えば、複数のデータソースがあり、そのうちの1つが <code>users</code> という名前で、そのデータソースに対してのみ Flyway のカスタマイズが必要な場合、以下のコードを使用することができます:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Singleton
@FlywayDataSource("users")
public static class UsersCustomizer implements FlywayConfigurationCustomizer {

    @Override
    public void customize(FluentConfiguration configuration) {
        // do something with configuration
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-the-flyway-object"><a class="anchor" href="#using-the-flyway-object"></a>Flyway オブジェクトの使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Flyway</code> オブジェクトを直接使いたい場合は、以下のように注入できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ApplicationScoped
public class MigrationService {
    // You can Inject the object if you want to use it manually
    @Inject
    Flyway flyway; <i class="conum" data-value="1"></i><b>(1)</b>

    @Inject
    @FlywayDataSource("inventory") <i class="conum" data-value="2"></i><b>(2)</b>
    Flyway flywayForInventory;

    @Inject
    @Named("flyway_users") <i class="conum" data-value="3"></i><b>(3)</b>
    Flyway flywayForUsers;

    public void checkMigration() {
        // Use the flyway instance manually
        flyway.clean(); <i class="conum" data-value="4"></i><b>(4)</b>
        flyway.migrate();
        // This will print 1.0.0
        System.out.println(flyway.info().current().getVersion().toString());
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Flyway オブジェクトを直接使用する場合はインジェクトします。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Quarkus <code>FlywayDataSource</code> 修飾子を使用して、指定されたデータソースに Flyway を注入します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>名前の付いたデータソースへの Flyway の注入</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Flyway インスタンスの直接使用</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="flyway-and-hibernate-orm"><a class="anchor" href="#flyway-and-hibernate-orm"></a>FlywayとHibernate ORM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>FlywayをHibernate ORMと一緒に使用する場合、Dev UIを使用して初期スキーマ作成スクリプトを生成できます。</p>
</div>
<div class="paragraph">
<p>この機能の詳細については、 <a href="hibernate-orm.html#flyway">Hibernate ORM ガイド</a>を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reactive-datasources"><a class="anchor" href="#reactive-datasources"></a>Flyway とリアクティブ・データソース</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Flywayは内部的にJDBCデータソースに依存していますが、
リアクティブな使用例では <a href="reactive-sql-clients">リアクティブSQLクライアント</a> に依存しています。
Quarkusでは、 <a href="datasource#jdbc-and-reactive-datasources-simultaneously">1つの設定済みデータソースをリアクティブクライアントとJDBCの両方で使用</a> できるため、これは問題ではありません。</p>
</div>
<div class="paragraph">
<p>リアクティブにアクセスするデータソースでFlywayを使用するには、
そのデータソースを <a href="datasource#jdbc-datasource">JDBC</a> と <a href="datasource#reactive-datasource">リアクティブ</a> の両方に設定します。
これには特に、JDBCドライバとリアクティブクライアントの両方について、Quarkusのエクステンション、たとえば <code>quarkus-jdbc-postgresql</code> <strong>と</strong> <code>quarkus-reactive-pg-client</code> に依存関係を追加する必要があります。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="flyway-on-kubernetes"><a class="anchor" href="#flyway-on-kubernetes"></a>KubernetesでFlyway</h2>
<div class="sectionbody">
<div class="paragraph">
<p>アプリケーションの起動ごとにFlywayの初期化を実行しない方が便利な場合があります。そのような例の一つがデプロイ時です。</p>
</div>
<div class="paragraph">
<p>Kubernetes上では、すべてのレプリカでFlywayを実行することは意味がありません。
代わりに、Flywayを一度実行してから、Flywayなしで実際のアプリケーションを起動することが望ましいです。
このユースケースをサポートするために、Kubernetes用のマニフェストを生成するとき、生成されたマニフェストにはFlyway用のKubernetes初期化 <code>Job</code> が含まれます。 <code>Job</code> は初期化を実行し、 <code>Job</code> が正常に完了すると、実際の <code>Pod</code> が開始されます。</p>
</div>
<div class="sect2">
<h3 id="disabling"><a class="anchor" href="#disabling"></a>無効化</h3>
<div class="paragraph">
<p>この機能はデフォルトで有効になっており、以下を使用してグローバルに無効にすることができます:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.kubernetes.init-task-defaults.enabled=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>あるいはOpenShift上では次を使用することができます:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.openshift.init-task-defaults.enabled=false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-a-custom-image-that-controls-waiting-for-the-job"><a class="anchor" href="#using-a-custom-image-that-controls-waiting-for-the-job"></a>ジョブ待機をコントロールするカスタム画像の使用</h3>
<div class="paragraph">
<p>デフォルトでは <code>groundnuty/k8s-wait-for:no-root-v1.7</code> である <code>wait-for</code> イメージを変更するには、次を使用できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.kubernetes.init-task-defaults.wait-for-container.image=my/wait-for-image:1.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>あるいはOpenShift上では次を使用することができます:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.openshift.init-task-defaults.wait-for-container.image=my/wait-for-image:1.0</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>注</strong>: この文脈では、グローバルとは、 <code>初期化タスクの外部化をサポートする全てのエクステンションに対して</code> を意味します。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="known-issues-in-flyway"><a class="anchor" href="#known-issues-in-flyway"></a>Known Issues in Flyway</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="oracle-multiple-schemas-in-dev-services"><a class="anchor" href="#oracle-multiple-schemas-in-dev-services"></a>Oracle: Multiple schemas in Dev Services</h3>
<div class="paragraph">
<p>When having multiple schemas in Oracle, you can use the <code>quarkus.flyway.schemas</code> property to specify the schemas that Flyway should manage.
However, because this is executed in the DB as the <code>quarkus</code> user, you need to either give DBA privileges to the user that is executing the migration (<code>quarkus</code>) or perform the necessary DDLs before the Dev Service starts. This is done with the <code>quarkus.datasource.devservices.init-privileged-script-path</code> configuration.</p>
</div>
<div class="sect3">
<h4 id="giving-dba-privileges-to-the-user"><a class="anchor" href="#giving-dba-privileges-to-the-user"></a>Giving DBA privileges to the user</h4>
<div class="ulist">
<ul>
<li>
<p>In your application, create a SQL file named <code>001-devservice-init.sql</code> (for ordering purposes, it can be any name really) in your <code>src/main/resources</code> with the following content:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">ALTER SESSION SET CONTAINER=quarkus;
GRANT DBA TO quarkus;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the following configuration to your <code>application.properties</code>:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.datasource.devservices.init-privileged-script-path=001-devservice-init.sql</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#setting-up-support-for-flyway">Flywayのサポートのセットアップ</a></li>
<li><a href="#developing-with-flyway">Flywayを使った開発</a>
<ul class="sectlevel2">
<li><a href="#repairing-the-flyway-schema-history-table">Flywayスキーマ履歴テーブルの修復</a></li>
</ul>
</li>
<li><a href="#multiple-datasources">複数のデータソース</a></li>
<li><a href="#customizing-flyway">Flywayのカスタマイズ</a></li>
<li><a href="#using-the-flyway-object">Flyway オブジェクトの使用</a></li>
<li><a href="#flyway-and-hibernate-orm">FlywayとHibernate ORM</a></li>
<li><a href="#reactive-datasources">Flyway とリアクティブ・データソース</a></li>
<li><a href="#flyway-on-kubernetes">KubernetesでFlyway</a>
<ul class="sectlevel2">
<li><a href="#disabling">無効化</a></li>
<li><a href="#using-a-custom-image-that-controls-waiting-for-the-job">ジョブ待機をコントロールするカスタム画像の使用</a></li>
</ul>
</li>
<li><a href="#known-issues-in-flyway">Known Issues in Flyway</a>
<ul class="sectlevel2">
<li><a href="#oracle-multiple-schemas-in-dev-services">Oracle: Multiple schemas in Dev Services</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>関連コンテンツ</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>同じエクステンションについて</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/guides/init-tasks">初期化タスク</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>同じトピックについて</h3>
      <ul class="related-content">
      
        
        <li class="reference"><a href="/guides/datasource">Quarkusでデータソースを設定</a></li>
      
        
        <li class="guide"><a href="/guides/databases-dev-services">Dev Services for Databases</a></li>
      
        
        <li class="guide"><a href="/guides/reactive-sql-clients">リアクティブ SQL クライアント</a></li>
      
        
        <li class="guide"><a href="/guides/liquibase">Liquibaseの使用</a></li>
      
        
        <li class="guide"><a href="/guides/liquibase-mongodb">Liquibase MongoDBの使用</a></li>
      
        
        <li class="guide"><a href="/guides/cache">アプリケーションデータのキャッシング</a></li>
      
        
        <li class="guide"><a href="/guides/elasticsearch">Elasticsearchクラスターの実行</a></li>
      
        
        <li class="guide"><a href="/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      
        
        <li class="guide"><a href="/guides/infinispan-dev-services">Dev Services for Infinispan</a></li>
      
        
        <li class="guide"><a href="/guides/lra-dev-services">Dev Services for LRA</a></li>
      
        
        <li class="guide"><a href="/guides/redis-dev-services">Dev Services for Redis</a></li>
      
        
        <li class="reference"><a href="/guides/cache-infinispan-reference">Infinispan キャッシュ</a></li>
      
        
        <li class="reference"><a href="/guides/infinispan-client-reference">Infinispanクライアントエクステンションリファレンスガイド</a></li>
      
        
        <li class="guide"><a href="/guides/init-tasks">初期化タスク</a></li>
      
        
        <li class="guide"><a href="/guides/lra">Narayana LRA 参加者サポート</a></li>
      
        
        <li class="howto"><a href="/guides/security-jpa">Quarkus SecurityとJakarta Persistence</a></li>
      
        
        <li class="reference"><a href="/guides/cache-redis-reference">Redisキャッシュ</a></li>
      
        
        <li class="reference"><a href="/guides/redis-reference">Redis エクステンションのリファレンスガイド</a></li>
      
        
        <li class="guide"><a href="/guides/hibernate-orm-panache">Simplified Hibernate ORM with Panache</a></li>
      
        
        <li class="guide"><a href="/guides/hibernate-orm-panache-kotlin">Simplified Hibernate ORM with PanacheとKotlin</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>ナビゲーション</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">ホーム</a></li>
          
          
          
            <li><a href="/about" target="_blank">Quarkusについて</a></li>
          
          
          
            <li><a href="/blog" target="_blank">ブログ</a></li>
          
          
          
            <li><a href="/insights" target="_blank">ポッドキャスト</a></li>
          
          
          
            <li><a href="/events" target="_blank">イベント</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">ニュースレター</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">ユーザーストーリー</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">ロードマップ</a></li>
          
          
          
            <li><a href="/security" target="_blank">セキュリティ&nbsp;ポリシー</a></li>
          
          
          
            <li><a href="/usage" target="_blank">使用方法</a></li>
          
          
          
            <li><a href="https://github.com/commonhaus/artwork/tree/main/projects/quarkus" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>フォローする</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>ヘルプ</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">サポート</a></li>
          
          
          
            <li><a href="/guides" target="_blank">ガイド</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">入門</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">ディスカッション</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">開発メーリングリスト</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>言語</span>
        <ul class="footer-links">
          
          
            <li><a href=" https://quarkus.io/ " target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href=" https://es.quarkus.io/ " target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href=" https://ja.quarkus.io/ " target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkusはコミュニティプロジェクトで構成されています</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate ORM</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">その他多数...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
