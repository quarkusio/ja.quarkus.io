<!DOCTYPE html>
<html lang="ja">







<head>
  <title>TLS レジストリーリファレンス - 3.15 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com https://ajax.googleapis.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />

  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.15/guides/tls-registry-reference" />
  <meta property="og:title" content="TLS レジストリーリファレンス - 3.15" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/tls-registry-reference">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/version/3.15/guides/tls-registry-reference">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUSとは何か?</a></li>
          <li><a href="/developer-joy" class="">開発者満足</a></li>
          <li><a href="/performance" class="">パフォーマンス</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">標準</a></li>
          <li><a href="/versatility" class="">多用途性</a></li>
          <li><a href="/container-first" class="">コンテナ・ファースト</a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入門</a></li>
          <li><a href="/guides" class="active">ドキュメント</a></li>
          <li><a href="/userstories/" class="">ユーザーストーリー</a></li>  
          <li><a href="/qtips" class="">"Q" Tipsビデオ</a></li>          
          <li><a href="/books" class="">書籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">エクステンションを探す</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">エクステンションの使用</a></li>
          <li><a href="/guides/writing-extensions" class="">エクステンションの作成</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">エクステンションの共有</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">サポート</a></li>
          <li><a href="/blog" class="">ブログ</a></li>
          <li><a href="/discussion" class="">ディスカッション</a></li>
          <li><a href="/working-groups" class="">ワーキンググループ</a></li>
          <li><a href="/insights" class="">ポッドキャスト</a></li>
          <li><a href="/events" class="">イベント</a></li>
          <li><a href="/newsletter" class="">ニュースレター</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ロードマップ</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">コーディングを開始</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.15/guides/tls-registry-reference" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.15/guides/tls-registry-reference">ポルトガル（BR）</a></li>
          <li><a href="https://es.quarkus.io/version/3.15/guides/tls-registry-reference">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.15/guides/tls-registry-reference">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.15/guides/tls-registry-reference">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.15/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>バージョン:</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.31.3 - Latest</option>
        
        
        
        <option value="3.27" >3.27</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" selected>3.15</option>
        
        
        
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <h1 class="text-caps">TLS レジストリーリファレンス </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>TLS レジストリーは、TLS 設定を一元管理する Quarkus エクステンションです。アプリケーション全体のセキュアな接続の管理と保守を容易にします。
TLS 設定を 1 カ所で集中して定義する場合、TLS レジストリーを使用して、アプリケーション内の複数のコンポーネントからこの設定を参照できます。これにより、一貫性が確保され、設定エラーの可能性が軽減されます。</p>
</div>
<div class="paragraph">
<p>TLS レジストリーは設定を統合し、複数の名前付き設定をサポートしています。
したがって、さまざまなアプリケーションパーツに合わせて TLS 設定をカスタマイズできます。
この柔軟性は、各コンポーネントに異なるセキュリティー設定が必要な場合に特に役立ちます。</p>
</div>
<div class="paragraph">
<p>The TLS Registry extension is automatically included in your project when you use compatible extensions, such as Quarkus REST, gRPC
, or Reactive Routes
.
As a result, applications that use the TLS Registry can be ready to handle secure communications out of the box.</p>
</div>
<div class="paragraph">
<p>TLS レジストリーは、証明書の自動再読み込み、
Let&#8217;s Encrypt (ACME) との統合、
Kubernetes Cert-Manager のサポート、
および PKCS12、PEM、JKS などのさまざまなキーストアフォーマットとの互換性も提供します。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-the-tls-registry"><a class="anchor" href="#using-the-tls-registry"></a>1. TLS レジストリーの使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>キーとトラストストアを含む TLS 接続を設定するには、 <code>quarkus.tls.*</code> プロパティーを使用します。
これらのプロパティーは次の場合に必要です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>デフォルトの TLS 設定を設定する (<code>quarkus.tls.*</code> の直下に定義)。</p>
</li>
<li>
<p><code>quarkus.tls.&lt;name&gt;.*</code> を使用して、個別の名前付き設定を作成します。
<code>quarkus.tls.&lt;name&gt;.*</code> プロパティーを使用すると、特定のコンポーネントの TLS 設定を受け入れることができます。</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="configuring-https-for-a-http-server"><a class="anchor" href="#configuring-https-for-a-http-server"></a>1.1. HTTP サーバーの HTTPS の設定</h3>
<div class="paragraph">
<p>クライアントとサーバー間のセキュアな通信を確保するには、多くの場合、クライアントがサーバーの信頼性を検証する必要があります。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>サーバーは証明書と秘密鍵を含むキーストアを使用する必要があります。</p>
</li>
<li>
<p>サーバーの証明書を検証するために、クライアントにトラストストアを設定する必要があります。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>TLS ハンドシェイク中に、サーバーは証明書を提示し、クライアントはそれを検証します。
これにより、中間者攻撃を防ぎ、データ転送をセキュアに行うことができます。</p>
</div>
<div class="paragraph">
<p>次のセクションでは、PEM または PKCS12 キーストアタイプを使用して HTTPS を設定する方法を説明します。
さらに、名前付き設定を使用して複数の TLS 設定を一度に指定および管理する方法も説明します。この方法を使用すると、それぞれに個別の設定を定義できます。</p>
</div>
<div class="paragraph">
<p>キーストアタイプに応じて、次のいずれかの設定例を使用してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>PEM ファイルを使用する場合:</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.pem.0.cert=server.crt
quarkus.tls.key-store.pem.0.key=server.key
quarkus.http.insecure-requests=disabled # Reject HTTP requests</code></pre>
</div>
</div>
</li>
<li>
<p><strong><code>p12</code> (PKCS12) キーストアを使用する場合:</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.p12.path=server-keystore.p12
quarkus.tls.key-store.p12.password=secret
quarkus.http.insecure-requests=disabled # Reject HTTP requests</code></pre>
</div>
</div>
</li>
<li>
<p><strong>複数の設定を名前で区別する場合:</strong></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.https.key-store.p12.path=server-keystore.p12
quarkus.tls.https.key-store.p12.password=secret
quarkus.http.insecure-requests=disabled
quarkus.http.tls-configuration-name=https</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="configuring-https-for-a-client"><a class="anchor" href="#configuring-https-for-a-client"></a>1.2. クライアントの HTTPS の設定</h3>
<div class="paragraph">
<p>次の例では、"hello" という名前の gRPC クライアントを、デフォルトの TLS 設定のトラストストアと HTTPS を使用するように設定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.trust-store.jks.path=grpc-client-truststore.jks
quarkus.tls.trust-store.jks.password=password

quarkus.grpc.clients.hello.plain-text=false
quarkus.grpc.clients.hello.use-quarkus-grpc-client=true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuring-mtls"><a class="anchor" href="#configuring-mtls"></a>1.3. mTLS の設定</h3>
<div class="paragraph">
<p>Quarkus アプリケーションで相互 TLS (mTLS) を設定するには、サーバーとクライアントにキーストアとトラストストアの両方を作成して管理することで、それぞれを設定します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>サーバーのキーストア</strong>: サーバーの証明書と秘密鍵が格納されます。</p>
</li>
<li>
<p><strong>クライアントのキーストア</strong>: クライアントの証明書と秘密鍵が格納されます。</p>
</li>
<li>
<p><strong>サーバーのトラストストア</strong>: クライアントを認証するためのクライアント証明書が保存されます。</p>
</li>
<li>
<p><strong>クライアントのトラストストア</strong>: サーバーを認証するためのサーバーの証明書が保存されます。</p>
<div class="listingblock">
<div class="title">キーストアとトラストストアを指定するための設定例:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.my-server.key-store.p12.path=target/certs/grpc-keystore.p12
quarkus.tls.my-server.key-store.p12.password=password
quarkus.tls.my-server.trust-store.p12.path=target/certs/grpc-server-truststore.p12
quarkus.tls.my-server.trust-store.p12.password=password

quarkus.tls.my-client.trust-store.p12.path=target/certs/grpc-client-truststore.p12
quarkus.tls.my-client.trust-store.p12.password=password
quarkus.tls.my-client.key-store.p12.path=target/certs/grpc-client-keystore.p12
quarkus.tls.my-client.key-store.p12.password=password

quarkus.grpc.clients.hello.plain-text=false
quarkus.grpc.clients.hello.tls-configuration-name=my-client
quarkus.grpc.clients.hello.use-quarkus-grpc-client=true

quarkus.http.ssl.client-auth=REQUIRED # Enable mTLS
quarkus.http.insecure-requests=disabled
quarkus.http.tls-configuration-name=my-server
quarkus.grpc.server.use-separate-server=false
quarkus.grpc.server.plain-text=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>この設定により、サーバーとクライアントの両方が互いの証明書を検証することで mTLS が有効になり、セキュリティーがさらに強化されます。</p>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="referencing-a-tls-configuration"><a class="anchor" href="#referencing-a-tls-configuration"></a>2. TLS 設定の参照</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#using-the-tls-registry">TLS レジストリーの使用</a> で説明されているとおり、 <code>quarkus.tls.&lt;name&gt;.*</code> プロパティーを使用して作成したサンプルの <em>名前付き</em> 設定を参照するには、
次の例に示すように <code>tls-configuration-name</code> プロパティーを使用します。</p>
</div>
<div class="listingblock">
<div class="title">コア HTTP サーバーの設定例:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># Reference the named configuration
quarkus.http.tls-configuration-name=MY_TLS_CONFIGURATION</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">gRPC クライアントの設定例:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.grpc.clients.hello.tls-configuration-name=MY_TLS_CONFIGURATION</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-tls"><a class="anchor" href="#configuring-tls"></a>3. TLS の設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TLS 設定には、主にキーストアとトラストストアの管理が含まれます。
具体的な設定は、使用されるフォーマット (PEM、P12、JKS など) により異なります。</p>
</div>
<div class="paragraph">
<p>次のセクションでは、TLS を設定するために使用できるさまざまなプロパティーを説明します。</p>
</div>
<div class="sect2">
<h3 id="key-stores"><a class="anchor" href="#key-stores"></a>3.1. キーストア</h3>
<div class="paragraph">
<p>キーストアは、秘密鍵と証明書を保存するために使用されます。
これらは主にサーバー側で使用されますが、mTLS を使用する場合はクライアント側でも使用できます。</p>
</div>
<div class="sect3">
<h4 id="pem-keystores"><a class="anchor" href="#pem-keystores"></a>3.1.1. PEM キーストア</h4>
<div class="paragraph">
<p>Privacy Enhanced Mail (PEM) キーストアは、ファイルペアのリストから構成されます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>証明書ファイル</strong> - <code>.crt`または `.pem</code> ファイル</p>
</li>
<li>
<p><strong>秘密鍵ファイル</strong> - 多くの場合は <code>.key</code> ファイル</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>PEM キーストアを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.pem.a.cert=server.crt
quarkus.tls.key-store.pem.a.key=server.key
quarkus.tls.key-store.pem.b.cert=my-second-cert.crt
quarkus.tls.key-store.pem.b.key=my-second-key.key</code></pre>
</div>
</div>
<div class="paragraph">
<p>ほとんどの場合、証明書と秘密鍵で構成されるペアが 1 つだけ必要です。
証明書が証明書チェーンの一部である場合でも、キーストアに含まれる秘密鍵は、エンドエンティティー証明書に対応するもの 1 つだけです。</p>
</div>
<div class="paragraph">
<p>複数のペアが設定されている場合、設定された証明書と秘密鍵のペアの 1 つが、Server Name Indication (SNI) に基づいて選択されます。
クライアントは接続しようとしているサーバーの名前を送信し、サーバーは適切な証明書と秘密鍵のペアを選択します。
この機能を使用するには、クライアントとサーバーの両方で <a href="./tls-registry-reference#sni">SNI</a> が有効になっていることを確認してください。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>複数の鍵ペアまたは証明書ペアを設定する場合、前の例の <code>store.pem.a</code> と <code>store.pem.b</code> で示されているように、サーバーはデフォルトで設定されたペアを名前の辞書順に実行します。
辞書順が最も下位のペアが最初に実行されます。
これを変更するには、 <code>quarkus.tls.key-store.pem.order</code> プロパティーを使用して順序を定義します。
たとえば、 <code>quarkus.tls.key-store.pem.order=b,c,a</code> です。</p>
</div>
<div class="paragraph">
<p>この設定は、最初に指定されたペアをデフォルトとして使用するため、SNI を使用する場合に重要です。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="pkcs12-keystores"><a class="anchor" href="#pkcs12-keystores"></a>3.1.2. PKCS12 キーストア</h4>
<div class="paragraph">
<p>PKCS12 キーストアは、証明書と秘密鍵を含む単一のファイルです。</p>
</div>
<div class="paragraph">
<p>PKCS12 キーストアを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.p12.path=server-keystore.p12
quarkus.tls.key-store.p12.password=secret</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>.p12</code> ファイルはパスワードで保護されているため、キーストアを開くにはパスワードを指定する必要があります。</p>
</div>
<div class="paragraph">
<p>このファイルには、複数の証明書と秘密鍵を含めることができます。
その場合は、次のいずれかの操作を実行してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>使用する証明書と秘密鍵のエイリアスを指定して設定します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.p12.path=server-keystore.p12
quarkus.tls.key-store.p12.password=secret
quarkus.tls.key-store.p12.alias=my-alias
quarkus.tls.key-store.p12.alias-password=my-alias-password</code></pre>
</div>
</div>
</li>
<li>
<p>または、SNI を使用して適切な証明書と秘密鍵を選択します。
すべてのキーに同じパスワードを使用する必要があることに注意してください。</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="jks-keystores"><a class="anchor" href="#jks-keystores"></a>3.1.3. JKS キーストア</h4>
<div class="paragraph">
<p>JKS キーストアは、サーバーまたはクライアントの証明書と秘密鍵を含む単一のファイルです。TLS/SSL 接続で認証してセキュアな通信を確立するために使用されます。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>JKS は古いフォーマットですが、今でも広く使用されている Java 固有のフォーマットです。
ただし、このフォーマットを扱うには、現在では非推奨となっている特定の Java ツールを使用する必要があります。
したがって、Quarkus アプリケーションでの使用は推奨されません。</p>
</div>
<div class="paragraph">
<p>また、OpenShift cert-manager や Let’s Encrypt は、通常 JKS を提供せず、現在も PEM しか提供しません。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>JKS キーストアを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.jks.path=server-keystore.jks
quarkus.tls.key-store.jks.password=secret</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>.jks</code> ファイルはパスワードで保護されているため、キーストアを開くにはパスワードを入力する必要があります。
また、複数の証明書と秘密鍵を含めることもできます。
この場合、次のことが可能です。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>使用する証明書と秘密鍵のエイリアスを指定して設定します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.jks.path=server-keystore.jks
quarkus.tls.key-store.jks.password=secret
quarkus.tls.key-store.jks.alias=my-alias
quarkus.tls.key-store.jks.alias-password=my-alias-password</code></pre>
</div>
</div>
</li>
<li>
<p>または、SNI を使用して適切な証明書と秘密鍵を選択します。
すべてのキーに同じパスワードを使用する必要があることに注意してください。</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="sni"><a class="anchor" href="#sni"></a>3.1.4. SNI</h4>
<div class="paragraph">
<p>Server Name Indication (SNI) は、TLS ハンドシェイク中にクライアントが接続を試みるホスト名を指定できるようにする TLS エクステンションです。
SNI を使用すると、サーバーが単一の IP アドレス上の複数のドメインに対して異なる TLS 証明書を提示できるようになります。これにより、仮想ホスティングシナリオでセキュアな通信が容易になります。</p>
</div>
<div class="paragraph">
<p>SNI を有効にするには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.sni=true # Disabled by default</code></pre>
</div>
</div>
<div class="paragraph">
<p>SNI が有効な場合、クライアントは TLS ハンドシェイク中にサーバー名を示します。これにより、サーバーが適切な証明書を選択できるようになります。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PEM ファイルを使用してキーストアを設定する場合は、複数の証明書 (CRT) ファイルと鍵ファイルを提供する必要があります。
CRT は、X.509 証明書ファイルの一般的なファイル拡張子であり、通常は PEM (Privacy-Enhanced Mail) フォーマットです。
このファイルには公開証明書が含まれています。</p>
</li>
<li>
<p>JKS または P12 ファイルを使用してキーストアを設定する場合、サーバーが TLS ハンドシェイク中にクライアントによって提供された SNI ホスト名に基づいて適切な証明書を選択します。
サーバーは、SNI ホスト名を、キーストアに保存されている証明書に設定されているコモンネーム (CN) またはサブジェクト代替名 (SAN) と照合します。
すべてのキーストアとエイリアスのパスワードが同一である必要があります。</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="credential-providers"><a class="anchor" href="#credential-providers"></a>3.1.5. 認証情報プロバイダー</h4>
<div class="paragraph">
<p>設定でキーストアのパスワードとエイリアスのパスワードを渡す代わりに、認証情報プロバイダーを使用できます。</p>
</div>
<div class="paragraph">
<p>認証情報プロバイダーは、キーストアとエイリアスのパスワードを取得する方法として機能します。
認証情報プロバイダーは、設定でパスワードまたはエイリアスパスワードが設定されていない場合にのみ使用されることに注意してください。</p>
</div>
<div class="paragraph">
<p>認証情報プロバイダーを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># The name of the credential bucket in the credentials provider
quarkus.tls.key-store.credentials-provider.name=my-credentials

# The name of the bean providing the credential provider (optional, using the default credential provider if not set)
quarkus.tls.key-store.credentials-provider.bean-name=my-credentials-provider

# The key used to retrieve the keystore password, `password` by default
quarkus.tls.key-store.credentials-provider.password-key=password

# The key used to retrieve the alias password, `alias-password` by default
quarkus.tls.key-store.credentials-provider.alias-password-key=alias-password</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
認証情報プロバイダーは、PKCS12 および JKS キーストアでのみ使用できます。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trust-stores"><a class="anchor" href="#trust-stores"></a>3.2. トラストストア</h3>
<div class="paragraph">
<p>トラストストアは、信頼できる当事者の証明書を保存するために使用されます。
通常の TLS では、クライアントがトラストストアを使用してサーバーを認証します。
相互 TLS (mTLS) では、サーバーとクライアントの両方がトラストストアを使用して相互に認証します。</p>
</div>
<div class="sect3">
<h4 id="pem-truststores"><a class="anchor" href="#pem-truststores"></a>3.2.1. PEM トラストストア</h4>
<div class="paragraph">
<p>PEM トラストストアは、 <code>.crt</code> または <code>.pem</code> ファイルのリストで構成されます。
それぞれに証明書が含まれています。</p>
</div>
<div class="paragraph">
<p>PEM トラストストアを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.trust-store.pem.certs=ca.crt,ca2.pem</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="pkcs12-truststores"><a class="anchor" href="#pkcs12-truststores"></a>3.2.2. PKCS12 トラストストア</h4>
<div class="paragraph">
<p>PKCS12 トラストストアは、証明書を含む単一のファイルです。
複数の証明書が含まれている場合は、エイリアスを使用して適切な証明書を選択できます。</p>
</div>
<div class="paragraph">
<p>PKCS12 トラストストアを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.trust-store.p12.path=client-truststore.p12
quarkus.tls.trust-store.p12.password=password
quarkus.tls.trust-store.p12.alias=my-alias</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>.p12</code> ファイルはパスワードで保護されているため、トラストストアを開くにはパスワードを入力する必要があります。
ただし、キーストアとは異なり、トラストストアには秘密鍵ではなく公開証明書が含まれているため、エイリアスにパスワードは必要ありません。</p>
</div>
</div>
<div class="sect3">
<h4 id="jks-truststores"><a class="anchor" href="#jks-truststores"></a>3.2.3. JKS トラストストア</h4>
<div class="paragraph">
<p>JKS トラストストアは、複数の証明書を含む単一のファイルです。
複数の証明書が存在する場合は、エイリアスを使用して適切な証明書を選択できます。
ただし、JKS フォーマットは PKCS12 よりもセキュリティーが低いため、使用しないでください。</p>
</div>
<div class="paragraph">
<p>JKS トラストストアを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.trust-store.jks.path=client-truststore.jks
quarkus.tls.trust-store.jks.password=password
quarkus.tls.trust-store.jks.alias=my-alias</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>.jks</code> ファイルはパスワードで保護されているため、トラストストアを開くにはパスワードを入力する必要があります。
ただし、キーストアとは異なり、トラストストアには秘密鍵ではなく公開証明書が含まれているため、エイリアスにパスワードは必要ありません。</p>
</div>
</div>
<div class="sect3">
<h4 id="credential-providers-2"><a class="anchor" href="#credential-providers-2"></a>3.2.4. 認証情報プロバイダー</h4>
<div class="paragraph">
<p>設定でトラストストアのパスワードを渡す代わりに、認証情報プロバイダーを使用できます。
認証情報プロバイダーを使用すると、パスワードやその他の認証情報を取得できます。
認証情報プロバイダーは、設定でパスワードが指定されていない場合にのみ使用されることに注意してください。</p>
</div>
<div class="paragraph">
<p>認証情報プロバイダーを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># The name of the credential bucket in the credentials provider
quarkus.tls.trust-store.credentials-provider.name=my-credentials

# The name of the bean providing the credential provider (optional, using the default credential provider if not set)
quarkus.tls.trust-store.credentials-provider.bean-name=my-credentials-provider

# The key used to retrieve the truststore password, `password` by default
quarkus.tls.trust-store.credentials-provider.password-key=password</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
認証情報プロバイダーは、PKCS12 および JKS トラストストアでのみ使用できます。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="other-properties"><a class="anchor" href="#other-properties"></a>3.3. その他のプロパティー</h3>
<div class="paragraph">
<p>キーストアとトラストストアは最も重要なプロパティーですが、TLS を設定するために使用できる他のプロパティーもあります。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
次の例では <em>デフォルト</em> の設定を使用していますが、プロパティーの前に設定名を付けることで、<em>名前付き</em> 設定を使用することもできます。
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="cipher-suites"><a class="anchor" href="#cipher-suites"></a>3.3.1. 暗号化スイート</h4>
<div class="paragraph">
<p>暗号スイートは、TLS ハンドシェイク中に使用できる暗号のリストです。
有効な暗号スイートの順序付きリストを設定できます。
設定されていない場合は、組み込みの暗号の中から適切なデフォルトが選択されます。
ただし、設定を指定すると、その設定が、使用中の SSL エンジンによって定義されているデフォルトスイートよりも優先されます。</p>
</div>
<div class="paragraph">
<p>暗号スイートを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.cipher-suites=TLS_AES_128_GCM_SHA256,TLS_AES_256_GCM_SHA384</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tls-protocol-versions"><a class="anchor" href="#tls-protocol-versions"></a>3.3.2. TLS プロトコルのバージョン</h4>
<div class="paragraph">
<p>TLS プロトコルバージョンは、TLS ハンドシェイク中に使用できるプロトコルのリストです。
有効な TLS プロトコルバージョンを、コンマ区切りの順序付きリストとして指定します。
関連する設定プロパティーは <code>quarkus.tls.protocols</code> (または 名前付き TLS 設定の <code>quarkus.tls.&lt;name&gt;.protocols</code>) です。
設定されていない場合は、デフォルトで <code>TLSv1.3, TLSv1.2</code> になります。</p>
</div>
<div class="paragraph">
<p>使用可能なオプションは、 <code>TLSv1</code>、 <code>TLSv1.1</code>、 <code>TLSv1.2</code>、 <code>TLSv1.3</code> です。</p>
</div>
<div class="paragraph">
<p>たとえば <code>TLSv1.3</code> のみを有効にするには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.protocols=TLSv1.3</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="handshake-timeout"><a class="anchor" href="#handshake-timeout"></a>3.3.3. ハンドシェイクタイムアウト</h4>
<div class="paragraph">
<p>TLS 接続が確立されると、ハンドシェイクフェーズが最初のステップになります。
このフェーズでは、クライアントとサーバーは接続を確立するための情報 (通常は暗号スイート、TLS プロトコルバージョン、証明書の検証などが含まれる) を交換します。</p>
</div>
<div class="paragraph">
<p>ハンドシェイクフェーズのタイムアウトを設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.handshake-timeout=10S # Default.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="alpn"><a class="anchor" href="#alpn"></a>3.3.4. ALPN</h4>
<div class="paragraph">
<p>Application-Layer Protocol Negotiation (ALPN) は、TLS ハンドシェイク中にクライアントとサーバーが通信に使用するプロトコルをネゴシエートできるようにする TLS エクステンションです。
ALPN は、TLS 接続を確立する前に、クライアントが優先アプリケーションプロトコルをサーバーに指定できるようにすることで、より効率的な通信を可能にします。</p>
</div>
<div class="paragraph">
<p>これは、複数のプロトコルが利用できる可能性がある HTTP/2 などのシナリオで役立ち、プロトコルの選択を高速化します。</p>
</div>
<div class="paragraph">
<p>ALPN はデフォルトで有効になっています。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>無効にするには、次のように指定します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.alpn=false</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
ALPN を無効にすることは、エキスパート以外には推奨されません。特に HTTP/2 などのプロトコルで、パフォーマンスの低下、プロトコルネゴシエーションの問題、予期しない動作が発生する可能性があるためです。
ただし、ALPN の無効化は、プロトコルネゴシエーションによって競合が発生する特殊なケースで、固有の不整合を診断したり、パフォーマンスをテストしたりするのに役立ちます。
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="certificate-revocation-list-crl"><a class="anchor" href="#certificate-revocation-list-crl"></a>3.3.5. 証明書失効リスト (CRL)</h4>
<div class="paragraph">
<p>証明書失効リスト (CRL) は、予定の有効期限より前に発行元の認証局 (CA) によって失効させられたデジタル証明書のリストです。
証明書が侵害されたり、不要になったり、無効と判断されたりした場合、CA は証明書を CRL に追加して、その証明書を信頼しないよう証明書利用者に通知します。</p>
</div>
<div class="paragraph">
<p>CRL は、DER または PKCS#7 (P7B) フォーマットを使用して、信頼できなくなった証明書ファイルのリストで設定できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DER フォーマットの場合、DER でエンコードされた CRL を渡します。</p>
</li>
<li>
<p>PKCS#7 フォーマットの場合、 <code>SignedData</code> オブジェクトを渡します。この場合、重要なフィールドは <code>crls</code> だけです。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>CRL を設定するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.certificate-revocation-list=ca.crl, ca2.crl</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="trusting-all-certificates-and-hostname-verification"><a class="anchor" href="#trusting-all-certificates-and-hostname-verification"></a>3.3.6. すべての証明書とホスト名の検証を信頼する</h4>
<div class="paragraph">
<p>すべての証明書を信頼し、ホスト名の検証を無効にするように TLS 接続を設定できます。
これらは 2 つの異なるプロセスであることに注意してください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>すべての証明書を信頼すると、証明書の検証が無視されるため、すべての証明書が信頼されます。
この方法は自己署名証明書を使用したテストには便利ですが、実稼働環境では使用しないでください。</p>
</li>
<li>
<p>ホスト名の検証は、サーバーのアイデンティティーを検証するプロセスです。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>これは中間者攻撃を防ぐのに役立ち、多くの場合、デフォルトで <code>HTTPS</code> または <code>LDAPS</code> に設定されます。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>これら 2 つのプロパティーは、実稼働環境では使用しないでください。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>すべての証明書を信頼するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.trust-all=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>ホスト名の検証を無効にするには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.hostname-verification-algorithm=NONE</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>3.4. 設定リファレンス</h3>
<div class="paragraph">
<p>次の表は、サポートされるプロパティの一覧です:</p>
</div>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="ビルド時に固定"></i></span>ビルド時に固定される設定プロパティ - 他のすべての設定プロパティは実行時にオーバーライド可能 <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-tls-registry_quarkus-tls-lets-encrypt-enabled"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-lets-encrypt-enabled"><code>quarkus.tls.lets-encrypt.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Set to <code>true</code> to enable let&#8217;s encrypt support.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31571">QUARKUS_TLS_LETS_ENCRYPT_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31571" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-pem-order"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-pem-order"><code>quarkus.tls.key-store.pem.order</code></a></span></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The order of the key/cert files, based on the names in the <code>keyCerts</code> map.</p>
</div>
<div class="paragraph">
<p>By default, Quarkus sorts the key using a lexicographical order. This property allows you to specify the order of the key/cert files.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31572">QUARKUS_TLS_KEY_STORE_PEM_ORDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31572" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-p12-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-p12-path"><code>quarkus.tls.key-store.p12.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the key store file (P12 / PFX format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31573">QUARKUS_TLS_KEY_STORE_P12_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31573" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-p12-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-p12-password"><code>quarkus.tls.key-store.p12.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the key store. When not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31574">QUARKUS_TLS_KEY_STORE_P12_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31574" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-p12-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-p12-alias"><code>quarkus.tls.key-store.p12.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the private key and certificate in the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31575">QUARKUS_TLS_KEY_STORE_P12_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31575" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-p12-alias-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-p12-alias-password"><code>quarkus.tls.key-store.p12.alias-password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the alias in the key store. If not set, the password will be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31576">QUARKUS_TLS_KEY_STORE_P12_ALIAS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31576" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-p12-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-p12-provider"><code>quarkus.tls.key-store.p12.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31577">QUARKUS_TLS_KEY_STORE_P12_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31577" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-jks-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-jks-path"><code>quarkus.tls.key-store.jks.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-8" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the keystore file (JKS format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31578">QUARKUS_TLS_KEY_STORE_JKS_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31578" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-jks-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-jks-password"><code>quarkus.tls.key-store.jks.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-9" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the key store. When not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31579">QUARKUS_TLS_KEY_STORE_JKS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31579" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-jks-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-jks-alias"><code>quarkus.tls.key-store.jks.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-10" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the private key and certificate in the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31580">QUARKUS_TLS_KEY_STORE_JKS_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31580" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-jks-alias-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-jks-alias-password"><code>quarkus.tls.key-store.jks.alias-password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-11" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the alias in the key store. When not set, the password may be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31581">QUARKUS_TLS_KEY_STORE_JKS_ALIAS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31581" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-jks-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-jks-provider"><code>quarkus.tls.key-store.jks.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-12" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31582">QUARKUS_TLS_KEY_STORE_JKS_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31582" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-sni"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-sni"><code>quarkus.tls.key-store.sni</code></a></span></p>
</div>
<div id="conf-collapsible-desc-13" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Enables Server Name Indication (SNI).</p>
</div>
<div class="paragraph">
<p>Server Name Indication (SNI) is a TLS extension that allows a client to specify the hostname it is attempting to connect to during the TLS handshake. This enables a server to present different SSL certificates for multiple domains on a single IP address, facilitating secure communication for virtual hosting scenarios.</p>
</div>
<div class="paragraph">
<p>With this setting enabled, the client indicate the server name during the TLS handshake, allowing the server to select the right certificate.</p>
</div>
<div class="paragraph">
<p>When configuring the keystore with PEM files, multiple CRT/Key must be given. When configuring the keystore with a JKS or a P12 file, it selects one alias based on the SNI hostname. In this case, all the keystore password and alias password must be the same (configured with the <code>password</code> and <code>alias-password</code> properties. Do not set the <code>alias</code> property.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31583">QUARKUS_TLS_KEY_STORE_SNI</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31583" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-name"><code>quarkus.tls.key-store.credentials-provider.name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-14" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the "credential" bucket (map key &#8594; passwords) to retrieve from the <code>io.quarkus.credentials.CredentialsProvider</code>. If not set, the credential provider will not be used.</p>
</div>
<div class="paragraph">
<p>A credential provider offers a way to retrieve the key store password as well as alias password. Note that the credential provider is only used if the passwords are not set in the configuration.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31584">QUARKUS_TLS_KEY_STORE_CREDENTIALS_PROVIDER_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31584" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-bean-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-bean-name"><code>quarkus.tls.key-store.credentials-provider.bean-name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-15" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the bean providing the credential provider.</p>
</div>
<div class="paragraph">
<p>The name is used to select the credential provider to use. The credential provider must be exposed as a CDI bean and with the <code>@Named</code> annotation set to the configured name to be selected.</p>
</div>
<div class="paragraph">
<p>If not set, the default credential provider is used.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31585">QUARKUS_TLS_KEY_STORE_CREDENTIALS_PROVIDER_BEAN_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31585" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-password-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-password-key"><code>quarkus.tls.key-store.credentials-provider.password-key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-16" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The key used to retrieve the key store password.</p>
</div>
<div class="paragraph">
<p>If the selected credential provider does not support the key, the password is not retrieved. Otherwise, the retrieved value is used to open the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31586">QUARKUS_TLS_KEY_STORE_CREDENTIALS_PROVIDER_PASSWORD_KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31586" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>password</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-alias-password-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-credentials-provider-alias-password-key"><code>quarkus.tls.key-store.credentials-provider.alias-password-key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-17" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The key used to retrieve the key store alias password.</p>
</div>
<div class="paragraph">
<p>If the selected credential provider does not contain the key, the alias password is not retrieved. Otherwise, the retrieved value is used to access the alias <code>private key</code> from the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31587">QUARKUS_TLS_KEY_STORE_CREDENTIALS_PROVIDER_ALIAS_PASSWORD_KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31587" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>alias-password</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-pem-certs"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-pem-certs"><code>quarkus.tls.trust-store.pem.certs</code></a></span></p>
</div>
<div id="conf-collapsible-desc-18" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>List of the trusted cert paths (Pem format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31588">QUARKUS_TLS_TRUST_STORE_PEM_CERTS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31588" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of path</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-p12-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-p12-path"><code>quarkus.tls.trust-store.p12.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-19" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the trust store file (P12 / PFX format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31589">QUARKUS_TLS_TRUST_STORE_P12_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31589" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-p12-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-p12-password"><code>quarkus.tls.trust-store.p12.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-20" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the trust store. If not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31590">QUARKUS_TLS_TRUST_STORE_P12_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31590" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-p12-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-p12-alias"><code>quarkus.tls.trust-store.p12.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-21" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31591">QUARKUS_TLS_TRUST_STORE_P12_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31591" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-p12-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-p12-provider"><code>quarkus.tls.trust-store.p12.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-22" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31592">QUARKUS_TLS_TRUST_STORE_P12_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31592" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-jks-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-jks-path"><code>quarkus.tls.trust-store.jks.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-23" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the trust store file (JKS format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31593">QUARKUS_TLS_TRUST_STORE_JKS_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31593" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-jks-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-jks-password"><code>quarkus.tls.trust-store.jks.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-24" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the trust store. If not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31594">QUARKUS_TLS_TRUST_STORE_JKS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31594" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-jks-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-jks-alias"><code>quarkus.tls.trust-store.jks.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-25" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the key in the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31595">QUARKUS_TLS_TRUST_STORE_JKS_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31595" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-jks-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-jks-provider"><code>quarkus.tls.trust-store.jks.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-26" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31596">QUARKUS_TLS_TRUST_STORE_JKS_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31596" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-credentials-provider-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-credentials-provider-name"><code>quarkus.tls.trust-store.credentials-provider.name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-27" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the "credential" bucket (map key &#8594; passwords) to retrieve from the <code>io.quarkus.credentials.CredentialsProvider</code>. If not set, the credential provider will not be used.</p>
</div>
<div class="paragraph">
<p>A credential provider offers a way to retrieve the key store password as well as alias password. Note that the credential provider is only used if the passwords are not set in the configuration.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31597">QUARKUS_TLS_TRUST_STORE_CREDENTIALS_PROVIDER_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31597" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-credentials-provider-bean-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-credentials-provider-bean-name"><code>quarkus.tls.trust-store.credentials-provider.bean-name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-28" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the bean providing the credential provider.</p>
</div>
<div class="paragraph">
<p>The name is used to select the credential provider to use. The credential provider must be exposed as a CDI bean and with the <code>@Named</code> annotation set to the configured name to be selected.</p>
</div>
<div class="paragraph">
<p>If not set, the default credential provider is used.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31598">QUARKUS_TLS_TRUST_STORE_CREDENTIALS_PROVIDER_BEAN_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31598" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-store-credentials-provider-password-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-store-credentials-provider-password-key"><code>quarkus.tls.trust-store.credentials-provider.password-key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-29" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The key used to retrieve the trust store password.</p>
</div>
<div class="paragraph">
<p>If the selected credential provider does not contain the configured key, the password is not retrieved. Otherwise, the retrieved value is used to open the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31599">QUARKUS_TLS_TRUST_STORE_CREDENTIALS_PROVIDER_PASSWORD_KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31599" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>password</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-cipher-suites"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-cipher-suites"><code>quarkus.tls.cipher-suites</code></a></span></p>
</div>
<div id="conf-collapsible-desc-30" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the ordered list of enabled cipher suites. If none is given, a reasonable default is selected from the built-in ciphers.</p>
</div>
<div class="paragraph">
<p>When suites are set, it takes precedence over the default suite defined by the <code>SSLEngineOptions</code> in use.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31600">QUARKUS_TLS_CIPHER_SUITES</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31600" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-protocols"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-protocols"><code>quarkus.tls.protocols</code></a></span></p>
</div>
<div id="conf-collapsible-desc-31" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the ordered list of enabled TLS protocols.</p>
</div>
<div class="paragraph">
<p>If not set, it defaults to <code>"TLSv1.3, TLSv1.2"</code>. The following list of protocols are supported: <code>TLSv1, TLSv1.1, TLSv1.2, TLSv1.3</code>. To only enable <code>TLSv1.3</code>, set the value to <code>to "TLSv1.3"</code>.</p>
</div>
<div class="paragraph">
<p>Note that setting an empty list, and enabling TLS is invalid. You must at least have one protocol.</p>
</div>
<div class="paragraph">
<p>Also, setting this replaces the default list of protocols.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31601">QUARKUS_TLS_PROTOCOLS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31601" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>TLSv1.3,TLSv1.2</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-handshake-timeout"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-handshake-timeout"><code>quarkus.tls.handshake-timeout</code></a></span></p>
</div>
<div id="conf-collapsible-desc-32" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout for the TLS handshake phase.</p>
</div>
<div class="paragraph">
<p>If not set, it defaults to 10 seconds.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31602">QUARKUS_TLS_HANDSHAKE_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31602" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-alpn"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-alpn"><code>quarkus.tls.alpn</code></a></span></p>
</div>
<div id="conf-collapsible-desc-33" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Enables the Application-Layer Protocol Negotiation (ALPN).</p>
</div>
<div class="paragraph">
<p>Application-Layer Protocol Negotiation is a TLS extension that allows the client and server during the TLS handshake to negotiate which protocol they will use for communication. ALPN enables more efficient communication by allowing the client to indicate its preferred application protocol to the server before the TLS connection is established. This helps in scenarios such as HTTP/2 where multiple protocols may be available, allowing for faster protocol selection.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31603">QUARKUS_TLS_ALPN</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31603" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-certificate-revocation-list"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-certificate-revocation-list"><code>quarkus.tls.certificate-revocation-list</code></a></span></p>
</div>
<div id="conf-collapsible-desc-34" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the list of revoked certificates (paths to files).</p>
</div>
<div class="paragraph">
<p>A Certificate Revocation List (CRL) is a list of digital certificates that have been revoked by the issuing Certificate Authority (CA) before their scheduled expiration date. When a certificate is compromised, no longer needed, or deemed invalid for any reason, the CA adds it to the CRL to inform relying parties not to trust the certificate anymore.</p>
</div>
<div class="paragraph">
<p>Two formats are allowed: DER and PKCS#7 (also known as P7B). When using the DER format, you must pass DER-encoded CRLs. When using the PKCS#7 format, you must pass PKCS#7 <code>SignedData</code> object, with the only significant field being <code>crls</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31604">QUARKUS_TLS_CERTIFICATE_REVOCATION_LIST</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31604" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of path</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-trust-all"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-trust-all"><code>quarkus.tls.trust-all</code></a></span></p>
</div>
<div id="conf-collapsible-desc-35" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>If set to <code>true</code>, the server trusts all certificates.</p>
</div>
<div class="paragraph">
<p>This is useful for testing, but should not be used in production.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31605">QUARKUS_TLS_TRUST_ALL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31605" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-hostname-verification-algorithm"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-hostname-verification-algorithm"><code>quarkus.tls.hostname-verification-algorithm</code></a></span></p>
</div>
<div id="conf-collapsible-desc-36" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The hostname verification algorithm to use in case the server&#8217;s identity should be checked. Should be <code>HTTPS</code> (default), <code>LDAPS</code> or <code>NONE</code>.</p>
</div>
<div class="paragraph">
<p>If set to <code>NONE</code>, it does not verify the hostname.</p>
</div>
<div class="paragraph">
<p>If not set, the configured extension decides the default algorithm to use. For example, for HTTP, it will be "HTTPS". For TCP, it can depend on the protocol. Nevertheless, it is recommended to set it to "HTTPS" or "LDAPS".</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31606">QUARKUS_TLS_HOSTNAME_VERIFICATION_ALGORITHM</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31606" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-reload-period"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-reload-period"><code>quarkus.tls.reload-period</code></a></span></p>
</div>
<div id="conf-collapsible-desc-37" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>When configured, the server will reload the certificates (from the file system for example) and fires a <code>CertificateUpdatedEvent</code> if the reload is successful</p>
</div>
<div class="paragraph">
<p>This property configures the period to reload the certificates. IF not set, the certificates won&#8217;t be reloaded automatically. However, the application can still trigger the reload manually using the <code>io.quarkus.tls.TlsConfiguration#reload()</code> method, and then fire the <code>CertificateUpdatedEvent</code> manually.</p>
</div>
<div class="paragraph">
<p>The fired event is used to notify the application that the certificates have been updated, and thus proceed with the actual switch of certificates.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31607">QUARKUS_TLS_RELOAD_PERIOD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31607" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-pem-key-certs-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-pem-key-certs-key"><code>quarkus.tls.key-store.pem."key-certs".key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-38" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The path to the key file (in PEM format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31608">QUARKUS_TLS_KEY_STORE_PEM__KEY_CERTS__KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31608" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-key-store-pem-key-certs-cert"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-key-store-pem-key-certs-cert"><code>quarkus.tls.key-store.pem."key-certs".cert</code></a></span></p>
</div>
<div id="conf-collapsible-desc-39" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The path to the certificate file (in PEM format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31609">QUARKUS_TLS_KEY_STORE_PEM__KEY_CERTS__CERT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31609" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-pem-key-certs-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-pem-key-certs-key"><code>quarkus.tls."tls-bucket-name".key-store.pem."key-certs".key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-40" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The path to the key file (in PEM format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31610">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_PEM__KEY_CERTS__KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31610" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-pem-key-certs-cert"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-pem-key-certs-cert"><code>quarkus.tls."tls-bucket-name".key-store.pem."key-certs".cert</code></a></span></p>
</div>
<div id="conf-collapsible-desc-41" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The path to the certificate file (in PEM format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31611">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_PEM__KEY_CERTS__CERT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31611" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-pem-order"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-pem-order"><code>quarkus.tls."tls-bucket-name".key-store.pem.order</code></a></span></p>
</div>
<div id="conf-collapsible-desc-42" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The order of the key/cert files, based on the names in the <code>keyCerts</code> map.</p>
</div>
<div class="paragraph">
<p>By default, Quarkus sorts the key using a lexicographical order. This property allows you to specify the order of the key/cert files.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31612">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_PEM_ORDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31612" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-path"><code>quarkus.tls."tls-bucket-name".key-store.p12.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-43" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the key store file (P12 / PFX format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31613">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_P12_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31613" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-password"><code>quarkus.tls."tls-bucket-name".key-store.p12.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-44" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the key store. When not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31614">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_P12_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31614" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-alias"><code>quarkus.tls."tls-bucket-name".key-store.p12.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-45" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the private key and certificate in the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31615">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_P12_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31615" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-alias-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-alias-password"><code>quarkus.tls."tls-bucket-name".key-store.p12.alias-password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-46" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the alias in the key store. If not set, the password will be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31616">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_P12_ALIAS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31616" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-p12-provider"><code>quarkus.tls."tls-bucket-name".key-store.p12.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-47" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31617">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_P12_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31617" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-path"><code>quarkus.tls."tls-bucket-name".key-store.jks.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-48" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the keystore file (JKS format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31618">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_JKS_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31618" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-password"><code>quarkus.tls."tls-bucket-name".key-store.jks.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-49" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the key store. When not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31619">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_JKS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31619" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-alias"><code>quarkus.tls."tls-bucket-name".key-store.jks.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-50" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the private key and certificate in the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31620">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_JKS_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31620" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-alias-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-alias-password"><code>quarkus.tls."tls-bucket-name".key-store.jks.alias-password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-51" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the alias in the key store. When not set, the password may be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31621">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_JKS_ALIAS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31621" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-jks-provider"><code>quarkus.tls."tls-bucket-name".key-store.jks.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-52" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31622">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_JKS_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31622" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-sni"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-sni"><code>quarkus.tls."tls-bucket-name".key-store.sni</code></a></span></p>
</div>
<div id="conf-collapsible-desc-53" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Enables Server Name Indication (SNI).</p>
</div>
<div class="paragraph">
<p>Server Name Indication (SNI) is a TLS extension that allows a client to specify the hostname it is attempting to connect to during the TLS handshake. This enables a server to present different SSL certificates for multiple domains on a single IP address, facilitating secure communication for virtual hosting scenarios.</p>
</div>
<div class="paragraph">
<p>With this setting enabled, the client indicate the server name during the TLS handshake, allowing the server to select the right certificate.</p>
</div>
<div class="paragraph">
<p>When configuring the keystore with PEM files, multiple CRT/Key must be given. When configuring the keystore with a JKS or a P12 file, it selects one alias based on the SNI hostname. In this case, all the keystore password and alias password must be the same (configured with the <code>password</code> and <code>alias-password</code> properties. Do not set the <code>alias</code> property.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31623">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_SNI</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31623" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-name"><code>quarkus.tls."tls-bucket-name".key-store.credentials-provider.name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-54" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the "credential" bucket (map key &#8594; passwords) to retrieve from the <code>io.quarkus.credentials.CredentialsProvider</code>. If not set, the credential provider will not be used.</p>
</div>
<div class="paragraph">
<p>A credential provider offers a way to retrieve the key store password as well as alias password. Note that the credential provider is only used if the passwords are not set in the configuration.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31624">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_CREDENTIALS_PROVIDER_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31624" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-bean-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-bean-name"><code>quarkus.tls."tls-bucket-name".key-store.credentials-provider.bean-name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-55" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the bean providing the credential provider.</p>
</div>
<div class="paragraph">
<p>The name is used to select the credential provider to use. The credential provider must be exposed as a CDI bean and with the <code>@Named</code> annotation set to the configured name to be selected.</p>
</div>
<div class="paragraph">
<p>If not set, the default credential provider is used.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31625">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_CREDENTIALS_PROVIDER_BEAN_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31625" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-password-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-password-key"><code>quarkus.tls."tls-bucket-name".key-store.credentials-provider.password-key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-56" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The key used to retrieve the key store password.</p>
</div>
<div class="paragraph">
<p>If the selected credential provider does not support the key, the password is not retrieved. Otherwise, the retrieved value is used to open the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31626">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_CREDENTIALS_PROVIDER_PASSWORD_KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31626" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>password</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-alias-password-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-key-store-credentials-provider-alias-password-key"><code>quarkus.tls."tls-bucket-name".key-store.credentials-provider.alias-password-key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-57" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The key used to retrieve the key store alias password.</p>
</div>
<div class="paragraph">
<p>If the selected credential provider does not contain the key, the alias password is not retrieved. Otherwise, the retrieved value is used to access the alias <code>private key</code> from the key store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31627">QUARKUS_TLS__TLS_BUCKET_NAME__KEY_STORE_CREDENTIALS_PROVIDER_ALIAS_PASSWORD_KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31627" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>alias-password</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-pem-certs"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-pem-certs"><code>quarkus.tls."tls-bucket-name".trust-store.pem.certs</code></a></span></p>
</div>
<div id="conf-collapsible-desc-58" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>List of the trusted cert paths (Pem format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31628">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_PEM_CERTS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31628" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of path</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-path"><code>quarkus.tls."tls-bucket-name".trust-store.p12.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-59" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the trust store file (P12 / PFX format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31629">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_P12_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31629" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-password"><code>quarkus.tls."tls-bucket-name".trust-store.p12.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-60" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the trust store. If not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31630">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_P12_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31630" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-alias"><code>quarkus.tls."tls-bucket-name".trust-store.p12.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-61" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31631">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_P12_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31631" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-p12-provider"><code>quarkus.tls."tls-bucket-name".trust-store.p12.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-62" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31632">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_P12_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31632" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-path"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-path"><code>quarkus.tls."tls-bucket-name".trust-store.jks.path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-63" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to the trust store file (JKS format).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31633">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_JKS_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31633" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">required <span class="icon"><i class="fa fa-exclamation-circle" title="Configuration property is required"></i></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-password"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-password"><code>quarkus.tls."tls-bucket-name".trust-store.jks.password</code></a></span></p>
</div>
<div id="conf-collapsible-desc-64" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Password of the trust store. If not set, the password must be retrieved from the credential provider.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31634">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_JKS_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31634" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-alias"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-alias"><code>quarkus.tls."tls-bucket-name".trust-store.jks.alias</code></a></span></p>
</div>
<div id="conf-collapsible-desc-65" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Alias of the key in the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31635">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_JKS_ALIAS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31635" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-provider"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-jks-provider"><code>quarkus.tls."tls-bucket-name".trust-store.jks.provider</code></a></span></p>
</div>
<div id="conf-collapsible-desc-66" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Provider of the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31636">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_JKS_PROVIDER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31636" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-credentials-provider-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-credentials-provider-name"><code>quarkus.tls."tls-bucket-name".trust-store.credentials-provider.name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-67" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the "credential" bucket (map key &#8594; passwords) to retrieve from the <code>io.quarkus.credentials.CredentialsProvider</code>. If not set, the credential provider will not be used.</p>
</div>
<div class="paragraph">
<p>A credential provider offers a way to retrieve the key store password as well as alias password. Note that the credential provider is only used if the passwords are not set in the configuration.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31637">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_CREDENTIALS_PROVIDER_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31637" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-credentials-provider-bean-name"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-credentials-provider-bean-name"><code>quarkus.tls."tls-bucket-name".trust-store.credentials-provider.bean-name</code></a></span></p>
</div>
<div id="conf-collapsible-desc-68" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the bean providing the credential provider.</p>
</div>
<div class="paragraph">
<p>The name is used to select the credential provider to use. The credential provider must be exposed as a CDI bean and with the <code>@Named</code> annotation set to the configured name to be selected.</p>
</div>
<div class="paragraph">
<p>If not set, the default credential provider is used.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31638">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_CREDENTIALS_PROVIDER_BEAN_NAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31638" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-credentials-provider-password-key"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-store-credentials-provider-password-key"><code>quarkus.tls."tls-bucket-name".trust-store.credentials-provider.password-key</code></a></span></p>
</div>
<div id="conf-collapsible-desc-69" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The key used to retrieve the trust store password.</p>
</div>
<div class="paragraph">
<p>If the selected credential provider does not contain the configured key, the password is not retrieved. Otherwise, the retrieved value is used to open the trust store.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31639">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_STORE_CREDENTIALS_PROVIDER_PASSWORD_KEY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31639" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>password</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-cipher-suites"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-cipher-suites"><code>quarkus.tls."tls-bucket-name".cipher-suites</code></a></span></p>
</div>
<div id="conf-collapsible-desc-70" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the ordered list of enabled cipher suites. If none is given, a reasonable default is selected from the built-in ciphers.</p>
</div>
<div class="paragraph">
<p>When suites are set, it takes precedence over the default suite defined by the <code>SSLEngineOptions</code> in use.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31640">QUARKUS_TLS__TLS_BUCKET_NAME__CIPHER_SUITES</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31640" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-protocols"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-protocols"><code>quarkus.tls."tls-bucket-name".protocols</code></a></span></p>
</div>
<div id="conf-collapsible-desc-71" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the ordered list of enabled TLS protocols.</p>
</div>
<div class="paragraph">
<p>If not set, it defaults to <code>"TLSv1.3, TLSv1.2"</code>. The following list of protocols are supported: <code>TLSv1, TLSv1.1, TLSv1.2, TLSv1.3</code>. To only enable <code>TLSv1.3</code>, set the value to <code>to "TLSv1.3"</code>.</p>
</div>
<div class="paragraph">
<p>Note that setting an empty list, and enabling TLS is invalid. You must at least have one protocol.</p>
</div>
<div class="paragraph">
<p>Also, setting this replaces the default list of protocols.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31641">QUARKUS_TLS__TLS_BUCKET_NAME__PROTOCOLS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31641" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>TLSv1.3,TLSv1.2</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-handshake-timeout"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-handshake-timeout"><code>quarkus.tls."tls-bucket-name".handshake-timeout</code></a></span></p>
</div>
<div id="conf-collapsible-desc-72" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout for the TLS handshake phase.</p>
</div>
<div class="paragraph">
<p>If not set, it defaults to 10 seconds.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31642">QUARKUS_TLS__TLS_BUCKET_NAME__HANDSHAKE_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31642" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-alpn"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-alpn"><code>quarkus.tls."tls-bucket-name".alpn</code></a></span></p>
</div>
<div id="conf-collapsible-desc-73" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Enables the Application-Layer Protocol Negotiation (ALPN).</p>
</div>
<div class="paragraph">
<p>Application-Layer Protocol Negotiation is a TLS extension that allows the client and server during the TLS handshake to negotiate which protocol they will use for communication. ALPN enables more efficient communication by allowing the client to indicate its preferred application protocol to the server before the TLS connection is established. This helps in scenarios such as HTTP/2 where multiple protocols may be available, allowing for faster protocol selection.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31643">QUARKUS_TLS__TLS_BUCKET_NAME__ALPN</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31643" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-certificate-revocation-list"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-certificate-revocation-list"><code>quarkus.tls."tls-bucket-name".certificate-revocation-list</code></a></span></p>
</div>
<div id="conf-collapsible-desc-74" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Sets the list of revoked certificates (paths to files).</p>
</div>
<div class="paragraph">
<p>A Certificate Revocation List (CRL) is a list of digital certificates that have been revoked by the issuing Certificate Authority (CA) before their scheduled expiration date. When a certificate is compromised, no longer needed, or deemed invalid for any reason, the CA adds it to the CRL to inform relying parties not to trust the certificate anymore.</p>
</div>
<div class="paragraph">
<p>Two formats are allowed: DER and PKCS#7 (also known as P7B). When using the DER format, you must pass DER-encoded CRLs. When using the PKCS#7 format, you must pass PKCS#7 <code>SignedData</code> object, with the only significant field being <code>crls</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31644">QUARKUS_TLS__TLS_BUCKET_NAME__CERTIFICATE_REVOCATION_LIST</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31644" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of path</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-all"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-trust-all"><code>quarkus.tls."tls-bucket-name".trust-all</code></a></span></p>
</div>
<div id="conf-collapsible-desc-75" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>If set to <code>true</code>, the server trusts all certificates.</p>
</div>
<div class="paragraph">
<p>This is useful for testing, but should not be used in production.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31645">QUARKUS_TLS__TLS_BUCKET_NAME__TRUST_ALL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31645" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-hostname-verification-algorithm"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-hostname-verification-algorithm"><code>quarkus.tls."tls-bucket-name".hostname-verification-algorithm</code></a></span></p>
</div>
<div id="conf-collapsible-desc-76" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The hostname verification algorithm to use in case the server&#8217;s identity should be checked. Should be <code>HTTPS</code> (default), <code>LDAPS</code> or <code>NONE</code>.</p>
</div>
<div class="paragraph">
<p>If set to <code>NONE</code>, it does not verify the hostname.</p>
</div>
<div class="paragraph">
<p>If not set, the configured extension decides the default algorithm to use. For example, for HTTP, it will be "HTTPS". For TCP, it can depend on the protocol. Nevertheless, it is recommended to set it to "HTTPS" or "LDAPS".</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31646">QUARKUS_TLS__TLS_BUCKET_NAME__HOSTNAME_VERIFICATION_ALGORITHM</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31646" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-tls-registry_quarkus-tls-tls-bucket-name-reload-period"></a> <span class="property-path"><a href="#quarkus-tls-registry_quarkus-tls-tls-bucket-name-reload-period"><code>quarkus.tls."tls-bucket-name".reload-period</code></a></span></p>
</div>
<div id="conf-collapsible-desc-77" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>When configured, the server will reload the certificates (from the file system for example) and fires a <code>CertificateUpdatedEvent</code> if the reload is successful</p>
</div>
<div class="paragraph">
<p>This property configures the period to reload the certificates. IF not set, the certificates won&#8217;t be reloaded automatically. However, the application can still trigger the reload manually using the <code>io.quarkus.tls.TlsConfiguration#reload()</code> method, and then fire the <code>CertificateUpdatedEvent</code> manually.</p>
</div>
<div class="paragraph">
<p>The fired event is used to notify the application that the certificates have been updated, and thus proceed with the actual switch of certificates.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-31647">QUARKUS_TLS__TLS_BUCKET_NAME__RELOAD_PERIOD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-31647" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-tls-registry_quarkus-tls" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">期間フォーマットについて</div>
<div class="paragraph">
<p>期間の値を書くには、標準の <code>java.time.Duration</code> フォーマットを使います。
詳細は <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>数字で始まる簡略化した書式を使うこともできます:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値のみの場合は、秒単位の時間を表します。</p>
</li>
<li>
<p>数値の後に <code>ms</code> が続く場合は、ミリ秒単位の時間を表します。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>その他の場合は、簡略化されたフォーマットが解析のために <code>java.time.Duration</code> フォーマットに変換されます：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値の後に <code>h</code> 、 <code>m</code> 、 <code>s</code> が続く場合は、その前に <code>PT</code> が付けられます。</p>
</li>
<li>
<p>数値の後に <code>d</code> が続く場合は、その前に <code>P</code> が付けられます。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="the-registry-api"><a class="anchor" href="#the-registry-api"></a>4. レジストリー API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>エクステンションは自動的に TLS レジストリーを使用します。一方、ユーザーはレジストリー API を介してプログラムで TLS 設定にアクセスすることもできます。</p>
</div>
<div class="paragraph">
<p>TLS 設定にアクセスするには、 <code>TlsConfigurationRegistry</code> Bean を注入します。
 <code>get("&lt;NAME&gt;")</code> を呼び出して名前付き TLS 設定を取得するか、 <code>getDefault()</code> を呼び出してデフォルト設定を取得します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"> @Inject
 TlsConfigurationRegistry certificates;
// ...
TlsConfiguration def = certificates.getDefault().orElseThrow();
TlsConfiguration named = certificates.get("name").orElseThrow();
//...</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>TlsConfiguration</code> オブジェクトには、キーストア、トラストストア、暗号スイート、プロトコル、およびその他のプロパティーが含まれています。
また、設定から <code>SSLContext</code> を作成する方法も提供します。</p>
</div>
<div class="paragraph">
<p>また、 <code>TlsConfiguration</code> オブジェクトを使用して、 <code>KeyCertOptions</code>、 <code>TrustOptions</code> などの Vert.x クライアントまたはサーバーを設定することもできます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="registering-a-certificate-from-an-extension"><a class="anchor" href="#registering-a-certificate-from-an-extension"></a>5. エクステンションからの証明書の登録</h2>
<div class="sectionbody">
<div class="paragraph">
<p>このセクションはエクステンション開発者専用です。
エクステンションは、TLS レジストリーに証明書を登録できます。
これは、エクステンションがアプリケーションに証明書を提供する必要がある場合、または異なるフォーマットを提供する場合に便利です。</p>
</div>
<div class="paragraph">
<p>エクステンションを使用して TLS レジストリーに証明書を登録するには、<em>プロセッサー</em> エクステンションで、名前と <code>CertificateSupplier</code> で構成される <code>TlsCertificateBuildItem</code> を生成する必要があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">TlsCertificateBuildItem item = new TlsCertificateBuildItem("named",
    new MyCertificateSupplier());</code></pre>
</div>
</div>
<div class="paragraph">
<p>証明書サプライヤーは、通常、レコーダーメソッドを使用して取得されるランタイムオブジェクトです。</p>
</div>
<div class="listingblock">
<div class="title">証明書サプライヤーの例:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyCertificateSupplier implements Supplier&lt;TlsConfiguration&gt; {

        @Override
        public TlsConfiguration get() {
            try {
                KeyStore ks = KeyStore.getInstance("PKCS12");
                ks.load(getClass().getResourceAsStream("target/certs/test-registration-keystore.p12"),
                        "password".toCharArray());
                KeyStore ts = KeyStore.getInstance("PKCS12");
                ts.load(getClass().getResourceAsStream("target/certs/test-registration-truststore.p12"),
                        "password".toCharArray());
                return new BaseTlsConfiguration() {
                    @Override
                    public KeyStore getKeyStore() {
                        return ks;
                    }

                    @Override
                    public KeyStore getTrustStore() {
                        return ts;
                    }
                };
            } catch (Exception e) {
                throw new RuntimeException(e);
            }
        }
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="startup-checks"><a class="anchor" href="#startup-checks"></a>6. 起動時チェック</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TLS エクステンションを使用するアプリケーションが起動すると、TLS レジストリーは、設定が正しいことを確認するために、以下に示すいくつかのチェックを実行します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>キーストアとトラストストアにアクセスできる。</p>
</li>
<li>
<p>エイリアスがキーストアとトラストストアで使用可能であり、アクセスできる。</p>
</li>
<li>
<p>証明書が有効である。</p>
</li>
<li>
<p>暗号スイートとプロトコルが有効である。</p>
</li>
<li>
<p>証明書失効リスト (CRL) が有効である。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>これらのチェックのいずれかが失敗すると、アプリケーションは起動しません。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reloading-certificates"><a class="anchor" href="#reloading-certificates"></a>7. 証明書の再読み込み</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>TlsConfiguration</code> obtained from the <code>TLSConfigurationRegistry</code> includes a mechanism for reloading certificates.
The <code>reload</code> method refreshes the keystores and truststores, typically by reloading them from the file system.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
リロード操作は自動ではなく、手動でトリガーする必要があります。さらに、 <code>TlsConfiguration</code> 実装はリロードをサポートする必要があります (設定された証明書の場合)。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>reload</code> メソッドは、リロードが成功したかどうかを示す <code>boolean</code> を返します。
<code>true</code> 値は、リロード操作が成功したことを意味しますが、必ずしも証明書が更新されたことを意味するわけではありません。</p>
</div>
<div class="paragraph">
<p><code>TlsConfiguration</code> がリロードされた後、この設定を使用するサーバーとクライアントが、新しい証明書を適用するために特定の操作を実行する必要がある場合があります。</p>
</div>
<div class="paragraph">
<p>証明書のリロードについてクライアントとサーバーに通知する方法としては、
<code>io.quarkus.tls.CertificateUpdatedEvent</code> タイプの CDI イベントを起動する方法が推奨されます。
これを行うには、このタイプの CDI イベントを注入し、再読み込みが発生したときにそれを起動します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>手動で再読み込みをトリガーし、 <code>CertificateUpdatedEvent</code> を起動します。</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>// in the class that performs the reload
@Inject
Event&lt;CertificateUpdatedEvent&gt; event;
@Inject
TlsConfigurationRegistry registry;

public void reload() {
    TlsConfiguration config = registry.get("name").orElseThrow();
    if (config.reload()) {
        event.fire(new CertificateUpdatedEvent("name", config));
    }
}

// In the server or client code
public void onReload(@Observes CertificateUpdatedEvent reload) {
    if ("name".equals(event.getName())) {
        server.updateSSLOptions(reload.tlsConfiguration().getSSLOptions());
        // Or update the SSLContext.
    }

}</pre>
</div>
</div>
<div class="sect2">
<h3 id="periodic-reloading"><a class="anchor" href="#periodic-reloading"></a>7.1. 定期的なリロード</h3>
<div class="paragraph">
<p>TLS レジストリーには、ファイルシステムの変更を定期的にチェックし、証明書を再読み込みするためのメカニズムが組み込まれています。
<code>reload-period</code> プロパティーは、証明書をリロードする間隔を指定し、証明書がリロードされるたびに <code>CertificateUpdatedEvent</code> を発行します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>定期的な証明書の再読み込みを設定するには、次のように指定します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.reload-period=1h
quarkus.tls.key-store.pem.0.cert=tls.crt
quarkus.tls.key-store.pem.0.key=tls.key</code></pre>
</div>
</div>
</li>
<li>
<p>名前付き設定ごとに、特定のリロード期間を設定できます。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.http.reload-period=30min
quarkus.tls.http.key-store.pem.0.cert=tls.crt
quarkus.tls.http.key-store.pem.0.key=tls.key</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Impacted server and client may need to listen to the <code>CertificateUpdatedEvent</code> to apply the new certificates.
This is automatically done for the Quarkus HTTP server, including the management interface if it is enabled.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-kubernetes-secrets-or-cert-manager"><a class="anchor" href="#using-kubernetes-secrets-or-cert-manager"></a>8. Kubernetes シークレットまたは cert-manager の使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kubernetes で実行する場合、Kubernetes シークレットを使用してキーストアとトラストストアを保存できます。</p>
</div>
<div class="sect2">
<h3 id="using-kubernetes-secrets"><a class="anchor" href="#using-kubernetes-secrets"></a>8.1. Kubernetes シークレットの使用</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>以下のシークレットを例として、Kubernetes シークレットを使用するためのキーストアとトラストストアが含まれるシークレットを作成します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
data:
  tls.crt: ...
  tls.key: ...
kind: Secret
metadata:
  name: my-certs
type: kubernetes.io/tls</code></pre>
</div>
</div>
</li>
<li>
<p>シークレットを Pod 内のボリュームとしてマウントします。これは、証明書を使用する最も簡単な方法です。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/name: demo
    app.kubernetes.io/version: 1.0.0-SNAPSHOT
    app.kubernetes.io/managed-by: quarkus
  name: demo
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: demo
      app.kubernetes.io/version: 1.0.0-SNAPSHOT
  template:
    metadata:
      labels:
        app.kubernetes.io/managed-by: quarkus
        app.kubernetes.io/name: demo
        app.kubernetes.io/version: 1.0.0-SNAPSHOT
    spec:
      containers:
        - env:
            - name: KUBERNETES_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          image: ...
          imagePullPolicy: IfNotPresent
          name: demo
          ports:
            - containerPort: 8443 # Configure the port to be HTTPS
              name: http
              protocol: TCP
          volumeMounts:
            - mountPath: /certs
              name: my-volume
      volumes:
        - name: my-volume
          secret:
            defaultMode: 0666 # Set the permissions, otherwise the pod may not be able to read the files
            optional: false
            secretName: my-certs # Reference the secret</code></pre>
</div>
</div>
</li>
<li>
<p>証明書を使用するように TLS レジストリーを設定します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># ...
# TLS Registry configuration
%prod.quarkus.tls.http.key-store.pem.0.cert=/certs/tls.crt
%prod.quarkus.tls.http.key-store.pem.0.key=/certs/tls.key

# HTTP server configuration:
%prod.quarkus.http.tls-configuration-name=http
%prod.quarkus.http.insecure-requests=disabled</code></pre>
</div>
</div>
<div class="paragraph">
<p>これを定期的なリロードと組み合わせて、証明書が変更されたときに自動的にリロードできるようにします。</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="using-cert-manager"><a class="anchor" href="#using-cert-manager"></a>8.2. cert-manager の使用</h3>
<div class="paragraph">
<p>Kubernetes で実行する場合、cert-manager を使用して証明書を自動的に生成および更新できます。
cert-manager は、キーストアとトラストストアが含まらえるシークレットを生成します。
TLS レジストリーの設定は、Kubernetes シークレットを使用する場合と同じです。
生成されたシークレットには次のファイルが含まれます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>証明書用の <code>tls.crt</code></p>
</li>
<li>
<p>秘密鍵用の <code>tls.key</code></p>
</li>
<li>
<p>CA 証明書用の <code>ca.crt</code> (必要な場合)</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>証明書の自動更新を設定するには、定期的なリロードメカニズムを使用します。</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties"># ...
# TLS Registry configuration
%prod.quarkus.tls.http.key-store.pem.0.cert=/certs/tls.crt
%prod.quarkus.tls.http.key-store.pem.0.key=/certs/tls.key
%prod.quarkus.tls.http.reload-period=24h

# HTTP server configuration:
%prod.quarkus.http.tls-configuration-name=http
%prod.quarkus.http.insecure-requests=disabled</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="working-with-openshift-serving-certificates"><a class="anchor" href="#working-with-openshift-serving-certificates"></a>9. OpenShift 提供証明書の使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift でアプリケーションを実行する場合、<a href="https://docs.openshift.com/container-platform/4.16/security/certificates/service-serving-certificate.html">OpenShift 提供証明書</a> を使用して、TLS 証明書を自動的に生成および更新できます。
Quarkus TLS レジストリーは、この証明書と認証局 (CA) ファイルを使用して、HTTPS トラフィックを処理し、証明書をセキュアに検証できます。</p>
</div>
<div class="sect2">
<h3 id="acquiring-a-certificate"><a class="anchor" href="#acquiring-a-certificate"></a>9.1. 証明書の取得</h3>
<div class="paragraph">
<p>OpenShift でサービス証明書を生成するには、既存の <em>Service</em> オブジェクトにアノテーションを付けます。
生成された証明書はシークレットに保存され、Pod にマウントできるようになります。</p>
</div>
<div class="paragraph">
<p>次のスニペットでは、TLS 証明書を生成するためのアノテーションが付いたサンプルの <em>Service</em> オブジェクトを使用しています。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><em>Service</em> オブジェクトの設定を表示します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: Service
metadata:
  labels:
    app.kubernetes.io/name: ...
    app.kubernetes.io/version: ...
    app.kubernetes.io/managed-by: quarkus
  name: hero-service
spec:
  ports:
    - name: http
      port: 443
      protocol: TCP
      targetPort: 8443
  selector:
    app.kubernetes.io/name: ...
    app.kubernetes.io/version: ...
  type: ClusterIP</code></pre>
</div>
</div>
</li>
<li>
<p>証明書を生成するには、すでに作成されている OpenShift <code>service</code> に次のアノテーションを追加します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">oc annotate service hero-service \
     service.beta.openshift.io/serving-cert-secret-name=my-tls-secret</code></pre>
</div>
</div>
<div class="paragraph">
<p>アノテーション <code>service.beta.openshift.io/serving-cert-secret-name</code> は、証明書を生成し、それを <code>my-tls-secret</code> という名前のシークレットに保存するよう OpenShift に指示します。</p>
</div>
</li>
<li>
<p><em>Deployment</em> 設定を更新して、シークレットを Pod 内のボリュームとしてマウントします。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app.kubernetes.io/name: ...
    app.kubernetes.io/version: ...
  name: my-service
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: ...
      app.kubernetes.io/version: ...
  template:
    metadata:
      labels:
        app.kubernetes.io/name: ...
        app.kubernetes.io/version: ...
    spec:
      volumes:
        - name: my-tls-secret  <i class="conum" data-value="1"></i><b>(1)</b>
          secret:
            secretName: my-tls-secret
      containers:
        - env:
            - name: KUBERNETES_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
            - name: QUARKUS_TLS_KEY_STORE_PEM_ACME_CERT <i class="conum" data-value="2"></i><b>(2)</b>
              value: /etc/tls/tls.crt
            - name: QUARKUS_TLS_KEY_STORE_PEM_ACME_KEY
              value: /etc/tls/tls.key
          image: ...
          imagePullPolicy: Always
          name: my-service
          volumeMounts:  <i class="conum" data-value="3"></i><b>(3)</b>
            - name: my-tls-secret
              mountPath: /etc/tls
              readOnly: true
          ports:
            - containerPort: 8443  <i class="conum" data-value="4"></i><b>(4)</b>
              name: https
              protocol: TCP</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>シークレットをマウントするボリュームを定義します。
上記で宣言したシークレットと同じ名前を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>証明書と秘密鍵へのパスを使用してキーストアを設定します。
これは、環境変数または設定ファイルを使用して設定できます。
この例では環境変数を使用します。
OpenShift 提供証明書は必ず <code>tls.crt</code> ファイルと <code>tls.key</code> ファイルを作成します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>コンテナーにシークレットをマウントします。
パスが、設定で使用されているパス (ここでは <code>/etc/tls</code>) と一致していることを確認します。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>HTTPS を提供するポートを設定します。</td>
</tr>
</table>
</div>
</li>
<li>
<p>OpenShift によって生成された証明書を使用するようにアプリケーションをデプロイします。
これにより、HTTPS 経由でサービスが利用できるようになります。</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>quarkus.tls.key-store.pem.acme.cert</code> および <code>quarkus.tls.key-store.pem.acme.key</code> 変数またはその環境変数バリアントを設定すると、TLS レジストリーがシークレットからの証明書と秘密鍵を使用します。</p>
</div>
<div class="paragraph">
<p>これにより、Quarkus HTTP サーバーのデフォルトのキーストアが設定され、サーバーが証明書を使用できるようになります。
名前付き設定でこの証明書を使用する方法については、<a href="#referencing-a-tls-configuration">TLS 設定の参照</a> を参照してください。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="trusting-the-certificate-authority-ca"><a class="anchor" href="#trusting-the-certificate-authority-ca"></a>9.2. 認証局 (CA) を信頼する</h3>
<div class="ulist">
<div class="title">前提条件</div>
<ul>
<li>
<p><a href="#acquiring-a-certificate">証明書の取得</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>サービスが OpenShift によって発行された証明書を使用するようになったら、この証明書を信頼するようにクライアントアプリケーションを設定します。
これを行うには、CA 証明書を保持する ConfigMap を作成し、それをマウントするように Pod を設定します。
次の手順では、Quarkus REST クライアントを例として使用しますが、どのクライアントでも同じ方法が使用されます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>まず、CA 証明書を入力する <em>空</em> の ConfigMap を定義します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: client-tls-config
  annotations:
    service.beta.openshift.io/inject-cabundle: "true"</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>service.beta.openshift.io/inject-cabundle</code> アノテーションは、CA 証明書を ConfigMap に注入するために使用されます。
この ConfigMap は、最初はデータがなく、空であることに注意してください。
処理中に、OpenShift は CA 証明書を <code>service-ca.crt</code> ファイルの ConfigMap に注入します。</p>
</div>
</li>
<li>
<p>ボリュームを追加して <em>Deployment</em> 設定にマウントすることで、ConfigMap をマウントします。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-service-client
  labels:
    app.kubernetes.io/name: ...
    app.kubernetes.io/version: ...
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: ...
      app.kubernetes.io/version: ...
  template:
    metadata:
      labels:
        app.kubernetes.io/name: ...
        app.kubernetes.io/version: ...
    spec:
      containers:
        - name: my-service-client
          image: ...
          ports:
            - name: http
              containerPort: 8080
              protocol: TCP
          volumeMounts: <i class="conum" data-value="1"></i><b>(1)</b>
            - name: my-client-volume
              mountPath: /deployments/tls
      volumes: <i class="conum" data-value="2"></i><b>(2)</b>
        - name: my-client-volume
          configMap:
            name: client-tls-config</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>ConfigMap をコンテナーにマウントします。
パスが設定で使用されているパスと一致していることを確認します (この例では <code>/deployments/tls</code>)。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>ConfigMap をマウントし、CA 証明書を受け取る ConfigMap を参照するためのボリュームを定義します。</td>
</tr>
</table>
</div>
</li>
<li>
<p>この CA 証明書を使用するように REST クライアントを設定します。</p>
<div class="paragraph">
<p>次のような REST クライアントインターフェイスがあるとします。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme;

import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import org.eclipse.microprofile.rest.client.inject.RegisterRestClient;

@RegisterRestClient(baseUri = "https://hero-service.cescoffi-dev.svc", configKey = "hero") <i class="conum" data-value="1"></i><b>(1)</b>
public interface HeroClient {

    record Hero (Long id, String name, String otherName, int level, String picture, String powers) {
    }

    @GET
    @Path("/api/heroes/random")
    Hero getRandomHero();

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>ベース URI と設定鍵を設定します。
名前は、 <code>&lt;service-name&gt;.&lt;namespace&gt;.svc</code> フォーマットにします。
そうでない場合、証明書は信頼されません。
<code>configKey</code> も設定されていることを確認してください。</td>
</tr>
</table>
</div>
</li>
<li>
<p>OpenShift によって生成された CA 証明書を信頼するように REST クライアントを設定します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.rest-client.hero.tls-configuration-name=my-service-tls <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.tls.my-service-tls.trust-store.pem.certs=/deployments/tls/service-ca.crt <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>my-service-tls</code> という名前の TLS 設定を使用して、 <code>hero</code> REST クライアントを設定します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>my-service-tls</code> TLS 設定、具体的には CA 証明書を含むトラストストアを設定します。
パスが Kubernetes <em>Deployment</em> 設定で使用されているパスと一致していることを確認します。
ファイルの名前は必ず <code>service-ca.crt</code> になります。</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="certificate-renewal"><a class="anchor" href="#certificate-renewal"></a>9.3. 証明書の更新</h3>
<div class="paragraph">
<p>OpenShift は生成した提供証明書を自動的に更新します。
証明書が更新されると、シークレットが新しい証明書と秘密鍵で更新されます。</p>
</div>
<div class="paragraph">
<p>アプリケーションが新しい証明書を使用するようにするには、Quarkus TLS レジストリーの定期的な再読み込み機能を使用できます。</p>
</div>
<div class="paragraph">
<p><code>reload-period</code> プロパティーを設定すると、TLS レジストリーはキーストアとトラストストアの変更を定期的にチェックし、必要に応じて再読み込みします。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.reload-period=24h</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>必要に応じて、シークレットが更新されたときに証明書を再読み込みするカスタムメカニズムを実装します。
詳細は <a href="#reloading-certificates">証明書の再読み込み</a> を参照してください。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quarkus-cli-commands-and-development-certificate-authority"><a class="anchor" href="#quarkus-cli-commands-and-development-certificate-authority"></a>10. Quarkus CLI コマンドと開発用認証局</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TLS レジストリーは、開発用認証局 (CA) と信頼済み証明書を生成するための Quarkus CLI コマンドを備えています。
これにより、自己署名証明書をローカルで使用する必要がなくなります。</p>
</div>
<div class="paragraph">
<p>次のスニペットは、2 つのサブコマンドを含む <code>quarkus tls</code> コマンドの説明を示しています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">&gt; quarkus tls
Install and Manage TLS development certificates
Usage: tls [COMMAND]
Commands:
  generate-quarkus-ca   Generate Quarkus Dev CA certificate and private key. <i class="conum" data-value="1"></i><b>(1)</b>
  generate-certificate  Generate a TLS certificate with the Quarkus Dev CA if
                        available. <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>これは、Quarkus が独自の認証局として機能し、他の証明書に署名するために使用できるため、ローカル開発に便利です。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>これは、開発中にアプリケーションと外部サービスまたはクライアント間でセキュアな通信を確立するための証明書を作成するときに便利です。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ほとんどの場合、Quarkus Development CA を一度生成してから、この CA によって署名された証明書を生成します。
Quarkus Development CA は、ローカルで証明書に署名するために使用できる認証局です。
これは開発目的にのみ有効であり、ローカルマシン上でのみ信頼されます。
生成された CA は <code>$HOME/.quarkus/quarkus-dev-root-ca.pem</code> に配置され、システムトラストストアにインストールされます。</p>
</div>
<div class="sect2">
<h3 id="understanding-self-signed-versus-ca-signed-certificates"><a class="anchor" href="#understanding-self-signed-versus-ca-signed-certificates"></a>10.1. 自己署名証明書と CA 署名証明書の違いについて</h3>
<div class="paragraph">
<p>TLS を使用して開発する場合、次の 2 種類の証明書を使用できます。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>自己署名証明書</strong>: 証明書は、それを使用するエンティティーと同じエンティティーによって署名されます。
デフォルトでは信頼されません。
このタイプの証明書は、通常、認証局 (CA) が利用できない場合や、簡単なセットアップが必要な場合に使用されます。
実稼働環境には適しておらず、開発目的でのみ使用する必要があります。</p>
</li>
<li>
<p><strong>CA 署名証明書</strong>: 証明書は、信頼済みエンティティーである証明書 CA によって署名されます。
この証明書はデフォルトで信頼されており、実稼働環境での標準的な選択肢です。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ローカル開発には自己署名証明書を使用できますが、制限があります。
通常、 <code>curl</code>、 <code>wget</code>、 <code>httpie</code> などのブラウザーやツールは、自己署名証明書を信頼しないため、OS に CA を手動でインポートする必要があります。</p>
</div>
<div class="paragraph">
<p>この問題を回避するには、開発用 CA を使用して証明書に署名し、その CA をシステムのトラストストアにインストールします。
これにより、システムが CA によって署名されたすべての証明書を信頼するようになります。</p>
</div>
<div class="paragraph">
<p>Quarkus は、開発用 CA とこの CA によって署名される証明書の生成を簡素化します。</p>
</div>
</div>
<div class="sect2">
<h3 id="generate-a-development-ca"><a class="anchor" href="#generate-a-development-ca"></a>10.2. 開発 CA の生成</h3>
<div class="paragraph">
<p>開発 CA は、ローカルで証明書に署名するために使用できる認証局です。
生成された CA は開発目的でのみ有効であり、ローカルマシン上でのみ信頼できることに注意してください。</p>
</div>
<div class="paragraph">
<p>開発用 CA を生成するには、次のように指定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">quarkus tls generate-quarkus-ca --install \   <i class="conum" data-value="1"></i><b>(1)</b>
     --renew \     <i class="conum" data-value="2"></i><b>(2)</b>
     --truststore  <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>--install</code> は、システムトラストストアに CA をインストールします。
Windows、Mac、Linux (Fedora および Ubuntu) がサポートされています。
ただし、ブラウザーによっては、生成された CA を手動でインポートすることを推奨します。
詳細は、ブラウザーのドキュメントを参照してください。
生成された CA は <code>$HOME/.quarkus/quarkus-dev-root-ca.pem</code> に配置されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>--renew</code> は、CA がすでに存在する場合にそれを更新します。
このオプションを使用すると、秘密鍵が変更されます。そのため、CA によって署名された証明書を再生成する必要があります。
CA の有効期限が切れると、 <code>--renew</code> オプションを必要とせずに自動的に更新されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>--truststore</code> は、CA 証明書を含む PKCS12 トラストストアも生成します。</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
証明書をインストールするときに、システムのトラストストアに証明書をインストールするためのパスワードの入力を求められたり、Windows のダイアログで確認を求められたりすることがあります。
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Windows では、管理者権限を持つターミナルから管理者として実行し、システムのトラストストアに CA をインストールしてください。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="generating-a-trusted-signed-certificate"><a class="anchor" href="#generating-a-trusted-signed-certificate"></a>10.3. 信頼済み (署名済み) 証明書の生成</h3>
<div class="ulist">
<div class="title">前提条件</div>
<ul>
<li>
<p><a href="#generate-a-development-ca">開発 CA の生成</a></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Quarkus 開発用 CA をインストールしたら、信頼済み証明書を生成します。
この証明書は Quarkus 開発用 CA によって署名され、システムによって信頼されます。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">quarkus tls generate-certificate --name my-cert</code></pre>
</div>
</div>
<div class="paragraph">
<p>このコマンドは、Quarkus 開発用 CA によって署名された証明書を生成します。開発用 CA は、適切にインストールまたはインポートされた場合にシステムによって信頼されます。</p>
</div>
<div class="paragraph">
<p>証明書は <code>./.certs/</code> に保存されます。
以下の 2 つのファイルが生成されます。</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><code>$NAME-keystore.p12</code>: 秘密鍵と証明書が含まれます。
パスワードで保護されています。</p>
</li>
<li>
<p>$NAME-truststore.p12`: テスト用などにトラストストアとして使用できる CA 証明書が含まれています。</p>
<div class="paragraph">
<p>以下に示すその他のオプションも利用できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">Usage: tls generate-certificate [-hrV] [-c=&lt;cn&gt;] [-d=&lt;directory&gt;]
       -n=&lt;name&gt; [-p=&lt;password&gt;]
Generate a TLS certificate with the Quarkus Dev CA if available.
  -c, --cn=&lt;cn&gt;       The common name of the certificate. Default is 'localhost'
  -d, --directory=&lt;directory&gt;
                      The directory in which the certificates will be created.
                        Default is `.certs`
  -n, --name=&lt;name&gt;   Name of the certificate. It will be used as file name and
                        alias in the keystore
  -p, --password=&lt;password&gt;
                      The password of the keystore. Default is 'password'
  -r, --renew         Whether existing certificates will need to be replaced</code></pre>
</div>
</div>
<div class="paragraph">
<p>証明書を生成するときに <code>.env</code> ファイルも生成されます。これにより、Quarkus 開発モードがこれらの証明書を認識するようになります。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>アプリケーションを開発モードで実行して、これらの証明書を使用します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">./mvnw quarkus:dev
...
INFO  [io.quarkus] (Quarkus Main Thread) demo 1.0.0-SNAPSHOT on JVM (powered by Quarkus 999-SNAPSHOT) started in 1.286s. Listening on: http://localhost:8080 and https://localhost:8443</code></pre>
</div>
</div>
</li>
<li>
<p>HTTPS (<code><a href="https://localhost:8443/q/dev" class="bare">https://localhost:8443/q/dev</a></code>) を使用するか、 <code>curl</code> リクエストを発行して Dev UI を開きます。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">curl https://localhost:8443/hello
Hello from Quarkus REST%</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Quarkus 開発用 CA がインストールされていない場合、Quarkus は自己署名証明書を生成します。
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="generating-a-self-signed-certificate"><a class="anchor" href="#generating-a-self-signed-certificate"></a>10.4. 自己署名証明書の生成</h3>
<div class="paragraph">
<p>Quarkus Development CA がインストールされている場合でも、自己署名証明書を生成できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">quarkus tls generate-certificate --name my-cert --self-signed</code></pre>
</div>
</div>
<div class="paragraph">
<p>これにより、Quarkus 開発用 CA によって署名されない自己署名証明書が生成されます。</p>
</div>
</div>
<div class="sect2">
<h3 id="uninstalling-the-quarkus-development-ca"><a class="anchor" href="#uninstalling-the-quarkus-development-ca"></a>10.5. Quarkus Development CA のアンインストール</h3>
<div class="paragraph">
<p>システムから Quarkus Development CA をアンインストールする方法は、OS によって異なります。</p>
</div>
<div class="sect3">
<h4 id="deleting-the-ca-certificate-on-windows"><a class="anchor" href="#deleting-the-ca-certificate-on-windows"></a>10.5.1. Windows での CA 証明書の削除</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>管理者権限で Powershell ターミナルを使用して、Windows 上の CA 証明書をリスト表示します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell"># First, we need to identify the serial number of the CA certificate
&gt; certutil -store -user Root
root "Trusted Root Certification Authorities"
================ Certificate 0 ================
Serial Number: 019036d564c8
Issuer: O=Quarkus, CN=quarkus-dev-root-ca # &lt;-That's the CA, copy the Serial Number (the line above)
NotBefore: 6/19/2024 11:07 AM
NotAfter: 6/20/2025 11:07 AM
Subject: C=Cloud, S=world, L=home, OU=Quarkus Dev, O=Quarkus Dev, CN=quarkus-dev-root-ca
Signature matches Public Key
Non-root Certificate uses same Public Key as Issuer
Cert Hash(sha1): 3679bc95b613a2112a3d3256fe8321b6eccce720
No key provider information
Cannot find the certificate and private key for decryption.
CertUtil: -store command completed successfully.</code></pre>
</div>
</div>
</li>
<li>
<p>保存されている CA 証明書を削除します。 <code>$Serial_Number</code> を CA 証明書のシリアル番号に置き換えます。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">&gt; certutil -delstore -user -v Root $Serial_Number</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="deleting-the-ca-certificate-on-linux"><a class="anchor" href="#deleting-the-ca-certificate-on-linux"></a>10.5.2. Linux での CA 証明書の削除</h4>
<div class="ulist">
<ul>
<li>
<p>Fedora の場合:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">sudo rm /etc/pki/ca-trust/source/anchors/quarkus-dev-root-ca.pem
sudo update-ca-trust</code></pre>
</div>
</div>
</li>
<li>
<p>Ubuntu の場合:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">sudo rm /usr/local/share/ca-certificates/quarkus-dev-root-ca.pem
sudo update-ca-certificates</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="deleting-the-ca-certificate-on-mac"><a class="anchor" href="#deleting-the-ca-certificate-on-mac"></a>10.5.3. Mac での CA 証明書の削除</h4>
<div class="ulist">
<ul>
<li>
<p>Mac の場合:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">sudo security -v remove-trusted-cert -d /Users/clement/.quarkus/quarkus-dev-root-ca.pem</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lets-encrypt"><a class="anchor" href="#lets-encrypt"></a>11. Let&#8217;s Encrypt による証明書の自動管理</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://letsencrypt.org">Let&#8217;s Encrypt</a> は、<a href="https://www.abetterinternet.org/">Internet Security Research Group</a> が提供する無料の自動化された認証局です。</p>
</div>
<div class="paragraph">
<p>Let&#8217;s Encrypt は、証明書の自動発行と自動更新をサポートするために<a href="https://datatracker.ietf.org/doc/html/rfc8555">自動証明書管理環境 (ACME) プロトコル</a> を使用します。
Let&#8217;s Encrypt と ACME の詳細は、<a href="https://letsencrypt.org/docs/">Let&#8217;s Encrypt のドキュメント</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>TLS レジストリーエクステンションにより、CLI ACME クライアントは Let&#8217;s Encrypt 証明書を発行および更新できるようになります。
アプリケーションは、この TLS レジストリーエクステンションを使用して、ACME プロトコルのチャレンジを解決します。</p>
</div>
<div class="paragraph">
<p>以下のステップに従って、Quarkus アプリケーションを準備し、新しい Let&#8217;s Encrypt 証明書と更新された Let&#8217;s Encrypt 証明書で自動的に更新します。</p>
</div>
<div class="sect2">
<h3 id="lets-encrypt-prerequisites"><a class="anchor" href="#lets-encrypt-prerequisites"></a>11.1. 前提条件</h3>
<div class="ulist">
<ul>
<li>
<p>アプリケーションにアクセスするために使用できる、完全に解決可能な DNS ドメイン名が利用可能であることを確認します。
このドメイン名は、Let&#8217;s Encrypt アカウントを作成し、Let&#8217;s Encrypt ACME チャレンジに成功してこのドメインを所有していることを証明するために使用できます。
<a href="https://ngrok.com/">ngrok</a> を使用して Quarkus Let&#8217;s Encrypt ACME 機能を試すことができます。詳細は、以下の <a href="#lets-encrypt-ngrok">Testing with ngrok</a> セクションを参照してください。</p>
</li>
<li>
<p>Quarkus HTTPS アプリケーションでは、<em>build-time</em> プロパティーを使用して Let&#8217;s Encrypt ACME チャレンジルートを有効にする必要があります。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.lets-encrypt.enabled=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>TLS レジストリーは、メイン HTTP インターフェイスまたは管理インターフェイスのいずれかからチャレンジプロセスを管理できます。
メインアプリケーションのデプロイメントとセキュリティーの要件とは別に、Quarkus が ACME チャレンジ設定を処理できるように、管理インターフェイスを使用することが <strong>強く</strong> 推奨されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.lets-encrypt.enabled=true
quarkus.management.enabled=true</code></pre>
</div>
</div>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<div class="title">ポート 80</div>
<p>Let&#8217;s Encrypt ACME チャレンジでは、アプリケーションがポート <code>80</code> (基本的には <code><a href="http://your-dns-name" class="bare">http://your-dns-name</a></code>) でアクセスできる必要があります。
ポート <code>80</code> がインターネットからアクセス可能であることを確認します。
ホスティングプロバイダーによっては、明示的なセキュリティーポリシーが必要になる場合があります。</p>
</div>
<div class="paragraph">
<p>また、すべての HTTP リクエストを HTTPS にリダイレクトするために、 <code>quarkus.http.insecure-requests</code> を <code>redirect</code> に設定することが推奨されます。
ACME チャレンジは、自己署名証明書と最大で 10 件のリダイレクトを受け入れます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.lets-encrypt.enabled=true
quarkus.management.enabled=true
quarkus.http.insecure-requests=redirect</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>チャレンジはプライマリー HTTP インターフェイス (DNS ドメイン名からアクセス可能) から提供されます。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
アプリケーションはまだ開始しないでください。
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="lets-encrypt-prepare"><a class="anchor" href="#lets-encrypt-prepare"></a>11.2. アプリケーションの準備</h3>
<div class="paragraph">
<p>Let&#8217;s Encrypt 証明書をリクエストする前に、以下を実行します。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>アプリケーションの root ディレクトリーに移動します。</p>
</li>
<li>
<p>TLS レジストリー Let&#8217;s Encrypt CLI の <code>prepare</code> コマンドを実行します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">quarkus tls lets-encrypt prepare --domain=&lt;domain-dns-name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>prepare</code> コマンドは以下を実行します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>アプリケーションの root ディレクトリーに <code>.letsencrypt</code> フォルダーを作成します。</p>
</li>
<li>
<p>HTTPS リクエストを開始して受け入れるためには、前の<a href="#lets-encrypt-prerequisites">Let&#8217;s Encrypt prerequisites</a> ステップで設定したアプリケーション用の自己署名ドメイン証明書と秘密鍵を作成します。</p>
</li>
<li>
<p>アプリケーションの root ディレクトリーに <code>.env</code> 設定ファイルを作成し、自己署名ドメイン証明書と秘密鍵を (Let&#8217;s Encrypt 証明書を取得するまで) 使用するようにアプリケーションを設定します。</p>
<div class="paragraph">
<p>次のスニペットは、生成された <code>.env</code> ファイルの例を示しています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.tls.key-store.pem.acme.cert=.letsencrypt/lets-encrypt.crt
quarkus.tls.key-store.pem.acme.key=.letsencrypt/lets-encrypt.key</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>quarkus.tls.lets-encrypt.enabled</code> プロパティーと <code>quarkus.management.enabled</code> プロパティーは、アプリケーションの再構築を必要とするビルド時のプロパティーであるため、 <code>.env</code> ファイルには含まれません。
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="starting-your-application"><a class="anchor" href="#starting-your-application"></a>11.3. アプリケーションの起動</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>アプリケーションを起動します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">java -jar quarkus-run.jar</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code><a href="https://your-domain-name:8443/" class="bare">https://your-domain-name:8443/</a></code> を使用してアプリケーションエンドポイントにアクセスし (例: <code><a href="https://your-domain-name:8443/hello" class="bare">https://your-domain-name:8443/hello</a></code>)、ブラウザーで自己署名証明書を受け入れます。</p>
</li>
<li>
<p>アプリケーションを実行したまま、最初の Let&#8217;s Encrypt 証明書をリクエストします。</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="lets-encrypt-issue-certificate"><a class="anchor" href="#lets-encrypt-issue-certificate"></a>11.4. 証明書の発行</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>アプリケーションディレクトリーから <code>issue-certificate</code> コマンドを実行して、最初の Let&#8217;s Encrypt 証明書を取得します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">quarkus tls lets-encrypt issue-certificate \
  --domain=&lt;domain-dns-name&gt; \ <i class="conum" data-value="1"></i><b>(1)</b>
  --email=&lt;your contact email&gt; \ <i class="conum" data-value="2"></i><b>(2)</b>
  --management-url=https://localhost:9000 <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>ドメイン名を設定します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Let&#8217;s Encrypt アカウントに問題が発生した場合に Let&#8217;s Encrypt が連絡するために使用できるメールアドレスを入力します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>ACME チャレンジの処理に使用できるアプリケーション管理 URL を設定します。
<a href="#lets-encrypt-prerequisites">Let&#8217;s Encrypt prerequisites</a> ステップで管理ルーターを有効にしない場合は、 <code><a href="https://localhost:8443/" class="bare">https://localhost:8443/</a></code> を使用します。</td>
</tr>
</table>
</div>
</li>
<li>
<p><code>issue-certificate</code> コマンドの処理中に、TLS レジストリー CLI は次のタスクを実行します。</p>
<div class="ulist">
<ul>
<li>
<p>アプリケーションがチャレンジに対応する準備ができているか確認します。</p>
</li>
<li>
<p>Let&#8217;s Encrypt アカウント情報を作成し、記録します。</p>
</li>
<li>
<p>Let&#8217;s Encrypt 証明書リクエストを発行します。</p>
</li>
<li>
<p>Quarkus アプリケーションと対話して ACME チャレンジを解決します。</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Let&#8217;s Encrypt 証明書チェーンと秘密鍵が正常に取得されると、それらは PEM フォーマットに変換され、アプリケーションの <code>.letsencrypt</code> フォルダーにコピーされます。
TLS レジストリーには、新しい証明書と秘密鍵の準備ができたことが通知され、それらの自動リロードが実行されます。
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code><a href="https://your-domain-name:8443/" class="bare">https://your-domain-name:8443/</a></code> を使用して、アプリケーションのエンドポイントに再度アクセスします。
ブラウザーで、Let&#8217;s Encrypt 認証局がドメイン証明書に署名することを確認します。</p>
<div class="paragraph">
<p>現時点では、ユーザーが ACME プロトコルを簡単に開始できるように、 <code>issue-certificate</code> コマンドにより暗黙的に Let&#8217;s Encrypt アカウントが作成されることに注意してください。
Let&#8217;s Encrypt アカウント管理のサポートはさらに今後さらに進化する予定です。</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="renewing-a-certificate"><a class="anchor" href="#renewing-a-certificate"></a>11.5. 証明書の更新</h3>
<div class="paragraph">
<p>証明書の更新は最初の証明書の発行と似ていますが、<a href="#lets-encrypt-issue-certificate">Issue certificates with Let&#8217;s Encrypt</a> ステップで作成された既存アカウントが必要です。</p>
</div>
<div class="paragraph">
<p>次のコマンドを実行して、Let&#8217;s Encrypt 証明書を更新し、ドメインの DNS 名を設定します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">quarkus tls lets-encrypt renew-certificate \
  --domain=&lt;domain-dns-name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>このコマンドの実行中、TLS レジストリー CLI は <a href="#lets-encrypt-issue-certificate">Issue certificates with Let&#8217;s Encrypt</a> ステップで記録された Let&#8217;s Encrypt アカウント情報を読み取り、Let&#8217;s Encrypt 証明書リクエストを発行し、ACME チャレンジを解決するために Quarkus アプリケーションと通信します。</p>
</div>
<div class="paragraph">
<p>Let&#8217;s Encrypt 証明書チェーンと秘密鍵が正常に更新されると、それらは PEM フォーマットに変換され、アプリケーションの <code>.letsencrypt</code> フォルダーにコピーされます。
TLS レジストリーには、新しい証明書と秘密鍵の準備ができたことが通知され、それらの自動リロードが実行されます。</p>
</div>
</div>
<div class="sect2">
<h3 id="lets-encrypt-ngrok"><a class="anchor" href="#lets-encrypt-ngrok"></a>11.6. ngrok によるテスト</h3>
<div class="paragraph">
<p><a href="https://ngrok.com/">ngrok</a> を使用すると、ローカルホストで実行されているアプリケーションにセキュアな HTTPS トンネルを提供し、HTTPS ベースのアプリケーションを簡単にテストできるようになります。</p>
</div>
<div class="paragraph">
<p>ngrok を使用すると、容易に Quarkus Let&#8217;s Encrypt ACME 機能を使い始めることができます。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ngrok にドメインを予約するように要求することでテストを開始します。</p>
<div class="paragraph">
<p>開発モードで <a href="https://github.com/quarkiverse/quarkus-ngrok">Quarkiverse ngrok</a> を使用するか、ngrok ダッシュボードで直接予約できます。
残念ながら、ngrok ドメインを使用して Quarkus Let&#8217;s Encrypt ACME 機能をすぐにテストすることはできません。
これは、ngrok 自体が Let&#8217;s Encrypt を使用し、Quarkus アプリケーションで処理されるはずの ACME チャレンジを傍受するためです。</p>
</div>
</li>
<li>
<p>よって、ngrok ドメインから ngrok Let&#8217;s Encrypt 証明書ポリシーを削除します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">ngrok api --api-key &lt;YOUR-API-KEY&gt; reserved-domains delete-certificate-management-policy &lt;YOUR-RESERVED-DOMAIN-ID&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>YOUR-RESERVED-DOMAIN-ID</code> は、 <code>rd_</code> で始まる予約済みドメインの ID です。この ID は、 <a href="https://dashboard.ngrok.com/cloud-edge/domains">ngrok ダッシュボードドメインセクション</a> で確認できます。</p>
</div>
</li>
<li>
<p>ngrok は ACME チャレンジを HTTP 経由でのみ転送するため、次のコマンドを使用して ngrok を起動します。</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">ngrok http --domain &lt;YOUR-NGROK-DOMAIN&gt; 8080 --scheme http <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>8080</code> は、アプリケーションがリッスンしているローカルホストの HTTP ポートです。
アプリケーションは、ポート <code>80</code> の <code><a href="http://YOUR-NGROK-DOMAIN" class="bare">http://YOUR-NGROK-DOMAIN</a></code> からアクセスできますが、ポート <code>8080</code> のローカルマシンにリダイレクトされることに注意してください。</td>
</tr>
</table>
</div>
</li>
<li>
<p>ローカルマシンから Quarkus Let&#8217;s Encrypt ACME 機能をテストします。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#using-the-tls-registry">1. TLS レジストリーの使用</a>
<ul class="sectlevel2">
<li><a href="#configuring-https-for-a-http-server">1.1. HTTP サーバーの HTTPS の設定</a></li>
<li><a href="#configuring-https-for-a-client">1.2. クライアントの HTTPS の設定</a></li>
<li><a href="#configuring-mtls">1.3. mTLS の設定</a></li>
</ul>
</li>
<li><a href="#referencing-a-tls-configuration">2. TLS 設定の参照</a></li>
<li><a href="#configuring-tls">3. TLS の設定</a>
<ul class="sectlevel2">
<li><a href="#key-stores">3.1. キーストア</a></li>
<li><a href="#trust-stores">3.2. トラストストア</a></li>
<li><a href="#other-properties">3.3. その他のプロパティー</a></li>
<li><a href="#configuration-reference">3.4. 設定リファレンス</a></li>
</ul>
</li>
<li><a href="#the-registry-api">4. レジストリー API</a></li>
<li><a href="#registering-a-certificate-from-an-extension">5. エクステンションからの証明書の登録</a></li>
<li><a href="#startup-checks">6. 起動時チェック</a></li>
<li><a href="#reloading-certificates">7. 証明書の再読み込み</a>
<ul class="sectlevel2">
<li><a href="#periodic-reloading">7.1. 定期的なリロード</a></li>
</ul>
</li>
<li><a href="#using-kubernetes-secrets-or-cert-manager">8. Kubernetes シークレットまたは cert-manager の使用</a>
<ul class="sectlevel2">
<li><a href="#using-kubernetes-secrets">8.1. Kubernetes シークレットの使用</a></li>
<li><a href="#using-cert-manager">8.2. cert-manager の使用</a></li>
</ul>
</li>
<li><a href="#working-with-openshift-serving-certificates">9. OpenShift 提供証明書の使用</a>
<ul class="sectlevel2">
<li><a href="#acquiring-a-certificate">9.1. 証明書の取得</a></li>
<li><a href="#trusting-the-certificate-authority-ca">9.2. 認証局 (CA) を信頼する</a></li>
<li><a href="#certificate-renewal">9.3. 証明書の更新</a></li>
</ul>
</li>
<li><a href="#quarkus-cli-commands-and-development-certificate-authority">10. Quarkus CLI コマンドと開発用認証局</a>
<ul class="sectlevel2">
<li><a href="#understanding-self-signed-versus-ca-signed-certificates">10.1. 自己署名証明書と CA 署名証明書の違いについて</a></li>
<li><a href="#generate-a-development-ca">10.2. 開発 CA の生成</a></li>
<li><a href="#generating-a-trusted-signed-certificate">10.3. 信頼済み (署名済み) 証明書の生成</a></li>
<li><a href="#generating-a-self-signed-certificate">10.4. 自己署名証明書の生成</a></li>
<li><a href="#uninstalling-the-quarkus-development-ca">10.5. Quarkus Development CA のアンインストール</a></li>
</ul>
</li>
<li><a href="#lets-encrypt">11. Let&#8217;s Encrypt による証明書の自動管理</a>
<ul class="sectlevel2">
<li><a href="#lets-encrypt-prerequisites">11.1. 前提条件</a></li>
<li><a href="#lets-encrypt-prepare">11.2. アプリケーションの準備</a></li>
<li><a href="#starting-your-application">11.3. アプリケーションの起動</a></li>
<li><a href="#lets-encrypt-issue-certificate">11.4. 証明書の発行</a></li>
<li><a href="#renewing-a-certificate">11.5. 証明書の更新</a></li>
<li><a href="#lets-encrypt-ngrok">11.6. ngrok によるテスト</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>関連コンテンツ</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>同じトピックについて</h3>
      <ul class="related-content">
      
        
        <li class="reference"><a href="/version/3.15/guides/security-authorize-web-endpoints-reference">ウェブエンドポイントの認可</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-basic-authentication">Basic認証</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/security-csrf-prevention">クロスサイトリクエストフォージェリー対策</a></li>
      
        
        <li class="howto"><a href="/version/3.15/guides/security-basic-authentication-howto">ベーシック認証の有効化</a></li>
      
        
        <li class="tutorial"><a href="/version/3.15/guides/security-getting-started-tutorial">Basic認証とJakarta Persistenceを使ったセキュリティ入門</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-authentication-mechanisms">Quarkusの認証メカニズム</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/security-jwt-build">JSONウェブトークン (JWT) のビルド、署名、暗号化</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-openid-connect-providers">よく知られたOpenID Connect プロバイダーの設定</a></li>
      
        
        <li class="howto"><a href="/version/3.15/guides/security-openid-connect-dev-services">OpenID Connect (OIDC)のDev ServicesとDev UI</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/http-reference">HTTPリファレンス</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-identity-providers">アイデンティティ・プロバイダー</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/security-openid-connect-client-reference">OpenID Connect (OIDC) と OAuth2 クライアントおよびフィルター</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-oidc-bearer-token-authentication">OpenID Connect (OIDC) ベアラートークン認証</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/security-oidc-configuration-properties-reference">OpenID Connect (OIDC) 設定プロパティ</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-oidc-code-flow-authentication">Web アプリケーションを保護するための OpenID Connect 認可コードフローメカニズム</a></li>
      
        
        <li class="tutorial"><a href="/version/3.15/guides/security-openid-connect-client">OpenID Connectクライアントとトークン伝搬クイックスタート</a></li>
      
        
        <li class="concepts"><a href="/version/3.15/guides/security-proactive-authentication">プロアクティブ認証</a></li>
      
        
        <li class="tutorial"><a href="/version/3.15/guides/security-oidc-bearer-token-authentication-tutorial">OpenID Connect（OIDC）ベアラートークン認証によるサービスアプリケーションの保護</a></li>
      
        
        <li class="tutorial"><a href="/version/3.15/guides/security-oidc-code-flow-authentication-tutorial">Quarkus - 認可コードフローのOpenID Connectを使用してWebアプリケーションを保護</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/web">Web 向け Quarkus</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>ナビゲーション</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">ホーム</a></li>
          
          
          
            <li><a href="/about" target="_blank">Quarkusについて</a></li>
          
          
          
            <li><a href="/blog" target="_blank">ブログ</a></li>
          
          
          
            <li><a href="/insights" target="_blank">ポッドキャスト</a></li>
          
          
          
            <li><a href="/events" target="_blank">イベント</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">ニュースレター</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">ユーザーストーリー</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">ロードマップ</a></li>
          
          
          
            <li><a href="/security" target="_blank">セキュリティ&nbsp;ポリシー</a></li>
          
          
          
            <li><a href="/usage" target="_blank">使用方法</a></li>
          
          
          
            <li><a href="https://github.com/commonhaus/artwork/tree/main/projects/quarkus" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>フォローする</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>ヘルプ</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">サポート</a></li>
          
          
          
            <li><a href="/guides" target="_blank">ガイド</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">入門</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">ディスカッション</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">開発メーリングリスト</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>言語</span>
        <ul class="footer-links">
          
          
            <li><a href=" https://quarkus.io/ " target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href=" https://es.quarkus.io/ " target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href=" https://ja.quarkus.io/ " target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkusはコミュニティプロジェクトで構成されています</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate ORM</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">その他多数...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
