<!DOCTYPE html>
<html lang="ja">







<head>
  <title>Hibernate ORMとElasticsearch/OpenSearchでHibernate Searchを使用 - 3.15 - Quarkus</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Security-Policy" content="
  connect-src 'self' https://dpm.demdex.net https://adobedc.demdex.net https://analytics.ossupstream.org/ https://search.quarkus.io https://smetrics.redhat.com; 
  script-src 'self' 'unsafe-inline' 'unsafe-eval'
      
      https://assets.adobedtm.com
      js.bizographics.com
      https://www.redhat.com
      https://static.redhat.com
      https://app.requestly.io/
      jsonip.com
      https://ajax.googleapis.com
      https://use.fontawesome.com
      http://www.youtube.com
      http://www.googleadservices.com
      https://googleads.g.doubleclick.net
      https://giscus.app
      https://analytics.ossupstream.org/
      https://app.mailjet.com;

  style-src 'self' https://fonts.googleapis.com https://use.fontawesome.com; 
  img-src 'self' * data:; 
  media-src 'self'; 
  frame-src https://redhat.demdex.net https://www.youtube.com https://player.restream.io https://app.mailjet.com http://xy0p2.mjt.lu https://mj.quarkus.io https://giscus.app; 
  base-uri 'none'; 
  object-src 'none'; 
  form-action 'none'; 
  font-src 'self' https://use.fontawesome.com https://fonts.gstatic.com;" />
  <script id="adobe_dtm" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
  <script src="/assets/javascript/highlight.pack.js" type="text/javascript"></script>
  <META HTTP-EQUIV='X-XSS-Protection' CONTENT="1; mode=block">
  <META HTTP-EQUIV='X-Content-Type-Options' CONTENT="nosniff">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Quarkus: Supersonic Subatomic Java">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@QuarkusIO"> 
  <meta name="twitter:creator" content="@QuarkusIO">
  <meta property="og:url" content="https://quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" />
  <meta property="og:title" content="Hibernate ORMとElasticsearch/OpenSearchでHibernate Searchを使用 - 3.15" />
  <meta property="og:description" content="Quarkus: Supersonic Subatomic Java" />
  <meta property="og:image" content="https://quarkus.io/assets/images/quarkus_card.png" />
  
  <link rel="canonical" href="https://quarkus.io/guides/hibernate-search-orm-elasticsearch">
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" >
  <link rel="stylesheet" href="/guides/stylesheet/config.css" />
  <link rel="stylesheet" href="/assets/css/main.css?2021-07-29" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css" crossorigin="anonymous">
  <link rel="alternate" type="application/rss+xml"  href="/feed.xml" title="Quarkus">
  <script src="/assets/javascript/hl.js" type="text/javascript"></script>
  
  
  
  
  <link rel="alternate" hreflang="x-default" href="https://quarkus.io/" />  
  <script src="/assets/javascript/tracking.js"></script>
  
  <script src="/assets/javascript/colormode.js" type="text/javascript"></script>

</head>

<body class="guides">

  


<div class="grid-wrapper communitysite">
  <div class="grid__item width-12-12">The <a href="https://quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">English version of quarkus.io</a> is the official project site. Translated sites are community supported on a best-effort basis.</div>
</div>


  <div class="nav-wrapper">
  <div class="grid-wrapper">
    <div class="width-12-12">
      <input type="checkbox" id="checkbox" />
      <nav id="main-nav" class="main-nav">
        <div class="logo-wrapper">
           <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_600px_reverse.png" class="project-logo" title="Quarkus"></a>
        </div>
    <label class="nav-toggle" for="checkbox"> <i class="fa fa-bars"></i>
</label>
    <ul id="menu" class="menu">
      <li class="dropdown">
        <span href="#">Why<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/about" class="">QUARKUSとは何か?</a></li>
          <li><a href="/developer-joy" class="">開発者満足</a></li>
          <li><a href="/performance" class="">パフォーマンス</a></li>
          <li><a href="/kubernetes-native" class="">KUBERNETES NATIVE</a></li>
          <li><a href="/standards" class="">標準</a></li>
          <li><a href="/versatility" class="">多用途性</a></li>
          <li><a href="/container-first" class="">コンテナ・ファースト</a></li>
          <li><a href="/spring" class="">USING SPRING?</a></li>
          <li class="tertiarydropdown">
            <span href="#">AI<i class="fas fa-chevron-down"></i></span>
            <ul class="tertiarymenu">
              <li><a href="/ai" class="">AI OVERVIEW</a></li>
              <li><a href="/java-for-ai" class="">JAVA FOR AI</a></li>
              <li><a href="/quarkus-for-ai" class="">WHY QUARKUS FOR AI</a></li>
              <li><a href="/ai-blueprints" class="">AI BLUEPRINTS</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Learn<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/get-started" class="">入門</a></li>
          <li><a href="/guides" class="active">ドキュメント</a></li>
          <li><a href="/userstories/" class="">ユーザーストーリー</a></li>  
          <li><a href="/qtips" class="">"Q" Tipsビデオ</a></li>          
          <li><a href="/books" class="">書籍</a></li>
          </ul>
      </li>
      <li class="dropdown">
        <span href="#">Extensions<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          
          <!-- Note that quarkus.io is hardcoded here, because it is the only url which supports extensions -->
<li><a href="https://quarkus.io/extensions/" class="">エクステンションを探す</a></li>
          <li><a href="/faq/#what-is-a-quarkus-extension" class="">エクステンションの使用</a></li>
          <li><a href="/guides/writing-extensions" class="">エクステンションの作成</a></li>
          <li><a href="https://hub.quarkiverse.io" class="">エクステンションの共有</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <span href="#">Community<i class="fas fa-chevron-down firsti"></i></span>
        <ul class="submenu">
          <li><a href="/support/" class="">サポート</a></li>
          <li><a href="/blog" class="">ブログ</a></li>
          <li><a href="/discussion" class="">ディスカッション</a></li>
          <li><a href="/working-groups" class="">ワーキンググループ</a></li>
          <li><a href="/insights" class="">ポッドキャスト</a></li>
          <li><a href="/events" class="">イベント</a></li>
          <li><a href="/newsletter" class="">ニュースレター</a></li>
          <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" class="">ロードマップ</a></li>
          <li><a href="/benefactors" class="">BENEFACTORS</a></li>
          </ul>
      </li>
      <li>
        <a href="https://code.quarkus.io" class="button-cta secondary
white">コーディングを開始</a>
      </li>
      <li class="dropdown">
        <span href="/language/"><div class="fas fa-globe langicon"></div><i class="fas fa-chevron-down"></i></span>
        <ul class="submenu">
          <li><a href="https://quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch" >OFFICIAL (ENGLISH)</a></li>
          <li><a href="https://pt.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">ポルトガル（BR）</a></li>
          <li><a href="https://es.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">ESPAÑOL</a></li>
          <li><a href="https://cn.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">简体中文</a></li>
          <li><a href="https://ja.quarkus.io/version/3.15/guides/hibernate-search-orm-elasticsearch">日本語</a></li>
          </ul>
      </li>
      <li>
        <span href="#" class="modeswitcher" id='theme-toggle'><i class="fas
fa-sun"></i><i class="fas fa-moon"></i><i class="fas fa-cog"></i></span>
      </li>
    </ul>
      </nav>
    </div>
  </div>
</div>

  <div class="content">
    







<section class="full-width-version-bg flexfilterbar guides">
  <div class="guideflexcontainer">
    <div class="docslink">
      <a class="returnlink" href="/version/3.15/guides/"> Back to Guides</a>
    </div>
    <div class="flexlabel">
      <label>バージョン:</label>
    </div>
    <div class="guidepulldown version">
    <select id="guide-version-dropdown">
      
        
        
        <option value="main" >Main - SNAPSHOT</option>
        
        
        
        <option value="latest" >3.28.4 - Latest</option>
        
        
        
        <option value="3.27" >3.27</option>
        
        
        
        <option value="3.20" >3.20</option>
        
        
        
        <option value="3.15" selected>3.15</option>
        
        
        
        <option value="3.8" >3.8</option>
        </select>
    </div>
  </div>
</section>

<div class="guide">
  <div class="grid-wrapper">
    <div class="grid__item width-8-12 width-12-12-m">
      
      <h1 class="text-caps">Hibernate ORMとElasticsearch/OpenSearchでHibernate Searchを使用 </h1>
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hibernate ORMベースのアプリケーションをお持ちですか?フル機能のフルテキスト検索をユーザーに提供したいですか?あなたは正しい場所にいます。</p>
</div>
<div class="paragraph">
<p>このガイドでは、Hibernate Search を使用して、エンティティを Elasticsearch または OpenSearch クラスタに瞬時に同期させる方法を学びます。また、Hibernate Search API を使用して Elasticsearch または OpenSearch クラスタにクエリを実行する方法についても説明します。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate ORM エンティティーではないエンティティーをインデックス化する必要がある場合は、<a href="hibernate-search-standalone-elasticsearch">こちらの専用ガイド</a> を参照してください。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>前提条件</h2>
<div class="sectionbody">
<div class="paragraph">
<p>このガイドを完成させるには、以下が必要です:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ざっと 20 minutes</p>
</li>
<li>
<p>IDE</p>
</li>
<li>
<p>JDK 17+がインストールされ、 <code>JAVA_HOME</code> が適切に設定されていること</p>
</li>
<li>
<p>Apache Maven 3.9.8</p>
</li>
<li>
<p>動作するコンテナランタイム(Docker, <a href="podman">Podman</a>)</p>
</li>
<li>
<p>使用したい場合は、 <a href="cli-tooling.html">Quarkus CLI</a></p>
</li>
<li>
<p>ネイティブ実行可能ファイルをビルドしたい場合、MandrelまたはGraalVM（あるいはネイティブなコンテナビルドを使用する場合はDocker）をインストールし、 <a href="building-native-image.html#configuring-graalvm">適切に設定</a>していること</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>アーキテクチャ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>このガイドに記載されているアプリケーションは、(シンプルな) 図書館を管理することができます:あなたは、著者とその本を管理します。</p>
</div>
<div class="paragraph">
<p>エンティティはPostgreSQLデータベースに格納され、Elasticsearchクラスターにインデックスされます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="solution"><a class="anchor" href="#solution"></a>ソリューション</h2>
<div class="sectionbody">
<div class="paragraph">
<p>次の章で紹介する手順に沿って、ステップを踏んでアプリを作成することをお勧めします。ただし、完成した例にそのまま進んでも構いません。</p>
</div>
<div class="paragraph">
<p>Gitレポジトリをクローンするか <code>git clone -b 3.15 <a href="https://github.com/quarkusio/quarkus-quickstarts.git" class="bare">https://github.com/quarkusio/quarkus-quickstarts.git</a></code> 、 <a href="https://github.com/quarkusio/quarkus-quickstarts/archive/3.15.zip">アーカイブ</a> をダウンロードします。</p>
</div>
<div class="paragraph">
<p>解決策は、 <code>hibernate-search-orm-elasticsearch-quickstart</code> <a href="https://github.com/quarkusio/quarkus-quickstarts/tree/3.15/hibernate-search-orm-elasticsearch-quickstart">ディレクトリー</a> に配置されています。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>提供されるソリューションには、テストやテストのインフラストラクチャなど、いくつかの追加要素が含まれています。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-maven-project"><a class="anchor" href="#creating-the-maven-project"></a>Mavenプロジェクトの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>まず、新しいプロジェクトが必要です。以下のコマンドで新規プロジェクトを作成します。</p>
</div>
<div class="sidebarblock primary asciidoc-tabs-sync-cli">
<div class="content">
<div class="title">コマンドラインインタフェース</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus create app org.acme:hibernate-search-orm-elasticsearch-quickstart \
    --extension='hibernate-orm-panache,jdbc-postgresql,hibernate-search-orm-elasticsearch,rest-jackson' \
    --no-code
cd hibernate-search-orm-elasticsearch-quickstart</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gradleプロジェクトを作成するには、 <code>--gradle</code> または <code>--gradle-kotlin-dsl</code> オプションを追加します。</p>
</div>
<div class="paragraph">
<p>Quarkus CLIのインストールと使用方法の詳細については、 <a href="cli-tooling">Quarkus CLI</a> ガイドを参照してください。</p>
</div>
</div>
</div>
<div class="sidebarblock secondary asciidoc-tabs-sync-maven">
<div class="content">
<div class="title">Maven</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn io.quarkus.platform:quarkus-maven-plugin:3.15.7:create \
    -DprojectGroupId=org.acme \
    -DprojectArtifactId=hibernate-search-orm-elasticsearch-quickstart \
    -Dextensions='hibernate-orm-panache,jdbc-postgresql,hibernate-search-orm-elasticsearch,rest-jackson' \
    -DnoCode
cd hibernate-search-orm-elasticsearch-quickstart</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gradleプロジェクトを作成するには、 <code>-DbuildTool=gradle</code> または <code>-DbuildTool=gradle-kotlin-dsl</code> オプションを追加します。</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Windowsユーザーの場合:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cmdを使用する場合、（バックスラッシュ <code>\</code> を使用せず、すべてを同じ行に書かないでください）。</p>
</li>
<li>
<p>Powershellを使用する場合は、 <code>-D</code> パラメータを二重引用符で囲んでください。例: <code>"-DprojectArtifactId=hibernate-search-orm-elasticsearch-quickstart"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>このコマンドは、以下のエクステンションをインポートするMaven構造体を生成します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Hibernate ORM with Panache,</p>
</li>
<li>
<p>PostgreSQL JDBCドライバー</p>
</li>
<li>
<p>Hibernate Search + Elasticsearch,</p>
</li>
<li>
<p>Quarkus REST (旧称 RESTEasy Reactive) と Jackson</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>すでにQuarkusプロジェクトが設定されている場合は、プロジェクトのベースディレクトリーで以下のコマンドを実行することで、プロジェクトに <code>hibernate-search-orm-elasticsearch</code> エクステンションを追加することができます。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">コマンドラインインタフェース</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add hibernate-search-orm-elasticsearch</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='hibernate-search-orm-elasticsearch'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='hibernate-search-orm-elasticsearch'</code></pre>
</div>
</div>
<div class="paragraph">
<p>これにより、 <code>pom.xml</code> に以下が追加されます:</p>
</div>
<div class="listingblock primary asciidoc-tabs-target-sync-cli asciidoc-tabs-target-sync-maven">
<div class="title">pom.xml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-hibernate-search-orm-elasticsearch&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-target-sync-gradle">
<div class="title">build.gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-gradle hljs" data-lang="gradle">implementation("io.quarkus:quarkus-hibernate-search-orm-elasticsearch")</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-bare-entities"><a class="anchor" href="#creating-the-bare-entities"></a>ベアエンティティーの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>まず、 <code>model</code> サブパッケージに Hibernate ORM エンティティー <code>Book</code> と <code>Author</code> を作成しましょう。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.List;
import java.util.Objects;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.OneToMany;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
public class Author extends PanacheEntity { <i class="conum" data-value="1"></i><b>(1)</b>

    public String firstName;

    public String lastName;

    @OneToMany(mappedBy = "author", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER) <i class="conum" data-value="2"></i><b>(2)</b>
    public List&lt;Book&gt; books;

    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof Author)) {
            return false;
        }

        Author other = (Author) o;

        return Objects.equals(id, other.id);
    }

    @Override
    public int hashCode() {
        return 31;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>PanacheでHibernate ORMを使用していますが、必須ではありません。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>私たちは、これらの要素がJSON出力に存在するように前もってロードしています。実際のアプリケーションでは、おそらくDTOアプローチを使うべきでしょう。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.Objects;

import jakarta.persistence.Entity;
import jakarta.persistence.ManyToOne;

import com.fasterxml.jackson.annotation.JsonIgnore;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
public class Book extends PanacheEntity {

    public String title;

    @ManyToOne
    @JsonIgnore <i class="conum" data-value="1"></i><b>(1)</b>
    public Author author;

    @Override
    public boolean equals(Object o) {
        if (this == o) {
            return true;
        }
        if (!(o instanceof Book)) {
            return false;
        }

        Book other = (Book) o;

        return Objects.equals(id, other.id);
    }

    @Override
    public int hashCode() {
        return 31;
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>このプロパティを <code>@JsonIgnore</code> でマークしてJacksonでシリアル化する際の無限ループを避けます。</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initializing-the-rest-service"><a class="anchor" href="#initializing-the-rest-service"></a>RESTサービスの初期化</h2>
<div class="sectionbody">
<div class="paragraph">
<p>まだRESTサービスの設定はすべて終わっていませんが、必要となる標準的なCRUD操作で初期化することができます。</p>
</div>
<div class="paragraph">
<p><code>org.acme.hibernate.search.elasticsearch.LibraryResource</code> クラスを作成します:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch;

import java.util.List;
import java.util.Optional;

import jakarta.enterprise.event.Observes;
import jakarta.inject.Inject;
import jakarta.transaction.Transactional;
import jakarta.ws.rs.DELETE;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.POST;
import jakarta.ws.rs.PUT;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.core.MediaType;

import org.acme.hibernate.search.elasticsearch.model.Author;
import org.acme.hibernate.search.elasticsearch.model.Book;
import org.hibernate.search.mapper.orm.session.SearchSession;
import org.jboss.resteasy.reactive.RestForm;
import org.jboss.resteasy.reactive.RestQuery;

import io.quarkus.runtime.StartupEvent;

@Path("/library")
public class LibraryResource {

    @PUT
    @Path("book")
    @Transactional
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public void addBook(@RestForm String title, @RestForm Long authorId) {
        Author author = Author.findById(authorId);
        if (author == null) {
            return;
        }

        Book book = new Book();
        book.title = title;
        book.author = author;
        book.persist();

        author.books.add(book);
        author.persist();
    }

    @DELETE
    @Path("book/{id}")
    @Transactional
    public void deleteBook(Long id) {
        Book book = Book.findById(id);
        if (book != null) {
            book.author.books.remove(book);
            book.delete();
        }
    }

    @PUT
    @Path("author")
    @Transactional
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public void addAuthor(@RestForm String firstName, @RestForm String lastName) {
        Author author = new Author();
        author.firstName = firstName;
        author.lastName = lastName;
        author.persist();
    }

    @POST
    @Path("author/{id}")
    @Transactional
    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)
    public void updateAuthor(Long id, @RestForm String firstName, @RestForm String lastName) {
        Author author = Author.findById(id);
        if (author == null) {
            return;
        }
        author.firstName = firstName;
        author.lastName = lastName;
        author.persist();
    }

    @DELETE
    @Path("author/{id}")
    @Transactional
    public void deleteAuthor(Long id) {
        Author author = Author.findById(id);
        if (author != null) {
            author.delete();
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>特別なことは何もありません。RESTサービスでのPanacheの処理と古き良きHibernateです。</p>
</div>
<div class="paragraph">
<p>実は、全文検索アプリケーションを動作させるために必要な要素はごくわずかです。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-hibernate-search-annotations"><a class="anchor" href="#using-hibernate-search-annotations"></a>Hibernate Searchアノテーションの使用</h2>
<div class="sectionbody">
<div class="paragraph">
<p>エンティティに戻りましょう</p>
</div>
<div class="paragraph">
<p>フルテキスト検索機能を有効にするには、いくつかのアノテーションを追加するだけで簡単です。</p>
</div>
<div class="paragraph">
<p><code>Book</code> エンティティを再度編集して、この内容を入れてみましょう:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.Objects;

import jakarta.persistence.Entity;
import jakarta.persistence.ManyToOne;

import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;

import com.fasterxml.jackson.annotation.JsonIgnore;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
@Indexed <i class="conum" data-value="1"></i><b>(1)</b>
public class Book extends PanacheEntity {

    @FullTextField(analyzer = "english") <i class="conum" data-value="2"></i><b>(2)</b>
    public String title;

    @ManyToOne
    @JsonIgnore
    public Author author;

    // Preexisting equals()/hashCode() methods
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>まず、 <code>@Indexed</code> アノテーションを使って、 <code>Book</code> エンティティを全文検索インデックスの一部として登録してみましょう。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>@FullTextField</code> アノテーションは、全文検索用に特別に調整されたインデックスのフィールドを宣言します。特に、トークン（～単語）を分割して分析するためのアナライザーを定義する必要があります。 - これについては後で説明します。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Book</code> がインデックス化されたことで、 <code>Author</code> にも同じことができるようになりました。</p>
</div>
<div class="paragraph">
<p><code>Author</code> クラスを開き、以下の内容を記載します。</p>
</div>
<div class="paragraph">
<p><code>@Indexed</code> 、 <code>@FullTextField</code> 、 <code>@KeywordField</code> のアノテーションを使用していますが、こちらもよく似ている機能です。</p>
</div>
<div class="paragraph">
<p>しかし、いくつかの違いや付加価値があります。それを見てみましょう。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.model;

import java.util.List;
import java.util.Objects;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.OneToMany;

import org.hibernate.search.engine.backend.types.Sortable;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.IndexedEmbedded;
import org.hibernate.search.mapper.pojo.mapping.definition.annotation.KeywordField;

import io.quarkus.hibernate.orm.panache.PanacheEntity;

@Entity
@Indexed
public class Author extends PanacheEntity {

    @FullTextField(analyzer = "name") <i class="conum" data-value="1"></i><b>(1)</b>
    @KeywordField(name = "firstName_sort", sortable = Sortable.YES, normalizer = "sort") <i class="conum" data-value="2"></i><b>(2)</b>
    public String firstName;

    @FullTextField(analyzer = "name")
    @KeywordField(name = "lastName_sort", sortable = Sortable.YES, normalizer = "sort")
    public String lastName;

    @OneToMany(mappedBy = "author", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)
    @IndexedEmbedded <i class="conum" data-value="3"></i><b>(3)</b>
    public List&lt;Book&gt; books;

    // Preexisting equals()/hashCode() methods
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>@FullTextField</code> は <code>Book</code> と同様のものを使用しますが、アナライザーが異なることに気がつくでしょう - これについては後で説明します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>このように、同じプロパティに複数のフィールドを定義することができます。ここでは、固有の名前を持つ <code>@KeywordField</code> を定義しています。主な違いは、キーワードフィールドはトークン化されません（文字列は1つのトークンとして保持される）が、正規化（すなわちフィルタリング）することができるということです。これについては後で説明します。このフィールドは <code>Author</code> のソートに使用することを意図しているため、ソート可能であるとマークされています。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>@IndexedEmbedded</code> の目的は、 <code>Book</code> のフィールドを <code>Author</code> のインデックスに含めることです。この場合はデフォルトの設定を使用します。つまり、関連する <code>Book</code> エンティティーのすべてのフィールドがインデックスに含まれます (つまり <code>title</code> フィールドも含まれます)。 <code>@IndexedEmbedded</code> の優れた点は双方向の関係により <code>Book</code> のいずれかが更新された場合も <code>Author</code> のインデックスを自動的に再作成できることです。 <code>@IndexedEmbedded</code> は、ネストされたドキュメントもサポートしていますが (<code>structure = NESTED</code> 属性を使用) ここでは必要ありません。また、すべてのフィールドを親インデックスに組み込む必要がない場合は、 <code>includePaths</code>/<code>excludePaths</code> 属性を使用して含めるフィールドを指定できます。</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="analyzers-and-normalizers"><a class="anchor" href="#analyzers-and-normalizers"></a>アナライザーとノーマライザー</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introduction"><a class="anchor" href="#introduction"></a>はじめに</h3>
<div class="paragraph">
<p>アナライズは全文検索の大きな部分を占めています。インデックス作成や検索クエリ構築の際に、テキストがどのように処理されるかを定義します。</p>
</div>
<div class="paragraph">
<p>アナライザーの役割は、テキストをトークン（～単語）に分割し、フィルターをかけることです（例えば、すべて小文字にしたり、アクセントを削除したり）。</p>
</div>
<div class="paragraph">
<p>ノーマライザーは入力を1つのトークンとして保持する特殊なアナライザです。特に、キーワードのソートやインデックス作成に有効です。</p>
</div>
<div class="paragraph">
<p>多くのバンドルされたアナライザーがありますが、自分の目的に合わせて独自に開発することもできます。</p>
</div>
<div class="paragraph">
<p>Elasticsearchアナリシスフレームワークについては、 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html">ElasticsearchドキュメントのText analysis セクション</a> で詳しく説明しています。</p>
</div>
</div>
<div class="sect2">
<h3 id="defining-the-analyzers-used"><a class="anchor" href="#defining-the-analyzers-used"></a>使用するアナライザーの定義</h3>
<div class="paragraph">
<p>エンティティにHibernate Searchアノテーションを追加する際に、使用するアナライザーとノーマライザーを定義しました。典型的には:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FullTextField(analyzer = "english")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@FullTextField(analyzer = "name")</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@KeywordField(name = "lastName_sort", sortable = Sortable.YES, normalizer = "sort")</code></pre>
</div>
</div>
<div class="paragraph">
<p>以下のものを使用しています:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>人名用の <code>name</code> というアナライザー,</p>
</li>
<li>
<p>書籍のタイトル用の <code>english</code> というアナライザー,</p>
</li>
<li>
<p>ソートフィールド用の <code>sort</code> というノーマライザー</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ですが、まだ設定していません。</p>
</div>
<div class="paragraph">
<p>それでは、Hibernate Searchを使ってどのように設定できるのか見てみましょう。</p>
</div>
</div>
<div class="sect2">
<h3 id="analysis-configurer"><a class="anchor" href="#analysis-configurer"></a>アナライザーのセットアップ</h3>
<div class="paragraph">
<p>これは簡単な作業で、 <code>ElasticsearchAnalysisConfigurer</code> の実装を作成するだけです（そして、それを使用するようにQuarkusを設定します、詳細は後述します）。</p>
</div>
<div class="paragraph">
<p>要件を満たすために、次のような実装を作ってみましょう:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.config;

import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext;
import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer;

import io.quarkus.hibernate.search.orm.elasticsearch.SearchExtension;

@SearchExtension <i class="conum" data-value="1"></i><b>(1)</b>
public class AnalysisConfigurer implements ElasticsearchAnalysisConfigurer {

    @Override
    public void configure(ElasticsearchAnalysisConfigurationContext context) {
        context.analyzer("name").custom() <i class="conum" data-value="2"></i><b>(2)</b>
                .tokenizer("standard")
                .tokenFilters("asciifolding", "lowercase");

        context.analyzer("english").custom() <i class="conum" data-value="3"></i><b>(3)</b>
                .tokenizer("standard")
                .tokenFilters("asciifolding", "lowercase", "porter_stem");

        context.normalizer("sort").custom() <i class="conum" data-value="4"></i><b>(4)</b>
                .tokenFilters("asciifolding", "lowercase");
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configurerの実装に <code>@SearchExtension</code> アノテーションを付けて、QuarkusにすべてのElasticsearchインデックスに(デフォルトで)デフォルトの永続化ユニットを使用するように指示します。
<div class="paragraph">
<p>アノテーションは、特定の永続ユニット (<code>@SearchExtension(persistenceUnit = "nameOfYourPU")</code>)、 バックエンド (<code>@SearchExtension(backend = "nameOfYourBackend")</code>)、 インデックス (<code>@SearchExtension(index = "nameOfYourIndex")</code>)もターゲットにすることができます。</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>これは、スペースで単語を分離し、ASCII以外の文字をASCIIの対応する文字で置換し（したがって、アクセントを除去し）、すべてを小文字にするシンプルなアナライザーです。これは、例では著者名に使用されています。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>これはもう少し積極的で、ステミングも含まれています。インデックス化された入力に <code>mysteries</code> が含まれていても、 <code>mystery</code> を検索して結果を得ることができます。人名に対しては確かに強引すぎますが、書籍のタイトルに対しては完璧です。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>ここではソートに使われるノーマライザーを紹介します。最初のアナライザーと非常によく似ていますが、1つだけのトークンが欲しいので、単語をトークン化しないことを除けば同じです。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>また、何らかの理由で <code>@SearchExtension</code> アノテーションを付けられない、あるいは付けたくない場合には、単純に <code>@Dependent @Named("myAnalysisConfigurer")</code> のアノテーションを付けて設定のプロパティから参照することも可能です:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.elasticsearch.analysis.configurer=bean:myAnalysisConfigurer</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>アナライザーの設定の詳細は、
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-analysis">参照ドキュメントのこちらのセクション</a> を参照してください。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-full-text-capabilities-to-our-rest-service"><a class="anchor" href="#adding-full-text-capabilities-to-our-rest-service"></a>RESTサービスに全文検索機能を追加</h2>
<div class="sectionbody">
<div class="paragraph">
<p>既存の <code>LibraryResource</code> に、 <code>SearchSession</code> をインジェクションするだけです:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @Inject
    SearchSession searchSession; <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Hibernate Search セッションをインジェクションします。このセッションは内部で <code>EntityManager</code> に依存しています。複数の永続化ユニットを持つアプリケーションではCDI修飾子 <code>@io.quarkus.hibernate.orm.PersistenceUnit</code> を使用して正しいユニットを選択することができます: <a href="#multiple-persistence-units-attaching-cdi">CDI統合</a> を参照してください。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>そして魔法が始まります。
エンティティーにアノテーションを追加すると、全文検索が利用できるようになります。
以下のメソッド (およびいくつかの <code>import</code>) を追加するだけで、Hibernate Search DSL を使用してインデックスをクエリーできるようになります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @GET
    @Path("author/search")
    @Transactional <i class="conum" data-value="1"></i><b>(1)</b>
    public List&lt;Author&gt; searchAuthors(@RestQuery String pattern, <i class="conum" data-value="2"></i><b>(2)</b>
            @RestQuery Optional&lt;Integer&gt; size) {
        return searchSession.search(Author.class) <i class="conum" data-value="3"></i><b>(3)</b>
                .where(f -&gt;
                    pattern == null || pattern.trim().isEmpty() ?
                        f.matchAll() : <i class="conum" data-value="4"></i><b>(4)</b>
                        f.simpleQueryString()
                                .fields("firstName", "lastName", "books.title").matching(pattern) <i class="conum" data-value="5"></i><b>(5)</b>
                )
                .sort(f -&gt; f.field("lastName_sort").then().field("firstName_sort")) <i class="conum" data-value="6"></i><b>(6)</b>
                .fetchHits(size.orElse(20)); <i class="conum" data-value="7"></i><b>(7)</b>
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>重要なポイント: これらのメソッドには、トランザクションコンテキストが必要です。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>パラメーター名の繰り返しを避けるために <code>org.jboss.resteasy.annotations.jaxrs.QueryParam</code> アノテーションを使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>Author</code> を検索していることを示しています。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>述語を作成します。パターンが空の場合は <code>matchAll()</code> 述語を使用します。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>有効なパターンがあれば、パターンにマッチする <code>firstName</code> 、 <code>lastName</code> 、 <code>books.title</code> フィールドに対する <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html"><code>simpleQueryString()</code></a> 述語を作成します。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>結果のソート順を定義します。ここでは、姓でソートし、次に名でソートしています。ソートには作成した特定のフィールドを使用していることに注意してください。</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>size</code> で指定した数の一致度が高いものをフェッチします。デフォルトでは <code>20</code> です。もちろんページングもサポートしています。</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate Search DSLはElasticsearchの述語（match、range、nested、phrase、spatial&#8230;&#8203;）の重要なサブセットをサポートしています。オートコンプリートを使ってDSLをご自由にお試しください。</p>
</div>
<div class="paragraph">
<p>それでも十分でない場合は、いつでも
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#search-dsl-predicate-extensions-elasticsearch-from-json">JSONを直接使う述語の定義</a> にフォールバックできます。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="automatic-import-script"><a class="anchor" href="#automatic-import-script"></a>データの自動初期化</h2>
<div class="sectionbody">
<div class="paragraph">
<p>このデモの目的のために、初期データセットをインポートしてみましょう。</p>
</div>
<div class="paragraph">
<p>次の内容で <code>src/main/resources/import.sql</code> ファイルを作成しましょう (後で設定で参照します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">INSERT INTO author(id, firstname, lastname) VALUES (1, 'John', 'Irving');
INSERT INTO author(id, firstname, lastname) VALUES (2, 'Paul', 'Auster');
ALTER SEQUENCE author_seq RESTART WITH 3;

INSERT INTO book(id, title, author_id) VALUES (1, 'The World According to Garp', 1);
INSERT INTO book(id, title, author_id) VALUES (2, 'The Hotel New Hampshire', 1);
INSERT INTO book(id, title, author_id) VALUES (3, 'The Cider House Rules', 1);
INSERT INTO book(id, title, author_id) VALUES (4, 'A Prayer for Owen Meany', 1);
INSERT INTO book(id, title, author_id) VALUES (5, 'Last Night in Twisted River', 1);
INSERT INTO book(id, title, author_id) VALUES (6, 'In One Person', 1);
INSERT INTO book(id, title, author_id) VALUES (7, 'Avenue of Mysteries', 1);
INSERT INTO book(id, title, author_id) VALUES (8, 'The New York Trilogy', 2);
INSERT INTO book(id, title, author_id) VALUES (9, 'Mr. Vertigo', 2);
INSERT INTO book(id, title, author_id) VALUES (10, 'The Brooklyn Follies', 2);
INSERT INTO book(id, title, author_id) VALUES (11, 'Invisible', 2);
INSERT INTO book(id, title, author_id) VALUES (12, 'Sunset Park', 2);
INSERT INTO book(id, title, author_id) VALUES (13, '4 3 2 1', 2);
ALTER SEQUENCE book_seq RESTART WITH 14;</code></pre>
</div>
</div>
<div class="paragraph">
<p>上記のデータは Hibernate Search の知識なしでデータベースに注入されるため、Hibernate ORM 操作を通じて行われる今後の更新 (全文インデックスに自動的に同期される) とは異なり、インデックス化されません。</p>
</div>
<div class="paragraph">
<p>既存の <code>LibraryResource</code> に、初期データをインデックス化するための以下のコンテンツ (およびいくつかの <code>import</code>) を追加します。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>データベースにデータを手動でインポートしない場合、これは必要ありません。
大量インデクサーはインデックス設定を変更し (いくつかフィールドの追加、アナライザーの設定変更など)、新しい設定を既存データに適用する必要がある場合にのみ使用します。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    @Inject
    SearchMapping searchMapping; <i class="conum" data-value="1"></i><b>(1)</b>

    void onStart(@Observes StartupEvent ev) throws InterruptedException { <i class="conum" data-value="2"></i><b>(2)</b>
        // only reindex if we imported some content
        if (Book.count() &gt; 0) {
            searchMapping.scope(Object.class) <i class="conum" data-value="3"></i><b>(3)</b>
                    .massIndexer() <i class="conum" data-value="4"></i><b>(4)</b>
                    .startAndWait(); <i class="conum" data-value="5"></i><b>(5)</b>
        }
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Hibernate Search <code>SearchMapping</code> を注入します。
これは内部的には <code>EntityManagerFactory</code> に依存しています。
複数の永続ユニットを持つアプリケーションでは、CDI 修飾子 <code>@io.quarkus.hibernate.orm.PersistenceUnit</code> を使用して、適切に選択できます。詳細は <a href="#multiple-persistence-units-attaching-cdi">CDI統合</a> を参照してください。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>アプリケーションの起動時に実行されるメソッドを追加します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>Object</code> を拡張するすべてのインデックス付きエンティティータイプ、つまりすべてのインデックス付きエンティティータイプ (<code>Author</code> および <code>Book</code>) をターゲットとする "search scope" を作成します。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Hibernate Search の大量インデクサーのインスタンスを作成します。これにより、大量のデータを効率的にインデックス化できます (パフォーマンスを向上させるために微調整できます)。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>大量インデクサーを起動し、完了するまで待ちます。</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-application"><a class="anchor" href="#configuring-the-application"></a>アプリケーションの設定</h2>
<div class="sectionbody">
<div class="paragraph">
<p>いつものように、Quarkusの設定ファイル（ <code>application.properties</code> ）ですべての設定を行うことができます。</p>
</div>
<div class="paragraph">
<p>以下の内容の <code>src/main/resources/import.sql</code> ファイルを作成してみましょう:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.ssl.native=false <i class="conum" data-value="1"></i><b>(1)</b>

quarkus.datasource.db-kind=postgresql <i class="conum" data-value="2"></i><b>(2)</b>

quarkus.hibernate-orm.sql-load-script=import.sql <i class="conum" data-value="3"></i><b>(3)</b>

quarkus.hibernate-search-orm.elasticsearch.version=8 <i class="conum" data-value="4"></i><b>(4)</b>
quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy=sync <i class="conum" data-value="5"></i><b>(5)</b>

%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost/quarkus_test <i class="conum" data-value="6"></i><b>(6)</b>
%prod.quarkus.datasource.username=quarkus_test
%prod.quarkus.datasource.password=quarkus_test
%prod.quarkus.hibernate-orm.database.generation=create
%prod.quarkus.hibernate-search-orm.elasticsearch.hosts=localhost:9200 <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>SSLは使用しないので、ネイティブ実行可能ファイルをよりコンパクトにするために無効にしています。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>それでは、PostgreSQLのデータソースを作成してみましょう。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>起動時にいくつかの初期データをロードします (<a href="#automatic-import-script">データの自動初期化</a> 参照)。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>使用するElasticsearchのバージョンをHibernate Searchに伝える必要があります。Elasticsearchのバージョンによってマッピング構文に大きな違いがあるので重要です。マッピングは起動時間を短縮するためにビルド時に作成されるので、Hibernate Searchはクラスタに接続してバージョンを自動的に検出することができません。なお、OpenSearchの場合は、バージョンの前に <code>opensearch:</code> を付ける必要があります; <a href="#opensearch">OpenSearch対応</a>を参照してください。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>これは、エンティティが検索可能になるのを待ってから書き込みが完了したとみなすことを意味します。本番環境では、デフォルトの <code>write-sync</code> の方がパフォーマンスが高くなります。テスト時にはエンティティがすぐに検索可能になる必要があるため <code>sync</code> を使用することが特に重要です。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>開発およびテストでは、<a href="#dev-services">Dev Services</a> に依存します。これは、Quarkus が PostgreSQL データベースと Elasticsearch クラスタを自動的に開始することを意味します。しかし、本番モードでは、PostgreSQL データベースと Elasticsearch クラスターを手動で起動する必要があります。そのため、この接続情報を <code>prod</code> プロファイル (<code>%prod.</code> プレフィックス) で Quarkus に提供します。</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="#dev-services">Dev Services</a> に依存していることから、データベースと Elasticsearch スキーマは、
(<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a> 
が明示的に設定されていない限り) テストと開発モードで
アプリケーションの起動ごとに自動的に削除され、再作成されます。</p>
</div>
<div class="paragraph">
<p>何らかの理由でDev Servicesを利用できない場合は以下のプロパティを設定することで、同様の動作をさせることができます:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">%dev,test.quarkus.hibernate-orm.database.generation=drop-and-create
%dev,test.quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a> も参照してください。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Hibernate Search ORM エクステンションの設定に関する詳細は、<a href="#configuration-reference">Configuration Reference</a> を参照してください。
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-frontend"><a class="anchor" href="#creating-a-frontend"></a>フロントエンドの作成</h2>
<div class="sectionbody">
<div class="paragraph">
<p>それでは、 <code>LibraryResource</code> を操作するための簡単なWebページを追加してみましょう。Quarkusは、 <code>META-INF/resources</code> ディレクトリの下にある静的リソースを自動的に提供します。 <code>src/main/resources/META-INF/resources</code> ディレクトリで、既存の <code>index.html</code> ファイルを、この <a href="https://github.com/quarkusio/quarkus-quickstarts/blob/3.15/hibernate-search-orm-elasticsearch-quickstart/src/main/resources/META-INF/resources/index.html">index.html</a> ファイルの内容で上書きしてください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="time-to-play-with-your-application"><a class="anchor" href="#time-to-play-with-your-application"></a>アプリケーションで遊ぶ時間</h2>
<div class="sectionbody">
<div class="paragraph">
<p>これで、REST サービスと対話できるようになりました。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Quarkusアプリケーションを次のように起動します:</p>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">コマンドラインインタフェース</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:dev</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew --console=plain quarkusDev</code></pre>
</div>
</div>
</li>
<li>
<p>ブラウザで <code><a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></code> を開きます</p>
</li>
<li>
<p>著者や書名の検索してください（いくつかのデータを入れておきました）</p>
</li>
<li>
<p>新しい著者や書籍を作成し、それらを検索することもできます</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ご覧のように、すべての更新が自動的にElasticsearchクラスタに同期されます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-a-native-executable"><a class="anchor" href="#building-a-native-executable"></a>ネイティブ実行可能ファイルの構築</h2>
<div class="sectionbody">
<div class="paragraph">
<p>以下のコマンドでネイティブ実行可能ファイルをビルドすることができます。</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">コマンドラインインタフェース</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus build --native</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw install -Dnative</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew build -Dquarkus.native.enabled=true</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>ネイティブ実行可能ファイルのコンパイルと同様に、この操作は大量のメモリーを消費します。</p>
</div>
<div class="paragraph">
<p>ネイティブ実行可能ファイルをビルドしている間は2つのコンテナーを停止して、ビルドが終わったら再度起動した方が安全かもしれません。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ネイティブ実行可能ファイルを実行することは、 <code>./target/hibernate-search-orm-elasticsearch-quickstart-1.0.0-SNAPSHOT-runner</code> を実行することと同じくらい簡単です。</p>
</div>
<div class="paragraph">
<p>その後、ブラウザで <code><a href="http://localhost:8080/" class="bare">http://localhost:8080/</a></code> を開きアプリケーションを使用します。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>起動がいつもより少し遅いのは、起動時に毎回データベーススキーマとElasticsearchマッピングを落として再作成しているのが原因です。また、いくつかのデータを注入し、マスインデクサーを実行しています。</p>
</div>
<div class="paragraph">
<p>実際のアプリケーションでは、これは明らかに、起動時に毎回行うものではありません。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-services"><a class="anchor" href="#dev-services"></a>開発サービス (設定不要のデータストア)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Quarkus は、設定なしでさまざまなコンテナーを起動できる <a href="dev-services">開発サービス</a> と呼ばれる機能をサポートしています。</p>
</div>
<div class="paragraph">
<p>Elasticsearch の場合、このサポートはデフォルトの Elasticsearch 接続にも及んでいます。
つまり、 <code>quarkus.hibernate-search-orm.elasticsearch.hosts</code> を設定していない場合は、
Quarkus はテストの実行時または <a href="dev-mode-differences">dev モード</a> で Elasticsearch コンテナーを自動的に起動し、
接続を自動的に設定します。</p>
</div>
<div class="paragraph">
<p>アプリケーションの本番環境版を実行する場合、Elasticsearch接続は通常通り設定する必要があります。したがって、 <code>application.properties</code> に本番環境版のデータベース設定を含め、Dev Servicesを引き続き使用したい場合は、 <code>%prod.</code> プロファイルを使用してElasticsearch設定を定義することをお勧めします。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Dev Services for Elasticsearchは現時点では複数のクラスタを同時に起動することができず、デフォルトの永続化ユニットのデフォルトのバックエンドでのみ動作します:名前付き永続化ユニットや名前付きバックエンドはDev Services for Elasticsearchを利用することができません。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>詳細については、 <a href="elasticsearch-dev-services">Dev Services for Elasticsearch ガイド</a> をご覧ください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="programmatic-mapping"><a class="anchor" href="#programmatic-mapping"></a>プログラムによるマッピング</h2>
<div class="sectionbody">
<div class="paragraph">
<p>何らかの理由で Hibernate Search アノテーションをエンティティーに追加できない場合は、
代わりにプログラムでマッピングを適用することができます。
プログラムによるマッピングは、 <code>ProgrammaticMappingConfigurationContext</code> を通じて設定され、
マッピング Configurer (<code>HibernateOrmSearchMappingConfigurer</code>) を介して公開されます。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>マッピング Configurer (<code>HibernateOrmSearchMappingConfigurer</code>) を使用すると、単なるプログラムによるマッピング機能以上のものを実現できます。
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#mapper-orm-mapping-configurer">アノテーションマッピング、ブリッジなどの設定</a> も実現されます。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>以下は、プログラムによるマッピングを適用するマッピング Configurer の例です。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package org.acme.hibernate.search.elasticsearch.config;

import org.hibernate.search.mapper.orm.mapping.HibernateOrmMappingConfigurationContext;
import org.hibernate.search.mapper.orm.mapping.HibernateOrmSearchMappingConfigurer;
import org.hibernate.search.mapper.pojo.mapping.definition.programmatic.TypeMappingStep;

import io.quarkus.hibernate.search.orm.elasticsearch.SearchExtension;

@SearchExtension <i class="conum" data-value="1"></i><b>(1)</b>
public class CustomMappingConfigurer implements HibernateOrmSearchMappingConfigurer {

	@Override
    public void configure(HibernateOrmMappingConfigurationContext context) {
        TypeMappingStep type = context.programmaticMapping()    <i class="conum" data-value="2"></i><b>(2)</b>
            .type(SomeIndexedEntity.class);                     <i class="conum" data-value="3"></i><b>(3)</b>
        type.indexed()                                          <i class="conum" data-value="4"></i><b>(4)</b>
            .index(SomeIndexedEntity.INDEX_NAME);               <i class="conum" data-value="5"></i><b>(5)</b>
        type.property("id").documentId();                       <i class="conum" data-value="6"></i><b>(6)</b>
        type.property("text").fullTextField();                  <i class="conum" data-value="7"></i><b>(7)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configurer の実装に <code>@SearchExtension</code> 修飾子のアノテーションを付け、
デフォルトの永続ユニットで Hibernate Search Standalone によって使用されるように Quarkus に指示します。
<div class="paragraph">
<p>アノテーションは、特定の永続ユニット (<code>@SearchExtension(persistenceUnit = "nameOfYourPU")</code>) をターゲットにすることもできます。</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>プログラムによるマッピングコンテキストにアクセスします。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>SomeIndexedEntity</code> エンティティーのマッピングステップを作成します。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>SomeIndexedEntity</code> エンティティーをインデックスが作成されたと定義します。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>SomeIndexedEntity</code> エンティティーに使用するインデックス名を指定します。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>ドキュメント ID プロパティーを定義します。</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>text</code> プロパティーのフルテキスト検索フィールドを定義します。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>または、何らかの理由で mapping configurer に <code>@SearchExtension</code> アノテーションを追加できない、または追加したくない場合は、
<code>@Dependent @Named("myMappingConfigurer")</code> アノテーションを付け、設定プロパティーから参照できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.mapping.configurer=bean:myMappingConfigurer</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="opensearch"><a class="anchor" href="#opensearch"></a>OpenSearch対応</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hibernate Searchは <a href="https://www.elastic.co/elasticsearch">Elasticsearch</a>と <a href="https://www.opensearch.org/">OpenSearch</a>の両方に対応していますが、デフォルトではElasticsearchクラスタとの連携を前提としています。</p>
</div>
<div class="paragraph">
<p>代わりに Hibernate Search を OpenSearch クラスターで動作させるには、
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-configuration-version">設定されたバージョンに <code>opensearch:</code> を接頭辞として付けます</a>。
以下に例を示します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.elasticsearch.version=opensearch:2.16</code></pre>
</div>
</div>
<div class="paragraph">
<p>その他の設定オプションやAPIはElasticsearchの場合と全く同じです。</p>
</div>
<div class="paragraph">
<p>Elasticsearch の互換性のあるディストリビューションとバージョンの詳細は、
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#compatibility">Hibernate Search の参照ドキュメントのこちらのセクション</a> を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-persistence-units"><a class="anchor" href="#multiple-persistence-units"></a>複数の永続性ユニット</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuring-multiple-persistence-units"><a class="anchor" href="#configuring-multiple-persistence-units"></a>複数の永続化ユニットを設定</h3>
<div class="paragraph">
<p>Hibernate ORM エクステンションでは、 <a href="hibernate-orm#multiple-persistence-units">複数の永続化ユニットを設定することができ</a>、それぞれが独自のデータソースと設定を持つことができます。</p>
</div>
<div class="paragraph">
<p>複数の永続化ユニットを宣言する場合は、それぞれの永続化ユニットに対して個別にHibernate Searchを設定することになります。</p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.</code> 名前空間のルートにあるプロパティは、デフォルトの永続化ユニットを定義します。たとえば、次のスニペットでは、デフォルトのデータソースとデフォルトの永続化ユニットを定義し、その永続化ユニットのElasticsearchホストを <code>es1.mycompany.com:9200</code> に設定しています。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1

quarkus.hibernate-search-orm.elasticsearch.hosts=es1.mycompany.com:9200
quarkus.hibernate-search-orm.elasticsearch.version=8</code></pre>
</div>
</div>
<div class="paragraph">
<p>マップベースのアプローチで名前付きの永続化ユニットを構成することも可能です:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.datasource."users".db-kind=h2 <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.datasource."users".jdbc.url=jdbc:h2:mem:users;DB_CLOSE_DELAY=-1

quarkus.datasource."inventory".db-kind=h2 <i class="conum" data-value="2"></i><b>(2)</b>
quarkus.datasource."inventory".jdbc.url=jdbc:h2:mem:inventory;DB_CLOSE_DELAY=-1

quarkus.hibernate-orm."users".datasource=users <i class="conum" data-value="3"></i><b>(3)</b>
quarkus.hibernate-orm."users".packages=org.acme.model.user

quarkus.hibernate-orm."inventory".datasource=inventory <i class="conum" data-value="4"></i><b>(4)</b>
quarkus.hibernate-orm."inventory".packages=org.acme.model.inventory

quarkus.hibernate-search-orm."users".elasticsearch.hosts=es1.mycompany.com:9200 <i class="conum" data-value="5"></i><b>(5)</b>
quarkus.hibernate-search-orm."users".elasticsearch.version=8

quarkus.hibernate-search-orm."inventory".elasticsearch.hosts=es2.mycompany.com:9200 <i class="conum" data-value="6"></i><b>(6)</b>
quarkus.hibernate-search-orm."inventory".elasticsearch.version=8</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>users</code> という名前のデータソースを定義します。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>inventory</code> という名前のデータソースを定義します。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>users</code> データソースを指す <code>users</code> という名前の永続化ユニットを定義します。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>users</code> という永続化ユニットを定義します。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>users</code> 永続化ユニットにHibernate Searchを設定し、その永続化ユニットのElasticsearchホストを <code>es1.mycompany.com:9200</code> に設定します。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>inventory</code> 永続化ユニットにHibernate Searchを設定し、その永続化ユニットのElasticsearchホストを <code>es2.mycompany.com:9200</code> に設定します。</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="multiple-persistence-units-attaching-model-classes"><a class="anchor" href="#multiple-persistence-units-attaching-model-classes"></a>モデルクラスを永続化ユニットにアタッチする</h3>
<div class="paragraph">
<p>各永続化ユニットについて、Hibernate Searchは、その永続化ユニットにアタッチされているインデックス付きエンティティのみを考慮します。エンティティは、 <a href="hibernate-orm#multiple-persistence-units-attaching-model-classes">Hibernate ORMエクステンションを設定する</a>ことで、永続化ユニットにアタッチされます。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="multiple-persistence-units-attaching-cdi"><a class="anchor" href="#multiple-persistence-units-attaching-cdi"></a>CDI統合</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="injecting-entry-points"><a class="anchor" href="#injecting-entry-points"></a>エントリーポイントの注入</h3>
<div class="paragraph">
<p>CDI を使用して、Hibernate Search のメインエントリーポイント <code>SearchSession</code> と <code>SearchMapping</code> を注入することができます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
SearchSession searchSession;</code></pre>
</div>
</div>
<div class="paragraph">
<p>これは、デフォルトの永続化ユニットの <code>SearchSession</code> を注入します。</p>
</div>
<div class="paragraph">
<p>名前付き永続化ユニット(この例では <code>users</code> )の <code>SearchSession</code> を注入するには、修飾子を追加するだけです。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@PersistenceUnit("users") <i class="conum" data-value="1"></i><b>(1)</b>
SearchSession searchSession;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>これは <code>@io.quarkus.hibernate.orm.PersistenceUnit</code> のアノテーションです。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>全く同じメカニズムを使って、名前付き永続化ユニットの <code>SearchMapping</code> を注入することができます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
@PersistenceUnit("users")
SearchMapping searchMapping;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="plugging-in-custom-components"><a class="anchor" href="#plugging-in-custom-components"></a>カスタムコンポーネントのプラグイン</h3>
<div class="paragraph">
<p>Hibernate Search with Hibernate ORM の Quarkus エクステンションは自動的に
<code>@SearchExtension</code> アノテーションが付けられたコンポーネントを Hibernate Search に注入します。</p>
</div>
<div class="paragraph">
<p>アノテーションは、注入されるコンポーネントのタイプに適切な場合、オプションで特定の永続ユニット (<code>@SearchExtension(persistenceUnit = "nameOfYourPU")</code>)、
バックエンド(<code>@SearchExtension(backend = "nameOfYourBackend")</code>)、インデックス (<code>@SearchExtension(index = "nameOfYourIndex")</code>)、またはその組み合わせ 
(<code>@SearchExtension(persistenceUnit = "nameOfYourPU", backend = "nameOfYourBackend", index = "nameOfYourIndex")</code>) をターゲットにすることができます。</p>
</div>
<div class="paragraph">
<p>この機能は、次のコンポーネントタイプで使用できます。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>org.hibernate.search.engine.reporting.FailureHandler</code></dt>
<dd>
<p>バックグラウンドプロセスで発生した障害が通知されるコンポーネント
(主にインデックス操作)。</p>
<div class="paragraph">
<p>スコープ: 永続性ユニットごとに 1 つ。</p>
</div>
<div class="paragraph">
<p>詳細は、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#configuration-background-failure-handling">参照ドキュメントのこちらのセクション</a> 
を参照してください。</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.mapper.orm.mapping.HibernateOrmSearchMappingConfigurer</code></dt>
<dd>
<p>特にプログラムによって Hibernate Search マッピングを設定するために使用されるコンポーネント。</p>
<div class="paragraph">
<p>スコープ: 永続性ユニットごとに 1 つ以上。</p>
</div>
<div class="paragraph">
<p>詳細は、<a href="#programmatic-mapping">this section of this guide</a> を参照してください。</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.mapper.pojo.work.IndexingPlanSynchronizationStrategy</code></dt>
<dd>
<p>アプリケーションスレッドとインデックスの作成を同期する方法を設定するために使用されるコンポーネント。</p>
<div class="paragraph">
<p>スコープ: 永続性ユニットごとに 1 つ。</p>
</div>
<div class="paragraph">
<p><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a> 
を介して組み込み実装に設定することもできます。</p>
</div>
<div class="paragraph">
<p>詳細は、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#indexing-plan-synchronization">参照ドキュメントのこちらのセクション</a> 
を参照してください。</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer</code></dt>
<dd>
<p>フルテキスト分析 (アナライザー、ノーマライザーなど) を設定するために使用されるコンポーネント。</p>
<div class="paragraph">
<p>スコープ: バックエンドごとに 1 つ以上。</p>
</div>
<div class="paragraph">
<p>詳細は、<a href="#analysis-configurer">this section of this guide</a> を参照してください。</p>
</div>
</dd>
<dt class="hdlist1"><code>org.hibernate.search.backend.elasticsearch.index.layout.IndexLayoutStrategy</code></dt>
<dd>
<p>Elasticsearch レイアウト (インデックス名、インデックスエイリアスなど) を設定するために使用されるコンポーネント。</p>
<div class="paragraph">
<p>スコープ: バックエンドごとに 1 つ。</p>
</div>
<div class="paragraph">
<p><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-layout-strategy"><code>quarkus.hibernate-search-orm.elasticsearch.layout.strategy</code></a> 
を介して組み込み実装に設定することもできます。</p>
</div>
<div class="paragraph">
<p>詳細は、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-indexlayout">参照ドキュメントのこちらのセクション</a> 
を参照してください。</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="offline-startup"><a class="anchor" href="#offline-startup"></a>オフライン起動</h2>
<div class="sectionbody">
<div class="paragraph">
<p>デフォルトではHibernate Search は起動時に Elasticsearch クラスタにいくつかのリクエストを送信します。Hibernate Searchの起動時にElasticsearchクラスタが稼働していない場合は起動失敗の原因となります。</p>
</div>
<div class="paragraph">
<p>これに対処するためには起動時にリクエストを送信しないようにHibernate Searchを設定します:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>設定プロパティー
 <a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version-check-enabled"><code>quarkus.hibernate-search-orm.elasticsearch.version-check.enabled</code></a> を <code>false</code> に設定して、
起動時の Elasticsearch バージョンチェックを無効にします。</p>
</li>
<li>
<p>設定プロパティー
 <a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a> を <code>none</code> に設定して、
起動時にスキーマ管理を無効にします。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>もちろん、この構成でも、Elasticsearchクラスタにアクセスできるようになるまでは、Hibernate Searchはインデックスを作成したり、検索クエリを実行したりすることはできません。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.schema-management.strategy</code> を <code>none</code> に設定してスキーマの自動作成を無効にした場合、アプリケーションがエンティティの永続化/更新や検索リクエストの実行を開始する前に、手動でスキーマを作成する必要があります。</p>
</div>
<div class="paragraph">
<p>詳細は、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#schema-management-manager">参照ドキュメントのこちらのセクション</a>
を参照してください。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coordination"><a class="anchor" href="#coordination"></a>アウトボックスポーリングによる調整</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>アウトボックスポーリングによる調整は、プレビューとみなされます。</p>
</div>
<div class="paragraph">
<p><em>プレビュー版</em> では、後方互換性やエコシステムでの存在は保証されていません。具体的な改善のためには、設定やAPI、あるいはストレージのフォーマットを変更する必要があるかもしれませんが、 <em>安定化</em> に向けた計画は進行中です。ご意見・ご感想は、 <a href="https://groups.google.com/d/forum/quarkus-dev">メーリングリスト</a>や <a href="https://github.com/quarkusio/quarkus/issues">GitHubのイシュートラッカー</a>でお寄せください。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Hibernate Search や Elasticsearch を分散型アプリケーションで使用することは技術的には可能ですが、デフォルトでは <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#architecture-examples-no-coordination-elasticsearch-pros-and-cons">いくつかの制限</a> があります。</p>
</div>
<div class="paragraph">
<p>これらはHibernate Searchがデフォルトではスレッドやアプリケーションノード間の調整を行わないことによる制限です。</p>
</div>
<div class="paragraph">
<p>このような制限をなくすために、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#architecture-examples-outbox-polling-elasticsearch"><code>outbox-polling</code> 調整ストラテジーを使用</a> できます。このストラテジーは、データベースに outbox テーブルを作成してエンティティ変更イベントをプッシュし、バックグラウンドでイベントを処理し、自動インデックスを作成します。</p>
</div>
<div class="paragraph">
<p><code>outbox-polling</code> 調整ストラテジーを有効にするには、追加のエクステンションが必要です:</p>
</div>
<div class="listingblock primary asciidoc-tabs-sync-cli">
<div class="title">コマンドラインインタフェース</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">quarkus extension add hibernate-search-orm-outbox-polling</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-maven">
<div class="title">Maven</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw quarkus:add-extension -Dextensions='hibernate-search-orm-outbox-polling'</code></pre>
</div>
</div>
<div class="listingblock secondary asciidoc-tabs-sync-gradle">
<div class="title">Gradle</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./gradlew addExtension --extensions='hibernate-search-orm-outbox-polling'</code></pre>
</div>
</div>
<div class="paragraph">
<p>エクステンションが存在する場合、 <a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-coordination-strategy"><code>quarkus.hibernate-search-orm.coordination.strategy</code></a> を <code>outbox-polling</code> に設定して、 <code>outbox-polling</code> ストラテジーを明示的に選択する必要があります。</p>
</div>
<div class="paragraph">
<p>最後に、Hibernate Searchによって追加されたHibernate ORMエンティティ（アウトボックスとエージェントを表す）が、データベース内に対応するテーブル/シーケンスを持っていることを確認する必要があります:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>アプリケーションを始めたばかりで、 <a href="hibernate-orm#dev-mode">Hibernate ORMにデータベーススキーマを生成させる</a>つもりであれば、心配ありません。Hibernate Searchが必要とするエンティティは、生成されたスキーマに含まれます。</p>
</li>
<li>
<p>そうでない場合は、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-schema">手動でスキーマを変更して、必要なテーブル/シーケンスを追加する</a> 必要があります。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>データベーススキーマ Hibernate Search は、outbox-polling 調整が次の設定プロパティーに従ってカスタマイズされることを期待します。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.catalog</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.schema</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.table</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-gen-strategy</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-type</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.catalog</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.schema</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.table</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-gen-strategy</code></a></p>
</li>
<li>
<p><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-type</code></a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>上記の作業が完了したら、アウトボックスを使ったHibernate Searchを使用する準備が整いました。コードを変更せず、アプリケーションを起動するだけで大丈夫です。複数のアプリケーションが同じデータベースに接続されていることを自動的に検出し、それに応じてインデックスの更新が調整されます。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate Searchは、 <code>outbox-polling</code> 調整ストラテジーを使用してもしなくても、ほとんど同じ動作をします。アプリケーションコード（エンティティの永続化、検索など）を変更する必要はありません。</p>
</div>
<div class="paragraph">
<p>しかし重要な違いが1つあります。インデックスの更新は必然的に非同期で行われ、 <em>いつかは</em> 行われることが保証されますが、すぐには行われません。</p>
</div>
<div class="paragraph">
<p>これは、 <code>outbox-polling</code> 調整ストラテジーを使用している場合に設定プロパティー 
<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a> を設定できないことを意味します。
Hibernate Search は常に、このプロパティーが <code>write-sync</code> (デフォルト) に設定されているかのように動作します。</p>
</div>
<div class="paragraph">
<p>この動作は、Elasticsearchの <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/near-real-time.html">Near real-time search</a>と一致しており、連携が無効な場合でもHibernate Searchを使用する場合は推奨されています。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Hibernate Search の調整の詳細は、
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination">リファレンスドキュメントのこのセクション</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>調整に関連する設定オプションの詳細については、 <a href="#configuration-reference-coordination-outbox-polling">アウトボックスポーリングとの連携の設定</a> を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="aws-request-signing"><a class="anchor" href="#aws-request-signing"></a><a id="configuration-reference-aws"></a> AWSのリクエストの署名</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://docs.aws.amazon.com/elasticsearch-service/">Amazonが管理するElasticsearchサービス</a>を使用する必要がある場合、リクエストの署名を含む独自の認証方法を必要になります。</p>
</div>
<div class="paragraph">
<p>Hibernate SearchでAWSリクエストの署名を有効にするには、専用のエクステンションをプロジェクトに追加して設定します。</p>
</div>
<div class="paragraph">
<p>詳細は <a href="https://docs.quarkiverse.io/quarkus-hibernate-search-extras/dev/index.html#aws-configuration-reference">Hibernate Search ORM + Elasticsearch AWS エクステンションのドキュメント</a> を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="management"><a class="anchor" href="#management"></a>管理エンドポイント</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Hibernate Search の管理エンドポイントは、プレビュー機能とされています。</p>
</div>
<div class="paragraph">
<p><em>プレビュー版</em> では、後方互換性やエコシステムでの存在は保証されていません。具体的な改善のためには、設定やAPI、あるいはストレージのフォーマットを変更する必要があるかもしれませんが、 <em>安定化</em> に向けた計画は進行中です。ご意見・ご感想は、 <a href="https://groups.google.com/d/forum/quarkus-dev">メーリングリスト</a>や <a href="https://github.com/quarkusio/quarkus/issues">GitHubのイシュートラッカー</a>でお寄せください。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Hibernate Search エクステンションは、<a href="./management-interface-reference">管理インターフェイス</a> を通じてデータを再インデックスするための HTTP エンドポイントを提供します。
デフォルトでは、このエンドポイントは使用できません。以下に示すように、設定プロパティーを通じて有効にできます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.management.enabled=true <i class="conum" data-value="1"></i><b>(1)</b>
quarkus.hibernate-search-orm.management.enabled=true <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><a href="./management-interface-reference">管理インターフェイス</a> を有効にします。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Hibernate Search 固有の管理エンドポイントを有効にします。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>管理エンドポイントが有効になると、 <code>/q/hibernate-search/reindex</code> 経由でデータのインデックスの再作成が可能になります。ここで、 <code>/q</code> はデフォルトの管理ルートパスで、
<code>/hibernate-search</code> はデフォルトの Hibernate Search ルート管理パスになります。
以下に示すように、(<code>/hibernate-search</code>) は設定プロパティーを介して変更できます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">quarkus.hibernate-search-orm.management.root-path=custom-root-path <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Hibernate Search の管理エンドポイントにカスタムの <code>custom-root-path</code> パスを使用します。
デフォルトの管理ルートパスが使用される場合は、インデックスが再作成されたパスは <code>/q/custom-root-path/reindex</code> になります。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>このエンドポイントは、 <code>application/json</code> コンテンツタイプのみの <code>POST</code> リクエストを受け入れます。
空のリクエストボディーが送信された場合、インデックス化されたすべてのエンティティーは再度インデックス化されます。
エンティティーのサブセットのみを再インデックス化する必要がある場合、または
基礎となる大量インデクサーのカスタム設定が必要な場合、
以下のようにこの情報をリクエストボディーを介して渡すことができます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "filter": {
    "types": ["EntityName1", "EntityName2", "EntityName3", ...], <i class="conum" data-value="1"></i><b>(1)</b>
  },
  "massIndexer":{
    "typesToIndexInParallel": 1, <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>インデックスを再作成する必要があるエンティティー名の配列。指定されていないか空の場合は、すべてのエンティティータイプのインデックスが再作成されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>インデックスを並列に作成するエンティティータイプの数を設定します。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>使用可能なフィルターと利用可能な一括インデクサー設定の完全なリストを以下の例に示します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "filter": { <i class="conum" data-value="1"></i><b>(1)</b>
    "types": ["EntityName1", "EntityName2", "EntityName3", ...], <i class="conum" data-value="2"></i><b>(2)</b>
    "tenants": ["tenant1", "tenant2", ...] <i class="conum" data-value="3"></i><b>(3)</b>
  },
  "massIndexer":{ <i class="conum" data-value="4"></i><b>(4)</b>
    "typesToIndexInParallel": 1, <i class="conum" data-value="5"></i><b>(5)</b>
    "threadsToLoadObjects": 6,  <i class="conum" data-value="6"></i><b>(6)</b>
    "batchSizeToLoadObjects": 10, <i class="conum" data-value="7"></i><b>(7)</b>
    "cacheMode": "IGNORE", <i class="conum" data-value="8"></i><b>(8)</b>
    "mergeSegmentsOnFinish": false, <i class="conum" data-value="9"></i><b>(9)</b>
    "mergeSegmentsAfterPurge": true, <i class="conum" data-value="10"></i><b>(10)</b>
    "dropAndCreateSchemaOnStart": false, <i class="conum" data-value="11"></i><b>(11)</b>
    "purgeAllOnStart": true, <i class="conum" data-value="12"></i><b>(12)</b>
    "idFetchSize": 100, <i class="conum" data-value="13"></i><b>(13)</b>
    "transactionTimeout": 100000, <i class="conum" data-value="14"></i><b>(14)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>インデックスの再作成範囲を制限できるフィルターオブジェクト。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>インデックスを再作成する必要があるエンティティー名の配列。指定されていないか空の場合は、すべてのエンティティータイプのインデックスが再作成されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>マルチテナンシーの場合のテナント ID の配列。指定されていないか空の場合、すべてのテナントのインデックスが再作成されます。</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>一括インデクサー設定オブジェクト。</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>インデックスを並列に作成するエンティティータイプの数を設定します。</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>ルートエンティティーをロードするために使用されるスレッドの数の設定。</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>ルートエンティティーをロードするために使用されるバッチサイズの設定。</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>データロードタスクのキャッシュ対話モードの設定。</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>インデックスの作成後に各インデックスが 1 つのセグメントにマージされるかどうか。</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>インデックスの作成直前に、最初のインデックスのパージ後に各インデックスが 1 つのセグメントにマージされるかどうか。</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>インデックスの作成前に、インデックスとそのスキーマ (存在する場合) を削除して再作成するかどうか。</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>インデックスの作成前に、すべてのエンティティーがインデックスから削除されるかどうか。</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>プライマリーキーをロードする際に使用するフェッチサイズの指定 (インデックスを作成するオブジェクトの場合)。</td>
</tr>
<tr>
<td><i class="conum" data-value="14"></i><b>14</b></td>
<td>インデックスを再作成する ID とエンティティーをロードするためのトランザクションのタイムアウトの指定。
<div class="paragraph">
<p>JSON 内のすべてのプロパティーはオプションであり、使用できるのは必要なものだけである点に注意してください。</p>
</div></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>一括インデクサーの設定に関する詳細は、
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#indexing-massindexer-parameters">Hibernate Search リファレンスドキュメントの対応するセクション</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>インデックスの再作成要求を送信すると、バックグラウンドでインデックスの作成がトリガーされます。インデックスの一括作成の進行状況はアプリケーションログに表示されます。
テスト目的の場合、インデックスの作成がいつ終了したかを知ることは役に立つかもしれません。URL に <code>wait_for=finished</code> クエリーパラメーターを追加すると、
管理エンドポイントが、インデックス作成の開始時と終了時を報告するチャンク化された応答を返します。</p>
</div>
<div class="paragraph">
<p>複数の永続ユニットを処理する場合、再度インデックス化する永続ユニットの名前は、
<code>persistence_unit</code> クエリーパラメーター (<code>/q/hibernate-search/reindex?persistence_unit=non-default-persistence-unit</code>) を通じて提供されます。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="further-reading"><a class="anchor" href="#further-reading"></a>さらに詳しく</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hibernate Search の詳細については、
Hibernate チームが公開している <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/">多数の参照ドキュメント</a> 
および <a href="https://hibernate.org/search/more-resources/">その他の関連ドキュメント</a> を参照してください。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="faq"><a class="anchor" href="#faq"></a>FAQ</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="why-elasticsearch-only"><a class="anchor" href="#why-elasticsearch-only"></a>なぜElasticsearchだけなのか?</h3>
<div class="paragraph">
<p>Hibernate SearchはLuceneバックエンドとElasticsearchバックエンドの両方をサポートしています。</p>
</div>
<div class="paragraph">
<p>Quarkus のコンテキストおよびスケーラブルなアプリケーションの構築において、Elasticsearch バックエンドの方適しています。
そこで、Elasticsearch バックエンドに重点を置いています。</p>
</div>
<div class="paragraph">
<p>現時点では Quarkus で Lucene バックエンドをサポートする予定はありません。
ただし、Quarkiverse (<a href="https://github.com/quarkiverse/quarkus-hibernate-search-extras/issues/179">quarkiverse/quarkus-hibernate-search-extras#179</a>) では、
このような実装の進捗状況が追跡されています。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-reference"><a class="anchor" href="#configuration-reference"></a>Hibernate ORM を使用する Hibernate Search の設定リファレンス</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="configuration-reference-main"><a class="anchor" href="#configuration-reference-main"></a>主な構成</h3>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="ビルド時に固定"></i></span>ビルド時に固定される設定プロパティ - 他のすべての設定プロパティは実行時にオーバーライド可能 <input type="search" id="config-search-0" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-enabled"><code>quarkus.hibernate-search-orm.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-1" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Hibernate Search is enabled <strong>during the build</strong>.</p>
</div>
<div class="paragraph">
<p>If Hibernate Search is disabled during the build, all processing related to Hibernate Search will be skipped,
but it will not be possible to activate Hibernate Search at runtime:
<code>quarkus.hibernate-search-orm.active</code> will default to <code>false</code> and setting it to <code>true</code> will lead to an error.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29386">QUARKUS_HIBERNATE_SEARCH_ORM_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29386" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-background-failure-handler"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-background-failure-handler"><code>quarkus.hibernate-search-orm.background-failure-handler</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".background-failure-handler</code></p>
</div>
<div id="conf-collapsible-desc-2" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>A <a href="#bean-reference-note-anchor">bean reference</a> to a component
that should be notified of any failure occurring in a background process
(mainly index operations).</p>
</div>
<div class="paragraph">
<p>The referenced bean must implement <code>FailureHandler</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#configuration-background-failure-handling">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>FailureHandler</code> implementation with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29387">QUARKUS_HIBERNATE_SEARCH_ORM_BACKGROUND_FAILURE_HANDLER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29387" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-coordination-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-coordination-strategy"><code>quarkus.hibernate-search-orm.coordination.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.strategy</code></p>
</div>
<div id="conf-collapsible-desc-3" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The strategy to use for coordinating between threads or even separate instances of the application,
in particular in automatic indexing.</p>
</div>
<div class="paragraph">
<p>See <a href="#coordination">coordination</a> for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29388">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29388" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>none</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-mapping-configurer"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-mapping-configurer"><code>quarkus.hibernate-search-orm.mapping.configurer</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".mapping.configurer</code></p>
</div>
<div id="conf-collapsible-desc-4" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>One or more <a href="#bean-reference-note-anchor">bean references</a>
to the component(s) used to configure the Hibernate Search mapping,
in particular programmatically.</p>
</div>
<div class="paragraph">
<p>The referenced beans must implement <code>HibernateOrmSearchMappingConfigurer</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#programmatic-mapping">Programmatic mapping</a> for an example
on how mapping configurers can be used to apply programmatic mappings.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>HibernateOrmSearchMappingConfigurer</code> implementations with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29389">QUARKUS_HIBERNATE_SEARCH_ORM_MAPPING_CONFIGURER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29389" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-active"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-active"><code>quarkus.hibernate-search-orm.active</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".active</code></p>
</div>
<div id="conf-collapsible-desc-5" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Hibernate Search should be active for this persistence unit at runtime.</p>
</div>
<div class="paragraph">
<p>If Hibernate Search is not active, it won&#8217;t index Hibernate ORM entities,
and accessing the SearchMapping/SearchSession of the relevant persistence unit
for search or other operation will not be possible.</p>
</div>
<div class="paragraph">
<p>Note that if Hibernate Search is disabled (i.e. <code>quarkus.hibernate-search-orm.enabled</code> is set to <code>false</code>),
it won&#8217;t be active for any persistence unit, and setting this property to <code>true</code> will fail.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29390">QUARKUS_HIBERNATE_SEARCH_ORM_ACTIVE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29390" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>'true' if Hibernate Search is enabled; 'false' otherwise</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-schema-management-strategy"><code>quarkus.hibernate-search-orm.schema-management.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".schema-management.strategy</code></p>
</div>
<div id="conf-collapsible-desc-6" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The schema management strategy, controlling how indexes and their schema
are created, updated, validated or dropped on startup and shutdown.</p>
</div>
<div class="paragraph">
<p>Available values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Strategy</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Definition</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do nothing: assume that indexes already exist and that their schema matches Hibernate Search&#8217;s expectations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">validate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that indexes exist and that their schema matches Hibernate Search&#8217;s expectations.</p>
<p class="tableblock">If it does not, throw an exception, but make no attempt to fix the problem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, do nothing: assume that their schema matches Hibernate Search&#8217;s expectations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create-or-validate (<strong>default</strong> unless using Dev Services)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, validate that their schema matches Hibernate Search&#8217;s expectations.</p>
<p class="tableblock">If it does not, throw an exception, but make no attempt to fix the problem.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">create-or-update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, validate that their schema matches Hibernate Search&#8217;s expectations;
if it does not match expectations, try to update it.</p>
<p class="tableblock"><strong>This strategy is unfit for production environments</strong>,
due to several important limitations,
but can be useful when developing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">drop-and-create</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, drop them, then create them along with their schema.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">drop-and-create-and-drop (<strong>default</strong> when using Dev Services)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For indexes that do not exist, create them along with their schema.</p>
<p class="tableblock">For indexes that already exist, drop them, then create them along with their schema.</p>
<p class="tableblock">Also, drop indexes and their schema on shutdown.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#mapper-orm-schema-management-strategy">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29391">QUARKUS_HIBERNATE_SEARCH_ORM_SCHEMA_MANAGEMENT_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29391" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>none</code>, <code>validate</code>, <code>create</code>, <code>create-or-validate</code>, <code>create-or-update</code>, <code>drop-and-create</code>, <code>drop-and-create-and-drop</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>drop-and-create-and-drop when using Dev Services; create-or-validate otherwise</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-cache-lookup-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-cache-lookup-strategy"><code>quarkus.hibernate-search-orm.query.loading.cache-lookup.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".query.loading.cache-lookup.strategy</code></p>
</div>
<div id="conf-collapsible-desc-7" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The strategy to use when loading entities during the execution of a search query.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29392">QUARKUS_HIBERNATE_SEARCH_ORM_QUERY_LOADING_CACHE_LOOKUP_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29392" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>skip</code>, <code>persistence-context</code>, <code>persistence-context-then-second-level-cache</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>skip</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-fetch-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-query-loading-fetch-size"><code>quarkus.hibernate-search-orm.query.loading.fetch-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".query.loading.fetch-size</code></p>
</div>
<div id="conf-collapsible-desc-8" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The fetch size to use when loading entities during the execution of a search query.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29393">QUARKUS_HIBERNATE_SEARCH_ORM_QUERY_LOADING_FETCH_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29393" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".indexing.plan.synchronization.strategy</code></p>
</div>
<div id="conf-collapsible-desc-9" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How to synchronize between application threads and indexing,
in particular when relying on (implicit) listener-triggered indexing on entity change,
but also when using a <code>SearchIndexingPlan</code> explicitly.</p>
</div>
<div class="paragraph">
<p>Defines how complete indexing should be before resuming the application thread
after a database transaction is committed.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Indexing synchronization is only relevant when coordination is disabled (which is the default).</p>
</div>
<div class="paragraph">
<p>With the <a href="#coordination"><code>outbox-polling</code> coordination strategy</a>,
indexing happens in background threads and is always asynchronous;
the behavior is equivalent to the <code>write-sync</code> synchronization strategy.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Available values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Strategy</p></th>
<th class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Throughput</p></th>
<th class="tableblock halign-center valign-top" colspan="3"><p class="tableblock">Guarantees when the application thread resumes</p></th>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Changes applied</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Changes safe from crash/power loss</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Changes visible on search</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">async</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Best</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">write-sync (<strong>default</strong>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">read-sync</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium to worst</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon red"><i class="fa fa-times"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sync</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Worst</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="icon lime"><i class="fa fa-check"></i></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This property also accepts a <a href="#bean-reference-note-anchor">bean reference</a>
to a custom implementations of <code>IndexingPlanSynchronizationStrategy</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#indexing-plan-synchronization">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>IndexingPlanSynchronizationStrategy</code> implementation with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29394">QUARKUS_HIBERNATE_SEARCH_ORM_INDEXING_PLAN_SYNCHRONIZATION_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29394" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>write-sync</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-multi-tenancy-tenant-ids"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-multi-tenancy-tenant-ids"><code>quarkus.hibernate-search-orm.multi-tenancy.tenant-ids</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".multi-tenancy.tenant-ids</code></p>
</div>
<div id="conf-collapsible-desc-10" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>An exhaustive list of all tenant identifiers that may be used by the application when multi-tenancy is enabled.</p>
</div>
<div class="paragraph">
<p>Mainly useful when using the {@code outbox-polling} coordination strategy,
since it involves setting up one background processor per tenant.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29395">QUARKUS_HIBERNATE_SEARCH_ORM_MULTI_TENANCY_TENANT_IDS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29395" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch">Configuration for backends</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version"><code>quarkus.hibernate-search-orm.elasticsearch.version</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".version</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.version</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".version</code></p>
</div>
<div id="conf-collapsible-desc-11" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The version of Elasticsearch used in the cluster.</p>
</div>
<div class="paragraph">
<p>As the schema is generated without a connection to the server, this item is mandatory.</p>
</div>
<div class="paragraph">
<p>It doesn&#8217;t have to be the exact version (it can be <code>7</code> or <code>7.1</code> for instance) but it has to be sufficiently precise
to choose a model dialect (the one used to generate the schema) compatible with the protocol dialect (the one used
to communicate with Elasticsearch).</p>
</div>
<div class="paragraph">
<p>There&#8217;s no rule of thumb here as it depends on the schema incompatibilities introduced by Elasticsearch versions. In
any case, if there is a problem, you will have an error when Hibernate Search tries to connect to the cluster.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29396">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_VERSION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29396" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">ElasticsearchVersion</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-layout-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-layout-strategy"><code>quarkus.hibernate-search-orm.elasticsearch.layout.strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".layout.strategy</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.layout.strategy</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".layout.strategy</code></p>
</div>
<div id="conf-collapsible-desc-12" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>A <a href="#bean-reference-note-anchor">bean reference</a> to the component
used to configure the Elasticsearch layout: index names, index aliases, &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>The referenced bean must implement <code>IndexLayoutStrategy</code>.</p>
</div>
<div class="paragraph">
<p>Available built-in implementations:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>simple</code></dt>
<dd>
<p>The default, future-proof strategy: if the index name in Hibernate Search is <code>myIndex</code>,
this strategy will create an index named <code>myindex-000001</code>, an alias for write operations named <code>myindex-write</code>,
and an alias for read operations named <code>myindex-read</code>.</p>
</dd>
<dt class="hdlist1"><code>no-alias</code></dt>
<dd>
<p>A strategy without index aliases, mostly useful on legacy clusters:
if the index name in Hibernate Search is <code>myIndex</code>,
this strategy will create an index named <code>myindex</code>, and will not use any alias.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-indexlayout">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>IndexLayoutStrategy</code> implementation with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29397">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_LAYOUT_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29397" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-settings-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-settings-file"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.settings-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.settings-file</code></p>
</div>
<div id="conf-collapsible-desc-13" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding custom index settings to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The provided settings will be merged with those generated by Hibernate Search, including analyzer definitions.
When analysis is configured both through an analysis configurer and these custom settings, the behavior is undefined;
it should not be relied upon.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-configuration-index-settings">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29398">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_SETTINGS_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29398" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-mapping-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-mapping-file"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.mapping-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.mapping-file</code></p>
</div>
<div id="conf-collapsible-desc-14" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding a custom index mapping to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The file does not need to (and generally shouldn&#8217;t) contain the full mapping:
Hibernate Search will automatically inject missing properties (index fields) in the given mapping.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-mapping-custom">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29399">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_MAPPING_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29399" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-analysis-configurer"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-analysis-configurer"><code>quarkus.hibernate-search-orm.elasticsearch.analysis.configurer</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".analysis.configurer</code></p>
</div>
<div id="conf-collapsible-desc-15" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>One or more <a href="#bean-reference-note-anchor">bean references</a>
to the component(s) used to configure full text analysis (e.g. analyzers, normalizers).</p>
</div>
<div class="paragraph">
<p>The referenced beans must implement <code>ElasticsearchAnalysisConfigurer</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#analysis-configurer">Setting up the analyzers</a> for more
information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>ElasticsearchAnalysisConfigurer</code> implementations with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29400">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_ANALYSIS_CONFIGURER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29400" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-hosts"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-hosts"><code>quarkus.hibernate-search-orm.elasticsearch.hosts</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".hosts</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.hosts</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".hosts</code></p>
</div>
<div id="conf-collapsible-desc-16" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The list of hosts of the Elasticsearch servers.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29401">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_HOSTS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29401" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>localhost:9200</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-protocol"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-protocol"><code>quarkus.hibernate-search-orm.elasticsearch.protocol</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".protocol</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.protocol</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".protocol</code></p>
</div>
<div id="conf-collapsible-desc-17" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The protocol to use when contacting Elasticsearch servers. Set to "https" to enable SSL/TLS.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29402">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_PROTOCOL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29402" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><span class="asciidoc-tooltip-wrapper"><code>http</code><span class="asciidoc-tooltip">Use clear-text HTTP, with SSL/TLS disabled.</span></span>, <span class="asciidoc-tooltip-wrapper"><code>https</code><span class="asciidoc-tooltip">Use HTTPS, with SSL/TLS enabled.</span></span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><span class="asciidoc-tooltip-wrapper"><code>http</code><span class="asciidoc-tooltip">Use clear-text HTTP, with SSL/TLS disabled.</span></span></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-username"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-username"><code>quarkus.hibernate-search-orm.elasticsearch.username</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".username</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.username</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".username</code></p>
</div>
<div id="conf-collapsible-desc-18" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The username used for authentication.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29403">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_USERNAME</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29403" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-password"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-password"><code>quarkus.hibernate-search-orm.elasticsearch.password</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".password</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.password</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".password</code></p>
</div>
<div id="conf-collapsible-desc-19" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The password used for authentication.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29404">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_PASSWORD</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29404" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-connection-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-connection-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.connection-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".connection-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.connection-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".connection-timeout</code></p>
</div>
<div id="conf-collapsible-desc-20" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout when establishing a connection to an Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29405">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_CONNECTION_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29405" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-read-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-read-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.read-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".read-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.read-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".read-timeout</code></p>
</div>
<div id="conf-collapsible-desc-21" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout when reading responses from an Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29406">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_READ_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29406" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-request-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-request-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.request-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".request-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.request-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".request-timeout</code></p>
</div>
<div id="conf-collapsible-desc-22" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout when executing a request to an Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>This includes the time needed to wait for a connection to be available,
send the request and read the response.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29407">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_REQUEST_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29407" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections"><code>quarkus.hibernate-search-orm.elasticsearch.max-connections</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".max-connections</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.max-connections</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".max-connections</code></p>
</div>
<div id="conf-collapsible-desc-23" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum number of connections to all the Elasticsearch servers.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29408">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_MAX_CONNECTIONS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29408" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>20</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections-per-route"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-max-connections-per-route"><code>quarkus.hibernate-search-orm.elasticsearch.max-connections-per-route</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".max-connections-per-route</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.max-connections-per-route</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".max-connections-per-route</code></p>
</div>
<div id="conf-collapsible-desc-24" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum number of connections per Elasticsearch server.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29409">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_MAX_CONNECTIONS_PER_ROUTE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29409" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-enabled"><code>quarkus.hibernate-search-orm.elasticsearch.discovery.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".discovery.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.discovery.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".discovery.enabled</code></p>
</div>
<div id="conf-collapsible-desc-25" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Defines if automatic discovery is enabled.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29410">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_DISCOVERY_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29410" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-refresh-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-discovery-refresh-interval"><code>quarkus.hibernate-search-orm.elasticsearch.discovery.refresh-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".discovery.refresh-interval</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.discovery.refresh-interval</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".discovery.refresh-interval</code></p>
</div>
<div id="conf-collapsible-desc-26" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Refresh interval of the node list.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29411">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_DISCOVERY_REFRESH_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29411" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-thread-pool-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-thread-pool-size"><code>quarkus.hibernate-search-orm.elasticsearch.thread-pool.size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".thread-pool.size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.thread-pool.size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".thread-pool.size</code></p>
</div>
<div id="conf-collapsible-desc-27" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The size of the thread pool assigned to the backend.</p>
</div>
<div class="paragraph">
<p>Note that number is <strong>per backend</strong>, not per index.
Adding more indexes will not add more threads.</p>
</div>
<div class="paragraph">
<p>As all operations happening in this thread-pool are non-blocking,
raising its size above the number of processor cores available to the JVM will not bring noticeable performance
benefit.
The only reason to alter this setting would be to reduce the number of threads;
for example, in an application with a single index with a single indexing queue,
running on a machine with 64 processor cores,
you might want to bring down the number of threads.</p>
</div>
<div class="paragraph">
<p>Defaults to the number of processor cores available to the JVM on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29412">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_THREAD_POOL_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29412" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-query-shard-failure-ignore"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-query-shard-failure-ignore"><code>quarkus.hibernate-search-orm.elasticsearch.query.shard-failure.ignore</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".query.shard-failure.ignore</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.query.shard-failure.ignore</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".query.shard-failure.ignore</code></p>
</div>
<div id="conf-collapsible-desc-28" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether partial shard failures are ignored (<code>true</code>) or lead to Hibernate Search throwing an exception (<code>false</code>).</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29413">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_QUERY_SHARD_FAILURE_IGNORE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29413" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version-check-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-version-check-enabled"><code>quarkus.hibernate-search-orm.elasticsearch.version-check.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".version-check.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.version-check.enabled</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".version-check.enabled</code></p>
</div>
<div id="conf-collapsible-desc-29" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether Hibernate Search should check the version of the Elasticsearch cluster on startup.</p>
</div>
<div class="paragraph">
<p>Set to <code>false</code> if the Elasticsearch cluster may not be available on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29414">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_VERSION_CHECK_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29414" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.required-status</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.required-status</code></p>
</div>
<div id="conf-collapsible-desc-30" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The minimal <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/cluster-health.html">Elasticsearch cluster
status</a> required on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29415">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_REQUIRED_STATUS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29415" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>green</code>, <code>yellow</code>, <code>red</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>yellow</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status-wait-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-schema-management-required-status-wait-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.schema-management.required-status-wait-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div id="conf-collapsible-desc-31" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long we should wait for the status before failing the bootstrap.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29416">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_SCHEMA_MANAGEMENT_REQUIRED_STATUS_WAIT_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29416" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-count"><code>quarkus.hibernate-search-orm.elasticsearch.indexing.queue-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexing.queue-count</code></p>
</div>
<div id="conf-collapsible-desc-32" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The number of indexing queues assigned to each index.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more connections being used in parallel,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29417">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXING_QUEUE_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29417" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-queue-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexing.queue-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexing.queue-size</code></p>
</div>
<div id="conf-collapsible-desc-33" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The size of indexing queues.</p>
</div>
<div class="paragraph">
<p>Lower values may lead to lower memory usage, especially if there are many queues,
but values that are too low will reduce the likeliness of reaching the max bulk size
and increase the likeliness of application threads blocking because the queue is full,
which may lead to lower indexing throughput.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29418">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXING_QUEUE_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29418" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-max-bulk-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexing-max-bulk-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexing.max-bulk-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexing.max-bulk-size</code></p>
</div>
<div id="conf-collapsible-desc-34" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum size of bulk requests created when processing indexing queues.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more documents being sent in each HTTP request sent to Elasticsearch,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Note that raising this number above the queue size has no effect,
as bulks cannot include more requests than are contained in the queue.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29419">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXING_MAX_BULK_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29419" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch-indexes"></a> <span class="section-name section-level1"><a href="#quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-elasticsearch-indexes">Per-index configuration overrides</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-settings-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-settings-file"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.settings-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.settings-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.settings-file</code></p>
</div>
<div id="conf-collapsible-desc-35" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding custom index settings to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The provided settings will be merged with those generated by Hibernate Search, including analyzer definitions.
When analysis is configured both through an analysis configurer and these custom settings, the behavior is undefined;
it should not be relied upon.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-configuration-index-settings">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29420">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_SETTINGS_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29420" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-mapping-file"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-mapping-file"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.mapping-file</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.mapping-file</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.mapping-file</code></p>
</div>
<div id="conf-collapsible-desc-36" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Path to a file in the classpath holding a custom index mapping to be included in the index definition
when creating an Elasticsearch index.</p>
</div>
<div class="paragraph">
<p>The file does not need to (and generally shouldn&#8217;t) contain the full mapping:
Hibernate Search will automatically inject missing properties (index fields) in the given mapping.</p>
</div>
<div class="paragraph">
<p>See <a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#backend-elasticsearch-mapping-custom">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29421">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_MAPPING_FILE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29421" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-analysis-configurer"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-analysis-configurer"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".analysis.configurer</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".analysis.configurer</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".analysis.configurer</code></p>
</div>
<div id="conf-collapsible-desc-37" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>One or more <a href="#bean-reference-note-anchor">bean references</a>
to the component(s) used to configure full text analysis (e.g. analyzers, normalizers).</p>
</div>
<div class="paragraph">
<p>The referenced beans must implement <code>ElasticsearchAnalysisConfigurer</code>.</p>
</div>
<div class="paragraph">
<p>See <a href="#analysis-configurer">Setting up the analyzers</a> for more
information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of setting this configuration property,
you can simply annotate your custom <code>ElasticsearchAnalysisConfigurer</code> implementations with <code>@SearchExtension</code>
and leave the configuration property unset: Hibernate Search will use the annotated implementation automatically.
See <a href="#plugging-in-custom-components">this section</a>
for more information.</p>
</div>
<div class="paragraph">
<p>If this configuration property is set, it takes precedence over any <code>@SearchExtension</code> annotation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29422">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__ANALYSIS_CONFIGURER</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29422" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of string</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.required-status</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.required-status</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.required-status</code></p>
</div>
<div id="conf-collapsible-desc-38" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The minimal <a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.17/cluster-health.html">Elasticsearch cluster
status</a> required on startup.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29423">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_REQUIRED_STATUS</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29423" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>green</code>, <code>yellow</code>, <code>red</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>yellow</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status-wait-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-schema-management-required-status-wait-timeout"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".schema-management.required-status-wait-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".schema-management.required-status-wait-timeout</code></p>
</div>
<div id="conf-collapsible-desc-39" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long we should wait for the status before failing the bootstrap.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29424">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__SCHEMA_MANAGEMENT_REQUIRED_STATUS_WAIT_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29424" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-count"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".indexing.queue-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".indexing.queue-count</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".indexing.queue-count</code></p>
</div>
<div id="conf-collapsible-desc-40" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The number of indexing queues assigned to each index.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more connections being used in parallel,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29425">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__INDEXING_QUEUE_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29425" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>10</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-queue-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".indexing.queue-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".indexing.queue-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".indexing.queue-size</code></p>
</div>
<div id="conf-collapsible-desc-41" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The size of indexing queues.</p>
</div>
<div class="paragraph">
<p>Lower values may lead to lower memory usage, especially if there are many queues,
but values that are too low will reduce the likeliness of reaching the max bulk size
and increase the likeliness of application threads blocking because the queue is full,
which may lead to lower indexing throughput.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29426">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__INDEXING_QUEUE_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29426" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>1000</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-max-bulk-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-elasticsearch-indexes-index-name-indexing-max-bulk-size"><code>quarkus.hibernate-search-orm.elasticsearch.indexes."index-name".indexing.max-bulk-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm.elasticsearch."backend-name".indexes."index-name".indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch.indexes."index-name".indexing.max-bulk-size</code></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".elasticsearch."backend-name".indexes."index-name".indexing.max-bulk-size</code></p>
</div>
<div id="conf-collapsible-desc-42" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The maximum size of bulk requests created when processing indexing queues.</p>
</div>
<div class="paragraph">
<p>Higher values will lead to more documents being sent in each HTTP request sent to Elasticsearch,
which may lead to higher indexing throughput,
but incurs a risk of overloading Elasticsearch,
i.e. of overflowing its HTTP request buffers and tripping
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.9/circuit-breaker.html">circuit breakers</a>,
leading to Elasticsearch giving up on some request and resulting in indexing failures.</p>
</div>
<div class="paragraph">
<p>Note that raising this number above the queue size has no effect,
as bulks cannot include more requests than are contained in the queue.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29427">QUARKUS_HIBERNATE_SEARCH_ORM_ELASTICSEARCH_INDEXES__INDEX_NAME__INDEXING_MAX_BULK_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29427" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>100</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-management"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-elasticsearch_section_quarkus-hibernate-search-orm-management">Management interface</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-root-path"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-root-path"><code>quarkus.hibernate-search-orm.management.root-path</code></a></span></p>
</div>
<div id="conf-collapsible-desc-43" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Root path for reindexing endpoints.
This value will be resolved as a path relative to <code>${quarkus.management.root-path}</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29428">QUARKUS_HIBERNATE_SEARCH_ORM_MANAGEMENT_ROOT_PATH</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29428" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>hibernate-search/</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-management-enabled"><code>quarkus.hibernate-search-orm.management.enabled</code></a></span></p>
</div>
<div id="conf-collapsible-desc-44" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>If management interface is turned on the reindexing endpoints will be published under the management interface.
This property allows to enable this functionality by setting it to <code>`true</code>.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29429">QUARKUS_HIBERNATE_SEARCH_ORM_MANAGEMENT_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29429" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>false</code></p></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">期間フォーマットについて</div>
<div class="paragraph">
<p>期間の値を書くには、標準の <code>java.time.Duration</code> フォーマットを使います。
詳細は <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>数字で始まる簡略化した書式を使うこともできます:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値のみの場合は、秒単位の時間を表します。</p>
</li>
<li>
<p>数値の後に <code>ms</code> が続く場合は、ミリ秒単位の時間を表します。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>その他の場合は、簡略化されたフォーマットが解析のために <code>java.time.Duration</code> フォーマットに変換されます：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値の後に <code>h</code> 、 <code>m</code> 、 <code>s</code> が続く場合は、その前に <code>PT</code> が付けられます。</p>
</li>
<li>
<p>数値の後に <code>d</code> が続く場合は、その前に <code>P</code> が付けられます。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div id="bean-reference-note-anchor" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Bean参照について</div>
<div class="paragraph">
<p>まず、設定プロパティーで Bean を参照することはオプションであり、実際には推奨されていないことに注意してください。
Bean に <code>@SearchExtension</code> アノテーションを付けることによって、同じ結果を得ることができます。
詳細は <a href="#plugging-in-custom-components">this section</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>設定プロパティーで文字列値を使用して Bean を参照したい場合は、
文字列が解析されることを確認します。最も一般的な形式は次のとおりです。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bean:</code> の後に <code>@Named</code> CDI Beanの名前が続きます。例えば <code>bean:myBean</code> .</p>
</li>
<li>
<p><code>class:</code> の後にクラスの完全修飾名を付けて、CDI Beanの場合は CDI を通して、そうでない場合はパブリックで引数なしのコンストラクタを通してインスタンス化されます。例えば <code>class:com.mycompany.MyClass</code> .</p>
</li>
<li>
<p>組み込み実装を参照する任意の文字列。
利用可能な値については、各設定プロパティーのドキュメントに詳細が記載されています 
(<a href="#quarkus-hibernate-search-orm-elasticsearch_quarkus-hibernate-search-orm-indexing-plan-synchronization-strategy"><code>quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy</code></a>
 の <code>async</code>/<code>read-sync</code>/<code>write-sync</code>/<code>sync</code> など)。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>他の形式も認められていますが、高度なユースケースでのみ有用です。
詳細は、<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#configuration-bean-reference-parsing">Hibernate Searchの参照ドキュメントのこちらのセクション</a> 
を参照してください。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="configuration-reference-coordination-outbox-polling"><a class="anchor" href="#configuration-reference-coordination-outbox-polling"></a>アウトボックスポーリングとの連携の設定</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
これらの設定プロパティには、追加のエクステンションが必要です。 <a href="#coordination">アウトボックスポーリングによる調整</a> を参照してください。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="ビルド時に固定"></i></span> ビルド時に固定される設定プロパティ - 他のすべての設定プロパティは、実行時にオーバーライド可能 <input type="search" id="config-search-1" placeholder="FILTER CONFIGURATION" disabled></p>
</div>
<table class="tableblock frame-all grid-all stretch configuration-reference searchable configuration-reference-all-rows">
<colgroup>
<col style="width: 80%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><span class="header-title">Configuration property</span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-enabled"><code>quarkus.hibernate-search-orm.coordination.event-processor.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.enabled</code></p>
</div>
<div id="conf-collapsible-desc-45" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether the event processor is enabled,
i.e. whether events will be processed to perform automatic reindexing on this instance of the application.</p>
</div>
<div class="paragraph">
<p>This can be set to <code>false</code> to disable event processing on some application nodes,
for example to dedicate some nodes to HTTP request processing and other nodes to event processing.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29430">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29430" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-total-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-total-count"><code>quarkus.hibernate-search-orm.coordination.event-processor.shards.total-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.shards.total-count</code></p>
</div>
<div id="conf-collapsible-desc-46" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The total number of shards that will form a partition of the entity change events to process.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the assigned shards (see <code>shards.assigned</code>)
is necessary.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29431">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_SHARDS_TOTAL_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29431" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-assigned"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-shards-assigned"><code>quarkus.hibernate-search-orm.coordination.event-processor.shards.assigned</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.shards.assigned</code></p>
</div>
<div id="conf-collapsible-desc-47" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Among shards that will form a partition of the entity change events,
the shards that will be processed by this application instance.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the total shard count
is necessary.</p>
</div>
<div class="paragraph">
<p>Shards are referred to by an index in the range <code>[0, total_count - 1]</code> (see <code>shards.total-count</code>).
A given application node must be assigned at least one shard but may be assigned multiple shards
by setting <code>shards.assigned</code> to a comma-separated list, e.g. <code>0,3</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29432">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_SHARDS_ASSIGNED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29432" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-polling-interval"><code>quarkus.hibernate-search-orm.coordination.event-processor.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-48" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the outbox events table after a query didn’t return any event.</p>
</div>
<div class="paragraph">
<p>Lower values will reduce the time it takes for a change to be reflected in the index,
but will increase the stress on the database when there are no new events.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29433">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29433" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.event-processor.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-49" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor can poll for events before it must perform a "pulse",
updating and checking registrations in the agents table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean less time wasted not processing events
when a node joins or leaves the cluster,
and reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but more stress on the database because of more frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean more time wasted not processing events
when a node joins or leaves the cluster,
and increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but less stress on the database because of less frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29434">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29434" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.event-processor.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-50" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29435">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29435" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-batch-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-batch-size"><code>quarkus.hibernate-search-orm.coordination.event-processor.batch-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.batch-size</code></p>
</div>
<div id="conf-collapsible-desc-51" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How many outbox events, at most, are processed in a single transaction.</p>
</div>
<div class="paragraph">
<p>Higher values will reduce the number of transactions opened by the background process
and may increase performance thanks to the first-level cache (persistence context),
but will increase memory usage and in extreme cases may lead to <code>OutOfMemoryError</code>s.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29436">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_BATCH_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29436" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>50</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-transaction-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-transaction-timeout"><code>quarkus.hibernate-search-orm.coordination.event-processor.transaction-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.transaction-timeout</code></p>
</div>
<div id="conf-collapsible-desc-52" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout for transactions processing outbox events.</p>
</div>
<div class="paragraph">
<p>When this property is not set,
Hibernate Search will use whatever default transaction timeout is configured in the JTA transaction manager,
which may be too low for batch processing and lead to transaction timeouts when processing batches of events.
If this happens, set a higher transaction timeout for event processing using this property.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29437">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_TRANSACTION_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29437" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-retry-delay"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-event-processor-retry-delay"><code>quarkus.hibernate-search-orm.coordination.event-processor.retry-delay</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.event-processor.retry-delay</code></p>
</div>
<div id="conf-collapsible-desc-53" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor must wait before re-processing an event after its previous processing failed.</p>
</div>
<div class="paragraph">
<p>Use the value <code>0S</code> to reprocess failed events as soon as possible, with no delay.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29438">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_EVENT_PROCESSOR_RETRY_DELAY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29438" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-polling-interval"><code>quarkus.hibernate-search-orm.coordination.mass-indexer.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.mass-indexer.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-54" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the agent table
when actively waiting for event processors to suspend themselves.</p>
</div>
<div class="paragraph">
<p>Low values will reduce the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will increase the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>High values will increase the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will reduce the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29439">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_MASS_INDEXER_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29439" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.mass-indexer.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.mass-indexer.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-55" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the mass indexer can wait before it must perform a "pulse",
updating and checking registrations in the agent table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean reduced risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but more stress on the database because of more frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean increased risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but less stress on the database because of less frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29440">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_MASS_INDEXER_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29440" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-mass-indexer-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.mass-indexer.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.mass-indexer.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-56" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but increased risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but reduced risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29441">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_MASS_INDEXER_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29441" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm">Configuration for persistence units</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-entity-mapping"></a> <span class="section-name section-level1"><a href="#quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-entity-mapping">Configuration for the mapping of entities used for outbox-polling coordination</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-catalog"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.catalog</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.catalog</code></p>
</div>
<div id="conf-collapsible-desc-57" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The database catalog to use for the agent table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29442">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_CATALOG</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29442" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default catalog configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-schema"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.schema</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.schema</code></p>
</div>
<div id="conf-collapsible-desc-58" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The schema catalog to use for the agent table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29443">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_SCHEMA</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29443" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default catalog configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-table"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.table</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.table</code></p>
</div>
<div id="conf-collapsible-desc-59" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the agent table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29444">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_TABLE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29444" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>HSEARCH_AGENT</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-gen-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-gen-strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.uuid-gen-strategy</code></p>
</div>
<div id="conf-collapsible-desc-60" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The UUID generator strategy used for the agent table.</p>
</div>
<div class="paragraph">
<p>Available strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auto</code> (the default) is the same as <code>random</code> which uses <code>UUID#randomUUID()</code>.</p>
</li>
<li>
<p><code>time</code> is an IP based strategy consistent with IETF RFC 4122.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29445">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_UUID_GEN_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29445" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>auto</code>, <code>random</code>, <code>time</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>auto</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-type"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-agent-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.agent.uuid-type</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.agent.uuid-type</code></p>
</div>
<div id="conf-collapsible-desc-61" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the Hibernate ORM basic type used for representing an UUID in the outbox event table.</p>
</div>
<div class="paragraph">
<p>Refer to
<a href="https://docs.jboss.org/hibernate/orm/6.6/userguide/html_single/Hibernate_User_Guide.html#basic-uuid">this section of the Hibernate ORM documentation</a>
to see the possible UUID representations.</p>
</div>
<div class="paragraph">
<p>Defaults to the special value <code>default</code>, which will result into one of <code>char</code>/<code>binary</code>
depending on the database kind.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29446">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_AGENT_UUID_TYPE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29446" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>char/binary depending on the database kind</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-catalog"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-catalog"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.catalog</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.catalog</code></p>
</div>
<div id="conf-collapsible-desc-62" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The database catalog to use for the outbox event table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29447">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_CATALOG</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29447" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default catalog configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-schema"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-schema"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.schema</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.schema</code></p>
</div>
<div id="conf-collapsible-desc-63" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The schema catalog to use for the outbox event table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29448">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_SCHEMA</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29448" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>Default schema configured in Hibernate ORM</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-table"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-table"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.table</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.table</code></p>
</div>
<div id="conf-collapsible-desc-64" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the outbox event table.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29449">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_TABLE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29449" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>HSEARCH_OUTBOX_EVENT</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-gen-strategy"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-gen-strategy"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-gen-strategy</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.uuid-gen-strategy</code></p>
</div>
<div id="conf-collapsible-desc-65" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The UUID generator strategy used for the outbox event table.</p>
</div>
<div class="paragraph">
<p>Available strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>auto</code> (the default) is the same as <code>random</code> which uses <code>UUID#randomUUID()</code>.</p>
</li>
<li>
<p><code>time</code> is an IP based strategy consistent with IETF RFC 4122.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29450">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_UUID_GEN_STRATEGY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29450" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="paragraph">
<p><code>auto</code>, <code>random</code>, <code>time</code></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>auto</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="icon"><i class="fa fa-lock" title="Fixed at build time"></i></span> <a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-type"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-entity-mapping-outbox-event-uuid-type"><code>quarkus.hibernate-search-orm.coordination.entity-mapping.outbox-event.uuid-type</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.entity-mapping.outbox-event.uuid-type</code></p>
</div>
<div id="conf-collapsible-desc-66" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The name of the Hibernate ORM basic type used for representing an UUID in the outbox event table.</p>
</div>
<div class="paragraph">
<p>Refer to
<a href="https://docs.jboss.org/hibernate/orm/6.6/userguide/html_single/Hibernate_User_Guide.html#basic-uuid">this section of the Hibernate ORM documentation</a>
to see the possible UUID representations.</p>
</div>
<div class="paragraph">
<p>Defaults to the special value <code>default</code>, which will result into one of <code>char</code>/<code>binary</code>
depending on the database kind.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29451">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_ENTITY_MAPPING_OUTBOX_EVENT_UUID_TYPE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29451" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>char/binary depending on the database kind</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock"><a id="quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-tenants"></a> <span class="section-name section-level0"><a href="#quarkus-hibernate-search-orm-outbox-polling_section_quarkus-hibernate-search-orm-coordination-tenants">Per-tenant configuration overrides</a></span></p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">タイプ</p></th>
<th class="tableblock halign-left valign-middle"><p class="tableblock">デフォルト</p></th>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-enabled"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-enabled"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.enabled</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.enabled</code></p>
</div>
<div id="conf-collapsible-desc-67" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Whether the event processor is enabled,
i.e. whether events will be processed to perform automatic reindexing on this instance of the application.</p>
</div>
<div class="paragraph">
<p>This can be set to <code>false</code> to disable event processing on some application nodes,
for example to dedicate some nodes to HTTP request processing and other nodes to event processing.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29452">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_ENABLED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29452" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-total-count"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-total-count"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.shards.total-count</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.shards.total-count</code></p>
</div>
<div id="conf-collapsible-desc-68" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The total number of shards that will form a partition of the entity change events to process.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the assigned shards (see <code>shards.assigned</code>)
is necessary.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29453">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_SHARDS_TOTAL_COUNT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29453" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-assigned"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-shards-assigned"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.shards.assigned</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.shards.assigned</code></p>
</div>
<div id="conf-collapsible-desc-69" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>Among shards that will form a partition of the entity change events,
the shards that will be processed by this application instance.</p>
</div>
<div class="paragraph">
<p>By default, sharding is dynamic and setting this property is not necessary.</p>
</div>
<div class="paragraph">
<p>If you want to control explicitly the number and assignment of shards,
you must configure static sharding and then setting this property as well as the total shard count
is necessary.</p>
</div>
<div class="paragraph">
<p>Shards are referred to by an index in the range <code>[0, total_count - 1]</code> (see <code>shards.total-count</code>).
A given application node must be assigned at least one shard but may be assigned multiple shards
by setting <code>shards.assigned</code> to a comma-separated list, e.g. <code>0,3</code>.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor-sharding">this section of the reference documentation</a>
for more information about event processor sharding.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29454">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_SHARDS_ASSIGNED</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29454" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">list of int</p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-polling-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-70" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the outbox events table after a query didn’t return any event.</p>
</div>
<div class="paragraph">
<p>Lower values will reduce the time it takes for a change to be reflected in the index,
but will increase the stress on the database when there are no new events.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29455">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29455" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-71" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor can poll for events before it must perform a "pulse",
updating and checking registrations in the agents table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean less time wasted not processing events
when a node joins or leaves the cluster,
and reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but more stress on the database because of more frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean more time wasted not processing events
when a node joins or leaves the cluster,
and increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected,
but less stress on the database because of less frequent checks of the list of agents.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29456">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29456" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-72" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but increased risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted not processing events
when a node abruptly leaves the cluster due to a crash or network failure,
but reduced risk of wasting time not processing events
because an event processor is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29457">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29457" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-batch-size"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-batch-size"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.batch-size</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.batch-size</code></p>
</div>
<div id="conf-collapsible-desc-73" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How many outbox events, at most, are processed in a single transaction.</p>
</div>
<div class="paragraph">
<p>Higher values will reduce the number of transactions opened by the background process
and may increase performance thanks to the first-level cache (persistence context),
but will increase memory usage and in extreme cases may lead to <code>OutOfMemoryError</code>s.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29458">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_BATCH_SIZE</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29458" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>50</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-transaction-timeout"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-transaction-timeout"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.transaction-timeout</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.transaction-timeout</code></p>
</div>
<div id="conf-collapsible-desc-74" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>The timeout for transactions processing outbox events.</p>
</div>
<div class="paragraph">
<p>When this property is not set,
Hibernate Search will use whatever default transaction timeout is configured in the JTA transaction manager,
which may be too low for batch processing and lead to transaction timeouts when processing batches of events.
If this happens, set a higher transaction timeout for event processing using this property.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29459">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_TRANSACTION_TIMEOUT</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29459" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-retry-delay"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-event-processor-retry-delay"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".event-processor.retry-delay</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".event-processor.retry-delay</code></p>
</div>
<div id="conf-collapsible-desc-75" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the event processor must wait before re-processing an event after its previous processing failed.</p>
</div>
<div class="paragraph">
<p>Use the value <code>0S</code> to reprocess failed events as soon as possible, with no delay.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-event-processor">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29460">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__EVENT_PROCESSOR_RETRY_DELAY</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29460" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-polling-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-polling-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".mass-indexer.polling-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".mass-indexer.polling-interval</code></p>
</div>
<div id="conf-collapsible-desc-76" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long to wait for another query to the agent table
when actively waiting for event processors to suspend themselves.</p>
</div>
<div class="paragraph">
<p>Low values will reduce the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will increase the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>High values will increase the time it takes for the mass indexer agent to detect
that event processors finally suspended themselves,
but will reduce the stress on the database while the mass indexer agent is actively waiting.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29461">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__MASS_INDEXER_POLLING_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29461" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>0.100S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden odd">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-interval"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-interval"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".mass-indexer.pulse-interval</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".mass-indexer.pulse-interval</code></p>
</div>
<div id="conf-collapsible-desc-77" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long the mass indexer can wait before it must perform a "pulse",
updating and checking registrations in the agent table.</p>
</div>
<div class="paragraph">
<p>The pulse interval must be set to a value between the polling interval
and one third (1/3) of the expiration interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the polling interval) mean reduced risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but more stress on the database because of more frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>High values (closer to the expiration interval) mean increased risk of
event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected,
but less stress on the database because of less frequent updates of the mass indexer agent&#8217;s entry in the agent table.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29462">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__MASS_INDEXER_PULSE_INTERVAL</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29462" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>2S</code></p></td>
</tr>
<tr class="row-collapsible row-collapsed row-with-desc row-hidden">
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a id="quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-expiration"></a> <span class="property-path"><a href="#quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm-coordination-tenants-tenant-id-mass-indexer-pulse-expiration"><code>quarkus.hibernate-search-orm.coordination.tenants."tenant-id".mass-indexer.pulse-expiration</code></a></span></p>
</div>
<div class="paragraph">
<p><code>quarkus.hibernate-search-orm."persistence-unit-name".coordination.tenants."tenant-id".mass-indexer.pulse-expiration</code></p>
</div>
<div id="conf-collapsible-desc-78" class="openblock description description-collapsed">
<div class="content">
<div class="paragraph">
<p>How long an event processor "pulse" remains valid before considering the processor disconnected
and forcibly removing it from the cluster.</p>
</div>
<div class="paragraph">
<p>The expiration interval must be set to a value at least 3 times larger than the pulse interval.</p>
</div>
<div class="paragraph">
<p>Low values (closer to the pulse interval) mean less time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but increased risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>High values (much larger than the pulse interval) mean more time wasted with event processors not processing events
when a mass indexer agent terminates due to a crash,
but reduced risk of event processors starting to process events again during mass indexing
because a mass indexer agent is incorrectly considered disconnected.</p>
</div>
<div class="paragraph">
<p>See
<a href="https://docs.jboss.org/hibernate/search/7.2/reference/en-US/html_single/#coordination-outbox-polling-mass-indexer">this section of the reference documentation</a>
for more information.</p>
</div>
<div class="paragraph">
<p>Environment variable: <code id="env-var-29463">QUARKUS_HIBERNATE_SEARCH_ORM_COORDINATION_TENANTS__TENANT_ID__MASS_INDEXER_PULSE_EXPIRATION</code><button class="btn-copy fa fa-clipboard inline-btn-copy" data-clipboard-action="copy" data-clipboard-target="#env-var-29463" title="Copy to clipboard" do-not-collapse="true"></button></p>
</div>
</div>
</div>
<div class="paragraph description-decoration">
<p><i class="fa fa-chevron-down"></i><span>Show more</span></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html">Duration</a> <a href="#duration-note-anchor-{summaryTableId}"><span class="icon"><i class="fa fa-question-circle" title="More information about the Duration format"></i></span></a></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>30S</code></p></td>
</tr>
</tbody>
</table>
<div id="duration-note-anchor-quarkus-hibernate-search-orm-outbox-polling_quarkus-hibernate-search-orm" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">期間フォーマットについて</div>
<div class="paragraph">
<p>期間の値を書くには、標準の <code>java.time.Duration</code> フォーマットを使います。
詳細は <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#parse(java.lang.CharSequence)">Duration#parse() Java API documentation</a> を参照してください。</p>
</div>
<div class="paragraph">
<p>数字で始まる簡略化した書式を使うこともできます:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値のみの場合は、秒単位の時間を表します。</p>
</li>
<li>
<p>数値の後に <code>ms</code> が続く場合は、ミリ秒単位の時間を表します。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>その他の場合は、簡略化されたフォーマットが解析のために <code>java.time.Duration</code> フォーマットに変換されます：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>数値の後に <code>h</code> 、 <code>m</code> 、 <code>s</code> が続く場合は、その前に <code>PT</code> が付けられます。</p>
</li>
<li>
<p>数値の後に <code>d</code> が続く場合は、その前に <code>P</code> が付けられます。</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
    </div>
    <div class="grid__item width-4-12 width-12-12-m tocwrapper">
      <div class="hide-mobile toc"><ul class="sectlevel1">
<li><a href="#prerequisites">前提条件</a></li>
<li><a href="#architecture">アーキテクチャ</a></li>
<li><a href="#solution">ソリューション</a></li>
<li><a href="#creating-the-maven-project">Mavenプロジェクトの作成</a></li>
<li><a href="#creating-the-bare-entities">ベアエンティティーの作成</a></li>
<li><a href="#initializing-the-rest-service">RESTサービスの初期化</a></li>
<li><a href="#using-hibernate-search-annotations">Hibernate Searchアノテーションの使用</a></li>
<li><a href="#analyzers-and-normalizers">アナライザーとノーマライザー</a>
<ul class="sectlevel2">
<li><a href="#introduction">はじめに</a></li>
<li><a href="#defining-the-analyzers-used">使用するアナライザーの定義</a></li>
<li><a href="#analysis-configurer">アナライザーのセットアップ</a></li>
</ul>
</li>
<li><a href="#adding-full-text-capabilities-to-our-rest-service">RESTサービスに全文検索機能を追加</a></li>
<li><a href="#automatic-import-script">データの自動初期化</a></li>
<li><a href="#configuring-the-application">アプリケーションの設定</a></li>
<li><a href="#creating-a-frontend">フロントエンドの作成</a></li>
<li><a href="#time-to-play-with-your-application">アプリケーションで遊ぶ時間</a></li>
<li><a href="#building-a-native-executable">ネイティブ実行可能ファイルの構築</a></li>
<li><a href="#dev-services">開発サービス (設定不要のデータストア)</a></li>
<li><a href="#programmatic-mapping">プログラムによるマッピング</a></li>
<li><a href="#opensearch">OpenSearch対応</a></li>
<li><a href="#multiple-persistence-units">複数の永続性ユニット</a>
<ul class="sectlevel2">
<li><a href="#configuring-multiple-persistence-units">複数の永続化ユニットを設定</a></li>
<li><a href="#multiple-persistence-units-attaching-model-classes">モデルクラスを永続化ユニットにアタッチする</a></li>
</ul>
</li>
<li><a href="#multiple-persistence-units-attaching-cdi">CDI統合</a>
<ul class="sectlevel2">
<li><a href="#injecting-entry-points">エントリーポイントの注入</a></li>
<li><a href="#plugging-in-custom-components">カスタムコンポーネントのプラグイン</a></li>
</ul>
</li>
<li><a href="#offline-startup">オフライン起動</a></li>
<li><a href="#coordination">アウトボックスポーリングによる調整</a></li>
<li><a href="#aws-request-signing"> AWSのリクエストの署名</a></li>
<li><a href="#management">管理エンドポイント</a></li>
<li><a href="#further-reading">さらに詳しく</a></li>
<li><a href="#faq">FAQ</a>
<ul class="sectlevel2">
<li><a href="#why-elasticsearch-only">なぜElasticsearchだけなのか?</a></li>
</ul>
</li>
<li><a href="#configuration-reference">Hibernate ORM を使用する Hibernate Search の設定リファレンス</a>
<ul class="sectlevel2">
<li><a href="#configuration-reference-main">主な構成</a></li>
<li><a href="#configuration-reference-coordination-outbox-polling">アウトボックスポーリングとの連携の設定</a></li>
</ul>
</li>
</ul></div>
    </div>
  </div>
  <h2>関連コンテンツ</h2>
  <div class="grid-wrapper relations">
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>同じエクステンションについて</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      </ul>
    </div>
    <div class="grid__item width-6-12 width-12-12-m">
      <h3>同じトピックについて</h3>
      <ul class="related-content">
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-search-standalone-elasticsearch">Elasticsearch/OpenSearch を使用する Standalone モードでの Hibernate Search の使用</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch">Elasticsearchクラスターの実行</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/elasticsearch-dev-services">Dev Services for Elasticsearch</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/redis-dev-services">Dev Services for Redis</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/rest-data-panache">PanacheでJakarta RESTリソースを生成する</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/redis-reference">Redis エクステンションのリファレンスガイド</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-orm-panache">Simplified Hibernate ORM with Panache</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-orm-panache-kotlin">Simplified Hibernate ORM with PanacheとKotlin</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/mongodb-panache">シンプルになったMongoDB with Panache</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/mongodb-panache-kotlin">シンプルになったMongoDB with PanacheとKotlin</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/hibernate-orm">Hibernate ORMとJakarta Persistenceの使用</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/mongodb">MongoDB クライアントの利用</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/redis">Redisクライアントの使用</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/cache">アプリケーションデータのキャッシング</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/datasource">Quarkusでデータソースを設定</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/databases-dev-services">Dev Services for Databases</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/infinispan-dev-services">Dev Services for Infinispan</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/cache-infinispan-reference">Infinispan キャッシュ</a></li>
      
        
        <li class="reference"><a href="/version/3.15/guides/infinispan-client-reference">Infinispanクライアントエクステンションリファレンスガイド</a></li>
      
        
        <li class="guide"><a href="/version/3.15/guides/lra">Narayana LRA 参加者サポート</a></li>
      </ul>
    </div>
    </div>
  </div>

  </div>

  <div class="content project-footer">
  <div class="footer-section">
    <div class="logo-wrapper">
      <a href="/"><img src="/assets/images/quarkus_logo_horizontal_rgb_reverse.svg" class="project-logo" title="Quarkus"></a>
    </div>
  </div>
  <div class="grid-wrapper">
    <p class="grid__item width-3-12">Quarkus is open. All dependencies of this project are available under the <a href='https://www.apache.org/licenses/LICENSE-2.0' target='_blank'>Apache Software License 2.0</a> or compatible license. <i class='fab fa-creative-commons'></i><i class='fab fa-creative-commons-by'></i> <a href='https://creativecommons.org/licenses/by/3.0/' target='_blank'>CC by 3.0</a><br /><br />This website was built with <a href='https://jekyllrb.com/' target='_blank'>Jekyll</a>, is hosted on <a href='https://pages.github.com/' target='_blank'>GitHub Pages</a> and is completely open source. If you want to make it better, <a href='https://github.com/quarkusio/quarkusio.github.io' target='_blank'>fork the website</a> and show us what you’ve got.</p>

    
      <div class="width-1-12 project-links">
        <span>ナビゲーション</span>
        <ul class="footer-links">
          
          
            <li><a href="/" target="_blank">ホーム</a></li>
          
          
          
            <li><a href="/about" target="_blank">Quarkusについて</a></li>
          
          
          
            <li><a href="/blog" target="_blank">ブログ</a></li>
          
          
          
            <li><a href="/insights" target="_blank">ポッドキャスト</a></li>
          
          
          
            <li><a href="/events" target="_blank">イベント</a></li>
          
          
          
            <li><a href="/newsletter" target="_blank">ニュースレター</a></li>
          
          
          
            <li><a href="/userstories" target="_blank">ユーザーストーリー</a></li>
          
          
          
            <li><a href="https://github.com/orgs/quarkusio/projects/13/views/1" target="_blank">ロードマップ</a></li>
          
          
          
            <li><a href="/security" target="_blank">セキュリティ&nbsp;ポリシー</a></li>
          
          
          
            <li><a href="/usage" target="_blank">使用方法</a></li>
          
          
          
            <li><a href="/brand" target="_blank">Brand</a></li>
          
          
          
            <li><a href="/desktopwallpapers" target="_blank">Wallpapers</a></li>
          
          
          
            <li><a href="https://www.redhat.com/en/about/privacy-policy" target="_blank">Privacy Policy</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>フォローする</span>
        <ul class="footer-links">
          
          
            <li><a href="https://x.com/quarkusio" target="_blank">X</a></li>
          
          
          
            <li><a href="https://bsky.app/profile/quarkus.io" target="_blank">Bluesky</a></li>
          
          
          
            <li><a rel="me" href="https://fosstodon.org/@quarkusio" target="_blank">Mastodon</a></li>
            
          
          
            <li><a href="https://www.threads.com/@quarkusio" target="_blank">Threads</a></li>
          
          
          
            <li><a href="https://www.facebook.com/quarkusio" target="_blank">Facebook</a></li>
          
          
          
            <li><a href="https://www.linkedin.com/company/quarkusio/" target="_blank">Linkedin</a></li>
          
          
          
            <li><a href="https://www.youtube.com/channel/UCaW8QG_QoIk_FnjLgr5eOqg" target="_blank">Youtube</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio" target="_blank">GitHub</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-2-12 project-links">
        <span>ヘルプ</span>
        <ul class="footer-links">
          
          
            <li><a href="/support" target="_blank">サポート</a></li>
          
          
          
            <li><a href="/guides" target="_blank">ガイド</a></li>
          
          
          
            <li><a href="/faq" target="_blank">FAQ</a></li>
          
          
          
            <li><a href="/get-started" target="_blank">入門</a></li>
          
          
          
            <li><a href="https://stackoverflow.com/questions/tagged/quarkus" target="_blank">Stack Overflow</a></li>
          
          
          
            <li><a href="https://github.com/quarkusio/quarkus/discussions" target="_blank">ディスカッション</a></li>
          
          
          
            <li><a href="https://groups.google.com/forum/#!forum/quarkus-dev" target="_blank">開発メーリングリスト</a></li>
          
          
          
            <li><a href="https://stats.uptimerobot.com/ze1PfweT2p" target="_blank">Quarkus Service Status</a></li>
          
          
        </ul>
      </div>
    
      <div class="width-1-12 project-links">
        <span>言語</span>
        <ul class="footer-links">
          
          
            <li><a href=" https://quarkus.io/ " target="_blank">English</a></li>
          
          
          
            <li><a href="https://pt.quarkus.io/" target="_blank">Português&nbsp;(Brasileiro)</a></li>
          
          
          
            <li><a href=" https://es.quarkus.io/ " target="_blank">Español</a></li>
          
          
          
            <li><a href="https://cn.quarkus.io/" target="_blank">简体中文</a></li>
          
          
          
            <li><a href=" https://ja.quarkus.io/ " target="_blank">日本語</a></li>
          
          
        </ul>
      </div>
    

    
      <div class="width-4-12 more-links">
        <span>Quarkusはコミュニティプロジェクトで構成されています</span>
        <ul class="footer-links">
          
            <li><a blah href="https://vertx.io/" target="_blank">Eclipse Vert.x</a></li>
          
            <li><a blah href="https://smallrye.io" target="_blank">SmallRye</a></li>
          
            <li><a blah href="https://hibernate.org" target="_blank">Hibernate ORM</a></li>
          
            <li><a blah href="https://netty.io" target="_blank">Netty</a></li>
          
            <li><a blah href="https://resteasy.github.io" target="_blank">RESTEasy</a></li>
          
            <li><a blah href="https://camel.apache.org" target="_blank">Apache Camel</a></li>
          
            <li><a blah href="https://microprofile.io" target="_blank">Eclipse MicroProfile</a></li>
          
            <li><a blah href="https://code.quarkus.io/" target="_blank">その他多数...</a></li>
          
        </ul>
      </div>
    
  </div>
</div>

  <div class="content cf-footer">
  <div class="flexcontainer">
    <div class="cf-logo">
      <a class="cf-logo" href="https://www.commonhaus.org/" target="_blank"><img src="https://raw.githubusercontent.com/commonhaus/artwork/main/foundation/brand/svg/CF_logo_horizontal_single_reverse.svg"/></a>
    </div>
    <div class="license">
      Copyright © Quarkus. All rights reserved. For details on our trademarks, please visit our <a href="https://www.commonhaus.org/policies/trademark-policy/">Trademark Policy</a> and <a href="https://www.commonhaus.org/trademarks/">Trademark List</a>. Trademarks of third parties are owned by their respective holders and their mention here does not suggest any endorsement or association.
    </div>
  </div>
</div>


  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/assets/javascript/mobile-nav.js"></script>
  <script type="text/javascript" src="/assets/javascript/scroll-down.js"></script>
  <script src="/assets/javascript/satellite.js" type="text/javascript"></script>
  <script src="/guides/javascript/config.js" type="text/javascript"></script>
  <script src="/assets/javascript/guides-version-dropdown.js" type="text/javascript"></script>
  <script src="/assets/javascript/back-to-top.js" type="text/javascript"></script>
  <script src="/assets/javascript/clipboard.min.js" type="text/javascript"></script>
  <script src="/assets/javascript/copy.js" type="text/javascript"></script>
  <script src="/assets/javascript/asciidoc-tabs.js" type="text/javascript"></script>
  <script src="/assets/javascript/future-date.js" type="text/javascript"></script>
  <script src="/assets/javascript/randomize.js" type="text/javascript"></script>
  <script src="/assets/javascript/time.js" type="text/javascript"></script>
</body>

</html>
