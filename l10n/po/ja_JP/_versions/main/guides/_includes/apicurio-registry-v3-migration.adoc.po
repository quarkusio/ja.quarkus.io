msgid ""
msgstr ""
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: jekyll-l10n\n"

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Apicurio Registry V3 Migration"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Migrating from Apicurio Registry 2.x to 3.x"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"Apicurio Registry 3.x introduces a **breaking change in schema ID format** from 8-byte (long) to 4-byte (int) identifiers.\n"
"This affects message compatibility between v2 and v3 producers/consumers."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Schema ID Format Change"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"Apicurio Registry 3.x changed the schema ID format from **8-byte (long)** to **4-byte (int)** identifiers.\n"
"This means messages produced with v2 cannot be consumed by v3 applications (and vice versa) without explicit configuration."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Migration Scenarios"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**New applications (no existing v2 messages):** No configuration needed. The v3 defaults will be used automatically."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Consuming existing v2 messages:** Configure the `Legacy8ByteIdHandler` for channels that need to read v2-produced messages:"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Producing v2-compatible messages:** If downstream consumers still use v2, configure the producer:"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Standard ID Handlers: Fixed Format"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"Both v2 (8-byte) and v3 (4-byte) formats use the same magic byte.\n"
"The standard ID handlers (`Legacy8ByteIdHandler` and `Default4ByteIdHandler`) read a fixed number of bytes based on configuration—there is no per-message auto-detection."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"If a single topic contains mixed messages (some with 8-byte IDs, some with 4-byte IDs), consumers using standard ID handlers will fail.\n"
"A consumer configured with `Legacy8ByteIdHandler` always reads 8 bytes; one with `Default4ByteIdHandler` always reads 4 bytes.\n"
"Mismatches cause corruption or deserialization errors."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**With standard ID handlers, gradual migration only works when:**"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Each topic has messages in ONE format (either v2 or v3, not both)"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Per-channel configuration routes each topic to the correct ID handler"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "You can have producers and consumers using both formats in the same Apicurio Registry instance, but not mixing them in the same topic."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "For topics with mixed v2/v3 messages, consider using the `OptimisticFallbackIdHandler` described in the <<Optimistic Fallback ID Handler>> section."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Migration Paths for Topics with Existing v2 Messages"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "For topics that already contain v2 messages, valid migration approaches are:"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Stop and drain:** Stop producers → drain topic completely → upgrade all services → restart with v3 configuration"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**New topic migration:** Create a new v3 topic and migrate traffic to it"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Accept transient failures:** Accept transient failures during the switchover period"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Optimistic fallback handler:** Use the `OptimisticFallbackIdHandler` for gradual migration (see below)"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Optimistic Fallback ID Handler"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"Apicurio Registry provides an `OptimisticFallbackIdHandler` that can help with gradual migration from v2 to v3.\n"
"This handler:"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Writes** new messages with 4-byte (v3) IDs"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "**Reads** both 4-byte (v3) and 8-byte (v2) IDs"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"The `OptimisticFallbackIdHandler` makes the following assumption to distinguish between 4-byte and 8-byte IDs: schema IDs are greater than 0 and smaller than the maximum integer value.\n"
"This is typically true for most use cases, but you should verify your schema IDs meet this constraint before using this handler."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "This approach enables a gradual migration where:"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Upgrade consumers first with `OptimisticFallbackIdHandler` (they can read both v2 and v3 messages)"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Then upgrade producers (they start writing v3 format)"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Once all v2 messages are consumed, optionally switch to `Default4ByteIdHandler`"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Compatibility with Apicurio Registry 2.x Server"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid ""
"The Apicurio Registry 3.x client libraries continue to work with Apicurio Registry 2.x servers.\n"
"However, note that Apicurio Registry 2.x is no longer actively maintained."
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "Additional Resources"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "https://www.apicur.io/registry/docs/apicurio-registry/3.0.x/index.html[Apicurio Registry 3.x Documentation]"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "https://www.apicur.io/registry/docs/apicurio-registry/3.1.x/getting-started/assembly-migrating-registry-v2-v3.html[Apicurio Registry Deployment Migration Guide]"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "https://www.apicur.io/blog/2025/03/30/migrate-registry-2-to-3[Official Apicurio Migration Guide]"
msgstr ""

#: _versions/main/guides/_includes/apicurio-registry-v3-migration.adoc
msgid "https://www.apicur.io/blog/2025/04/03/evolving-serialization[Apicurio SerDes Evolution Blog Post]"
msgstr ""
