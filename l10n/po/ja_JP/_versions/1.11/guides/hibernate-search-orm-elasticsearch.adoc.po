# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2021-03-03 20:10+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/master/docs/src/main/asciidoc
#. type: Title =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:6
#, no-wrap
msgid "Quarkus - Hibernate Search guide"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:11
msgid "You have a Hibernate ORM-based application? You want to provide a full-featured full-text search to your users? You're at the right place."
msgstr "Hibernate ORMベースのアプリケーションをお持ちですか?フル機能のフルテキスト検索をユーザーに提供したいですか?あなたは正しい場所にいます。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:14
msgid "With this guide, you'll learn how to synchronize your entities to an Elasticsearch cluster in a heart beat with Hibernate Search.  We will also explore how you can can query your Elasticsearch cluster using the Hibernate Search API."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:15
#, no-wrap
msgid "Prerequisites"
msgstr "前提条件"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:18
msgid "To complete this guide, you need:"
msgstr "このガイドを完成させるには、以下が必要です:"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:20
msgid "less than 20 minutes"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:21
msgid "an IDE"
msgstr "IDE"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:22
msgid "JDK 1.8+ installed with `JAVA_HOME` configured appropriately"
msgstr "JDK 1.8+ がインストールされ、 `JAVA_HOME`  が適切に設定されていること"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:23
msgid "Apache Maven {maven-version}"
msgstr "Apache Maven {maven-version}"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:24
msgid "Docker"
msgstr "Docker"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:25
msgid "link:building-native-image[GraalVM installed if you want to run in native mode]"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:26
#, no-wrap
msgid "Architecture"
msgstr "アーキテクチャ"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:29
msgid "The application described in this guide allows to manage a (simple) library: you manage authors and their books."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:31
msgid "The entities are stored in a PostgreSQL database and indexed in an Elasticsearch cluster."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:32
msgid "Solution"
msgstr "ソリューション"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:36
msgid "We recommend that you follow the instructions in the next sections and create the application step by step.  However, you can go right to the completed example."
msgstr "次の章で紹介する手順に沿って、ステップを踏んでアプリを作成することをお勧めします。ただし、完成した例にそのまま進んでも構いません。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:38
msgid "Clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]."
msgstr "Gitレポジトリをクローンするか `git clone {quickstarts-clone-url}` 、 {quickstarts-archive-url}[アーカイブ] をダウンロードします。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:40
msgid "The solution is located in the `hibernate-search-orm-elasticsearch-quickstart` {quickstarts-tree-url}/hibernate-search-orm-elasticsearch-quickstart[directory]."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:44
msgid "The provided solution contains a few additional elements such as tests and testing infrastructure."
msgstr "提供されるソリューションには、テストやテストのインフラストラクチャなど、いくつかの追加要素が含まれています。"

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:46
#, no-wrap
msgid "Creating the Maven project"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:49
msgid "First, we need a new project. Create a new project with the following command:"
msgstr "まず、新しいプロジェクトが必要です。以下のコマンドで新規プロジェクトを作成します。"

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:59
#, no-wrap
msgid ""
"mvn io.quarkus:quarkus-maven-plugin:{quarkus-version}:create \\\n"
"    -DprojectGroupId=org.acme \\\n"
"    -DprojectArtifactId=hibernate-search-orm-elasticsearch-quickstart \\\n"
"    -DclassName=\"org.acme.hibernate.search.elasticsearch.LibraryResource\" \\\n"
"    -Dpath=\"/library\" \\\n"
"    -Dextensions=\"resteasy,hibernate-orm-panache,hibernate-search-orm-elasticsearch,resteasy-jackson,jdbc-postgresql\"\n"
"cd hibernate-search-orm-elasticsearch-quickstart\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:62
msgid "This command generates a Maven structure importing the following extensions:"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:64
msgid "Hibernate ORM with Panache,"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:65
msgid "the PostgreSQL JDBC driver,"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:66
msgid "Hibernate Search + Elasticsearch,"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:67
msgid "RESTEasy and Jackson."
msgstr "RESTEasyとJackson。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:70
msgid "If you already have your Quarkus project configured, you can add the `hibernate-search-orm-elasticsearch` extension to your project by running the following command in your project base directory:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:74
#, no-wrap
msgid "./mvnw quarkus:add-extension -Dextensions=\"hibernate-search-orm-elasticsearch\"\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:77
msgid "This will add the following to your `pom.xml`:"
msgstr "これにより、 `pom.xml` に以下が追加されます:"

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:84
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-hibernate-search-orm-elasticsearch</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:91
msgid "For now, let's delete the two generated tests `LibraryResourceTest` and `NativeLibraryResourceIT` present in `src/test/java`.  If you are interested in how you can test this application, just refer to the solution in the quickstarts Git repository: it contains a lot of tests and the required testing infrastructure."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:93
#, no-wrap
msgid "Creating the bare entities"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:96
msgid "First, let's create our Hibernate ORM entities `Book` and `Author` in the `model` subpackage."
msgstr "まず、 `model` サブパッケージに Hibernate ORM エンティティー `Book` と `Author` を作成しましょう。"

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:100
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:148
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:298
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:340
#, no-wrap
msgid "package org.acme.hibernate.search.elasticsearch.model;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:103
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:343
#, no-wrap
msgid ""
"import java.util.List;\n"
"import java.util.Objects;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:108
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:348
#, no-wrap
msgid ""
"import javax.persistence.CascadeType;\n"
"import javax.persistence.Entity;\n"
"import javax.persistence.FetchType;\n"
"import javax.persistence.OneToMany;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:110
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:157
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:310
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:356
#, no-wrap
msgid "import io.quarkus.hibernate.orm.panache.PanacheEntity;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:113
#, no-wrap
msgid ""
"@Entity\n"
"public class Author extends PanacheEntity { // <1>\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:115
#, no-wrap
msgid "    public String firstName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:117
#, no-wrap
msgid "    public String lastName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:120
#, no-wrap
msgid ""
"    @OneToMany(mappedBy = \"author\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER) // <2>\n"
"    public List<Book> books;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:129
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean equals(Object o) {\n"
"        if (this == o) {\n"
"            return true;\n"
"        }\n"
"        if (!(o instanceof Author)) {\n"
"            return false;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:131
#, no-wrap
msgid "        Author other = (Author) o;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:134
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:180
#, no-wrap
msgid ""
"        return Objects.equals(id, other.id);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:140
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:186
#, no-wrap
msgid ""
"    @Override\n"
"    public int hashCode() {\n"
"        return 31;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:142
msgid "We are using Hibernate ORM with Panache, it is not mandatory."
msgstr "PanacheでHibernate ORMを使用していますが、必須ではありません。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:144
msgid "We are loading these elements eagerly so that they are present in the JSON output.  In a real world application, you should probably use a DTO approach."
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:150
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:300
#, no-wrap
msgid "import java.util.Objects;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:153
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:303
#, no-wrap
msgid ""
"import javax.persistence.Entity;\n"
"import javax.persistence.ManyToOne;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:155
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:308
#, no-wrap
msgid "import com.fasterxml.jackson.annotation.JsonIgnore;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:160
#, no-wrap
msgid ""
"@Entity\n"
"public class Book extends PanacheEntity {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:162
#, no-wrap
msgid "    public String title;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:166
#, no-wrap
msgid ""
"    @ManyToOne\n"
"    @JsonIgnore <1>\n"
"    public Author author;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:175
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean equals(Object o) {\n"
"        if (this == o) {\n"
"            return true;\n"
"        }\n"
"        if (!(o instanceof Book)) {\n"
"            return false;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:177
#, no-wrap
msgid "        Book other = (Book) o;\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:188
msgid "We mark this property with `@JsonIgnore` to avoid infinite loops when serializing with Jackson."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:189
#, no-wrap
msgid "Initializing the REST service"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:192
msgid "While everything is not yet set up for our REST service, we can initialize it with the standard CRUD operations we will need."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:194
msgid "Just copy this content in the `LibraryResource` file created by the Maven `create-project` command:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:198
#, no-wrap
msgid "package org.acme.hibernate.search.elasticsearch;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:207
#, no-wrap
msgid ""
"import javax.transaction.Transactional;\n"
"import javax.ws.rs.Consumes;\n"
"import javax.ws.rs.DELETE;\n"
"import javax.ws.rs.POST;\n"
"import javax.ws.rs.PUT;\n"
"import javax.ws.rs.Path;\n"
"import javax.ws.rs.Produces;\n"
"import javax.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:212
#, no-wrap
msgid ""
"import org.acme.hibernate.search.elasticsearch.model.Author;\n"
"import org.acme.hibernate.search.elasticsearch.model.Book;\n"
"import org.jboss.resteasy.annotations.jaxrs.FormParam;\n"
"import org.jboss.resteasy.annotations.jaxrs.PathParam;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:215
#, no-wrap
msgid ""
"@Path(\"/library\")\n"
"public class LibraryResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:225
#, no-wrap
msgid ""
"    @PUT\n"
"    @Path(\"book\")\n"
"    @Transactional\n"
"    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n"
"    public void addBook(@FormParam String title, @FormParam Long authorId) {\n"
"        Author author = Author.findById(authorId);\n"
"        if (author == null) {\n"
"            return;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:230
#, no-wrap
msgid ""
"        Book book = new Book();\n"
"        book.title = title;\n"
"        book.author = author;\n"
"        book.persist();\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:234
#, no-wrap
msgid ""
"        author.books.add(book);\n"
"        author.persist();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:245
#, no-wrap
msgid ""
"    @DELETE\n"
"    @Path(\"book/{id}\")\n"
"    @Transactional\n"
"    public void deleteBook(@PathParam Long id) {\n"
"        Book book = Book.findById(id);\n"
"        if (book != null) {\n"
"            book.author.books.remove(book);\n"
"            book.delete();\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:256
#, no-wrap
msgid ""
"    @PUT\n"
"    @Path(\"author\")\n"
"    @Transactional\n"
"    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n"
"    public void addAuthor(@FormParam String firstName, @FormParam String lastName) {\n"
"        Author author = new Author();\n"
"        author.firstName = firstName;\n"
"        author.lastName = lastName;\n"
"        author.persist();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:270
#, no-wrap
msgid ""
"    @POST\n"
"    @Path(\"author/{id}\")\n"
"    @Transactional\n"
"    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n"
"    public void updateAuthor(@PathParam Long id, @FormParam String firstName, @FormParam String lastName) {\n"
"        Author author = Author.findById(id);\n"
"        if (author == null) {\n"
"            return;\n"
"        }\n"
"        author.firstName = firstName;\n"
"        author.lastName = lastName;\n"
"        author.persist();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:281
#, no-wrap
msgid ""
"    @DELETE\n"
"    @Path(\"author/{id}\")\n"
"    @Transactional\n"
"    public void deleteAuthor(@PathParam Long id) {\n"
"        Author author = Author.findById(id);\n"
"        if (author != null) {\n"
"            author.delete();\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:284
msgid "Nothing out of the ordinary here: it is just good old Hibernate ORM with Panache operations in a standard JAX-RS service."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:286
msgid "In fact, the interesting part is that we will need to add very few elements to make our full text search application working."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:287
#, no-wrap
msgid "Using Hibernate Search annotations"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:290
msgid "Let's go back to our entities."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:292
msgid "Enabling full text search capabilities for them is as simple as adding a few annotations."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:294
msgid "Let's edit the `Book` entity again to include this content:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:306
#, no-wrap
msgid ""
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:314
#, no-wrap
msgid ""
"@Entity\n"
"@Indexed // <1>\n"
"public class Book extends PanacheEntity {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:317
#, no-wrap
msgid ""
"    @FullTextField(analyzer = \"english\") // <2>\n"
"    public String title;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:321
#, no-wrap
msgid ""
"    @ManyToOne\n"
"    @JsonIgnore\n"
"    public Author author;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:324
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:375
#, no-wrap
msgid ""
"    // Preexisting equals()/hashCode() methods\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:326
msgid "First, let's use the `@Indexed` annotation to register our `Book` entity as part of the full text index."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:328
msgid "The `@FullTextField` annotation declares a field in the index specifically tailored for full text search.  In particular, we have to define an analyzer to split and analyze the tokens (~ words) - more on this later."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:330
msgid "Now that our books are indexed, we can do the same for the authors."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:332
msgid "Open the `Author` class and include the content below."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:334
msgid "Things are quite similar here: we use the `@Indexed`, `@FullTextField` and `@KeywordField` annotations."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:336
msgid "There are a few differences/additions though. Let's check them out."
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:354
#, no-wrap
msgid ""
"import org.hibernate.search.engine.backend.types.Sortable;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.IndexedEmbedded;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.KeywordField;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:360
#, no-wrap
msgid ""
"@Entity\n"
"@Indexed\n"
"public class Author extends PanacheEntity {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:364
#, no-wrap
msgid ""
"    @FullTextField(analyzer = \"name\") // <1>\n"
"    @KeywordField(name = \"firstName_sort\", sortable = Sortable.YES, normalizer = \"sort\") // <2>\n"
"    public String firstName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:368
#, no-wrap
msgid ""
"    @FullTextField(analyzer = \"name\")\n"
"    @KeywordField(name = \"lastName_sort\", sortable = Sortable.YES, normalizer = \"sort\")\n"
"    public String lastName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:372
#, no-wrap
msgid ""
"    @OneToMany(mappedBy = \"author\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n"
"    @IndexedEmbedded // <3>\n"
"    public List<Book> books;\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:377
msgid "We use a `@FullTextField` similar to what we did for `Book` but you'll notice that the analyzer is different - more on this later."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:381
msgid "As you can see, we can define several fields for the same property.  Here, we define a `@KeywordField` with a specific name.  The main difference is that a keyword field is not tokenized (the string is kept as one single token) but can be normalized (i.e. filtered) - more on this later.  This field is marked as sortable as our intention is to use it for sorting our authors."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:386
msgid "The purpose of `@IndexedEmbedded` is to include the `Book` fields into the `Author` index.  In this case, we just use the default configuration: all the fields of the associated `Book` entities are included in the index (i.e. the `title` field).  The nice thing with `@IndexedEmbedded` is that it is able to automatically reindex an `Author` if one of its ``Book``s has been updated thanks to the bidirectional relation.  `@IndexedEmbedded` also supports nested documents (using the `storage = NESTED` attribute) but we don't need it here.  You can also specify the fields you want to include in your parent index using the `includePaths` attribute if you don't want them all."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:387
#, no-wrap
msgid "Analyzers and normalizers"
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:389
#, no-wrap
msgid "Introduction"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:392
msgid "Analysis is a big part of full text search: it defines how text will be processed when indexing or building search queries."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:394
msgid "The role of analyzers is to split the text into tokens (~ words) and filter them (making it all lowercase and removing accents for instance)."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:397
msgid "Normalizers are a special type of analyzers that keeps the input as a single token.  It is especially useful for sorting or indexing keywords."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:399
msgid "There are a lot of bundled analyzers but you can also develop your own for your own specific purposes."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:401
msgid "You can learn more about the Elasticsearch analysis framework in the https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html[Analysis section of the Elasticsearch documentation]."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:402
#, no-wrap
msgid "Defining the analyzers used"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:406
msgid "When we added the Hibernate Search annotations to our entities, we defined the analyzers and normalizers used.  Typically:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:410
#, no-wrap
msgid "@FullTextField(analyzer = \"english\")\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:415
#, no-wrap
msgid "@FullTextField(analyzer = \"name\")\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:420
#, no-wrap
msgid "@KeywordField(name = \"lastName_sort\", sortable = Sortable.YES, normalizer = \"sort\")\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:423
msgid "We use:"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:425
msgid "an analyzer called `name` for person names,"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:426
msgid "an analyzer called `english` for book titles,"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:427
msgid "a normalizer called `sort` for our sort fields"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:429
msgid "but we haven't set them up yet."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:431
msgid "Let's see how you can do it with Hibernate Search."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:433
#, no-wrap
msgid "Setting up the analyzers"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:437
msgid "It is an easy task, we just need to create an implementation of `ElasticsearchAnalysisConfigurer` (and configure Quarkus to use it, more on that later)."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:439
msgid "To fulfill our requirements, let's create the following implementation:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:443
#, no-wrap
msgid "package org.acme.hibernate.search.elasticsearch.config;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:446
#, no-wrap
msgid ""
"import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext;\n"
"import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:449
#, no-wrap
msgid ""
"import javax.enterprise.context.Dependent;\n"
"import javax.inject.Named;\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:453
#, no-wrap
msgid ""
"@Dependent\n"
"@Named(\"myAnalysisConfigurer\") // <1>\n"
"public class AnalysisConfigurer implements ElasticsearchAnalysisConfigurer {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:459
#, no-wrap
msgid ""
"    @Override\n"
"    public void configure(ElasticsearchAnalysisConfigurationContext context) {\n"
"        context.analyzer(\"name\").custom() // <2>\n"
"                .tokenizer(\"standard\")\n"
"                .tokenFilters(\"asciifolding\", \"lowercase\");\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:463
#, no-wrap
msgid ""
"        context.analyzer(\"english\").custom() // <3>\n"
"                .tokenizer(\"standard\")\n"
"                .tokenFilters(\"asciifolding\", \"lowercase\", \"porter_stem\");\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:468
#, no-wrap
msgid ""
"        context.normalizer(\"sort\").custom() // <4>\n"
"                .tokenFilters(\"asciifolding\", \"lowercase\");\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:470
msgid "We will need to reference the configurer from the configuration properties, so we make it a named bean."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:472
msgid "This is a simple analyzer separating the words on spaces, removing any non-ASCII characters by its ASCII counterpart (and thus removing accents) and putting everything in lowercase.  It is used in our examples for the author's names."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:474
msgid "We are a bit more aggressive with this one and we include some stemming: we will be able to search for `mystery` and get a result even if the indexed input contains `mysteries`.  It is definitely too aggressive for person names but it is perfect for the book titles."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:475
msgid "Here is the normalizer used for sorting. Very similar to our first analyzer, except we don't tokenize the words as we want one and only one token."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:476
#, no-wrap
msgid "Adding full text capabilities to our REST service"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:479
msgid "In our existing `LibraryResource`, we just need to inject the `SearchSession`:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:484
#, no-wrap
msgid ""
"    @Inject\n"
"    SearchSession searchSession; // <1>\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:489
msgid "Inject a Hibernate Search session, which relies on the `EntityManager` under the hood.  Applications with multiple persistence units can use the CDI qualifier `@io.quarkus.hibernate.orm.PersistenceUnit` to select the right one: see <<multiple-persistence-units-attaching-cdi>>."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:491
msgid "And then we can add the following methods (and a few ``import``s):"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:502
#, no-wrap
msgid ""
"    @Transactional // <1>\n"
"    void onStart(@Observes StartupEvent ev) throws InterruptedException { // <2>\n"
"        // only reindex if we imported some content\n"
"        if (Book.count() > 0) {\n"
"            searchSession.massIndexer()\n"
"                    .startAndWait();\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:518
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"author/search\") // <3>\n"
"    @Transactional\n"
"    public List<Author> searchAuthors(@QueryParam String pattern, // <4>\n"
"            @QueryParam Optional<Integer> size) {\n"
"        return searchSession.search(Author.class) // <5>\n"
"                .where(f ->\n"
"                    pattern == null || pattern.trim().isEmpty() ?\n"
"                            f.matchAll() : // <6>\n"
"                            f.simpleQueryString()\n"
"                                .fields(\"firstName\", \"lastName\", \"books.title\").matching(pattern) // <7>\n"
"                )\n"
"                .sort(f -> f.field(\"lastName_sort\").then().field(\"firstName_sort\")) // <8>\n"
"                .fetchHits(size.orElse(20)); // <9>\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:520
msgid "Important point: we need a transactional context for these methods."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:525
msgid "As we will import data into the PostgreSQL database using an SQL script, we need to reindex the data at startup.  For this, we use Hibernate Search's mass indexer, which allows to index a lot of data efficiently (you can fine tune it for better performances).  All the upcoming updates coming through Hibernate ORM operations will be synchronized automatically to the full text index.  If you don't import data manually in the database, you don't need that: the mass indexer should then only be used when you change your indexing configuration (adding a new field, changing an analyzer's configuration...) and you want the new configuration to be applied to your existing entities."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:526
msgid "This is where the magic begins: just adding the annotations to our entities makes them available for full text search: we can now query the index using the Hibernate Search DSL."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:527
msgid "Use the `org.jboss.resteasy.annotations.jaxrs.QueryParam` annotation type to avoid repeating the parameter name."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:528
msgid "We indicate that we are searching for ``Author``s."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:529
msgid "We create a predicate: if the pattern is empty, we use a `matchAll()` predicate."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:530
msgid "If we have a valid pattern, we create a https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html[`simpleQueryString()`] predicate on the `firstName`, `lastName` and `books.title` fields matching our pattern."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:531
msgid "We define the sort order of our results. Here we sort by last name, then by first name. Note that we use the specific fields we created for sorting."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:532
msgid "Fetch the `size` top hits, `20` by default. Obviously, paging is also supported."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:537
msgid "The Hibernate Search DSL supports a significant subset of the Elasticsearch predicates (match, range, nested, phrase, spatial...).  Feel free to explore the DSL using autocompletion."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:540
msgid "When that's not enough, you can always fall back to link:{hibernate-search-doc-prefix}#search-dsl-predicate-extensions-elasticsearch-from-json[defining a predicate using JSON directly]."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:542
#, no-wrap
msgid "Configuring the application"
msgstr "アプリケーションの設定"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:545
msgid "As usual, we can configure everything in the Quarkus configuration file, `application.properties`."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:547
msgid "Edit `src/main/resources/application.properties` and inject the following configuration:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:551
#, no-wrap
msgid "quarkus.ssl.native=false <1>\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:556
#, no-wrap
msgid ""
"quarkus.datasource.db-kind=postgresql <2>\n"
"quarkus.datasource.username=quarkus_test\n"
"quarkus.datasource.password=quarkus_test\n"
"quarkus.datasource.jdbc.url=jdbc:postgresql:quarkus_test\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:559
#, no-wrap
msgid ""
"quarkus.hibernate-orm.database.generation=drop-and-create <3>\n"
"quarkus.hibernate-orm.sql-load-script=import.sql <4>\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:564
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.elasticsearch.version=7 <5>\n"
"quarkus.hibernate-search-orm.elasticsearch.analysis.configurer=bean:myAnalysisConfigurer <6>\n"
"quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create <7>\n"
"quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy=sync <8>\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:566
msgid "We won't use SSL so we disable it to have a more compact native executable."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:567
msgid "Let's create a PostgreSQL datasource."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:568
msgid "We will drop and recreate the schema every time we start the application."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:569
msgid "We load some initial data."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:572
msgid "We need to tell Hibernate Search about the version of Elasticsearch we will use.  It is important because there are significant differences between Elasticsearch mapping syntax depending on the version.  Since the mapping is created at build time to reduce startup time, Hibernate Search cannot connect to the cluster to automatically detect the version."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:573
msgid "We point to the custom `AnalysisConfigurer` which defines the configuration of our analyzers and normalizers."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:574
msgid "Obviously, this is not for production: we drop and recreate the index every time we start the application."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:577
msgid "This means that we wait for the entities to be searchable before considering a write complete.  On a production setup, the `write-sync` default will provide better performance.  Using `sync` is especially important when testing as you need the entities to be searchable immediately."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:580
msgid "For more information about the Hibernate Search extension configuration please refer to the <<configuration-reference, Configuration Reference>>."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:581
#, no-wrap
msgid "Creating a frontend"
msgstr "フロントエンドの作成"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:587
msgid "Now let's add a simple web page to interact with our `LibraryResource`.  Quarkus automatically serves static resources located under the `META-INF/resources` directory.  In the `src/main/resources/META-INF/resources` directory, overwrite the existing `index.html` file with the content from this {quickstarts-blob-url}/hibernate-search-orm-elasticsearch-quickstart/src/main/resources/META-INF/resources/index.html[index.html] file."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:588
#, no-wrap
msgid "Automatic import script"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:591
msgid "For the purpose of this demonstration, let's import an initial dataset."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:593
msgid "Let's create a `src/main/resources/import.sql` file with the following content:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:598
#, no-wrap
msgid ""
"INSERT INTO author(id, firstname, lastname) VALUES (nextval('hibernate_sequence'), 'John', 'Irving');\n"
"INSERT INTO author(id, firstname, lastname) VALUES (nextval('hibernate_sequence'), 'Paul', 'Auster');\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:612
#, no-wrap
msgid ""
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'The World According to Garp', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'The Hotel New Hampshire', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'The Cider House Rules', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'A Prayer for Owen Meany', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'Last Night in Twisted River', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'In One Person', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'Avenue of Mysteries', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'The New York Trilogy', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'Mr. Vertigo', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'The Brooklyn Follies', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'Invisible', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), 'Sunset Park', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (nextval('hibernate_sequence'), '4 3 2 1', 2);\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:614
#, no-wrap
msgid "Preparing the infrastructure"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:617
msgid "We need a PostgreSQL instance and an Elasticsearch cluster."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:619
msgid "Let's use Docker to start one of each:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:623
#, no-wrap
msgid "docker run -it --rm=true --name elasticsearch_quarkus_test -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" docker.elastic.co/elasticsearch/elasticsearch-oss:{elasticsearch-version}\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:628
#, no-wrap
msgid "docker run --ulimit memlock=-1:-1 -it --rm=true --memory-swappiness=0 --name postgresql_quarkus_test -e POSTGRES_USER=quarkus_test -e POSTGRES_PASSWORD=quarkus_test -e POSTGRES_DB=quarkus_test -p 5432:5432 postgres:13.1\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:630
#, no-wrap
msgid "Time to play with your application"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:633
msgid "You can now interact with your REST service:"
msgstr "これで、REST サービスと対話できるようになりました。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:635
msgid "start Quarkus with `./mvnw compile quarkus:dev`"
msgstr "`./mvnw compile quarkus:dev` で Quarkus を起動します。"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:636
msgid "open a browser to `http://localhost:8080/`"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:637
msgid "search for authors or book titles (we initialized some data for you)"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:638
msgid "create new authors and books and search for them too"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:640
msgid "As you can see, all your updates are automatically synchronized to the Elasticsearch cluster."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:642
#, no-wrap
msgid "Multiple persistence units"
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:644
#, no-wrap
msgid "Configuring multiple persistence units"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:649
msgid "With the Hibernate ORM extension, link:hibernate-orm#multiple-persistence-units[you can set up multiple persistence units], each with its own datasource and configuration."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:652
msgid "If you do declare multiple persistence units, you will also configure Hibernate Search separately for each persistence unit."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:656
msgid "The properties at the root of the `quarkus.hibernate-search-orm.` namespace define the default persistence unit.  For instance, the following snippet defines a default datasource and a default persistence unit, and sets the Elasticsearch host for that persistence unit to `es1.mycompany.com:9200`."
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:661
#, no-wrap
msgid ""
"quarkus.datasource.db-kind=h2\n"
"quarkus.datasource.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:663
#, no-wrap
msgid "quarkus.hibernate-orm.dialect=org.hibernate.dialect.H2Dialect\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:667
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.elasticsearch.hosts=es1.mycompany.com:9200\n"
"quarkus.hibernate-search-orm.elasticsearch.version=7\n"
"quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy=write-sync\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:670
msgid "Using a map based approach, it is also possible to configure named persistence units:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:675
#, no-wrap
msgid ""
"quarkus.datasource.\"users\".db-kind=h2 <1>\n"
"quarkus.datasource.\"users\".jdbc.url=jdbc:h2:mem:users;DB_CLOSE_DELAY=-1\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:678
#, no-wrap
msgid ""
"quarkus.datasource.\"inventory\".db-kind=h2 <2>\n"
"quarkus.datasource.\"inventory\".jdbc.url=jdbc:h2:mem:inventory;DB_CLOSE_DELAY=-1\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:681
#, no-wrap
msgid ""
"quarkus.hibernate-orm.\"users\".datasource=users <3>\n"
"quarkus.hibernate-orm.\"users\".packages=org.acme.model.user\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:684
#, no-wrap
msgid ""
"quarkus.hibernate-orm.\"inventory\".datasource=inventory <4>\n"
"quarkus.hibernate-orm.\"inventory\".packages=org.acme.model.inventory\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:688
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.\"users\".elasticsearch.hosts=es1.mycompany.com:9200 <5>\n"
"quarkus.hibernate-search-orm.\"users\".elasticsearch.version=7\n"
"quarkus.hibernate-search-orm.\"users\".automatic-indexing.synchronization.strategy=write-sync\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:692
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.\"inventory\".elasticsearch.hosts=es2.mycompany.com:9200 <6>\n"
"quarkus.hibernate-search-orm.\"inventory\".elasticsearch.version=7\n"
"quarkus.hibernate-search-orm.\"inventory\".automatic-indexing.synchronization.strategy=write-sync\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:694
msgid "Define a datasource named `users`."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:695
msgid "Define a datasource named `inventory`."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:696
msgid "Define a persistence unit called `users` pointing to the `users` datasource."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:697
msgid "Define a persistence unit called `inventory` pointing to the `inventory` datasource."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:699
msgid "Configure Hibernate Search for the `users` persistence unit, setting the Elasticsearch host for that persistence unit to `es1.mycompany.com:9200`."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:701
msgid "Configure Hibernate Search for the `inventory` persistence unit, setting the Elasticsearch host for that persistence unit to `es2.mycompany.com:9200`."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:703
#, no-wrap
msgid "Attaching model classes to persistence units"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:708
msgid "For each persistence unit, Hibernate Search will only consider indexed entities that are attached to that persistence unit.  Entities are attached to a persistence unit by link:hibernate-orm#multiple-persistence-units-attaching-model-classes[configuring the Hibernate ORM extension]."
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:710
#, no-wrap
msgid "CDI integration"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:713
msgid "You can inject Hibernate Search's main entry points, `SearchSession` and `SearchMapping`, using CDI:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:718
#, no-wrap
msgid ""
"@Inject\n"
"SearchSession searchSession;\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:721
msgid "This will inject the `SearchSession` of the default persistence unit."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:724
msgid "To inject the `SearchSession` of a named persistence unit (`users` in our example), just add a qualifier:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:730
#, no-wrap
msgid ""
"@Inject\n"
"@PersistenceUnit(\"users\") <1>\n"
"SearchSession searchSession;\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:732
msgid "This is the `@io.quarkus.hibernate.orm.PersistenceUnit` annotation."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:734
msgid "You can inject the `SearchMapping` of a named persistence unit using the exact same mechanism:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:740
#, no-wrap
msgid ""
"@Inject\n"
"@PersistenceUnit(\"users\")\n"
"SearchMapping searchMapping;\n"
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:742
#, no-wrap
msgid "Building a native executable"
msgstr "ネイティブ実行可能ファイルの構築"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:745
msgid "You can build a native executable with the usual command `./mvnw package -Pnative`."
msgstr "ネイティブ実行ファイルは、通常のコマンド `./mvnw package -Pnative` でビルドできます。"

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:749
msgid "As usual with native executable compilation, this operation consumes a lot of memory."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:751
msgid "It might be safer to stop the two containers while you are building the native executable and start them again once you are done."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:754
msgid "Running it is as simple as executing `./target/hibernate-search-orm-elasticsearch-quickstart-1.0.0-SNAPSHOT-runner`."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:756
msgid "You can then point your browser to `http://localhost:8080/` and use your application."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:761
msgid "The startup is a bit slower than usual: it is mostly due to us dropping and recreating the database schema and the Elasticsearch mapping every time at startup.  We also inject some data and execute the mass indexer."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:763
msgid "In a real life application, it is obviously something you won't do at startup."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:765
#, no-wrap
msgid "Further reading"
msgstr "さらに詳しく"

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:769
msgid "If you are interested in learning more about Hibernate Search 6, the Hibernate team publishes link:{hibernate-search-doc-prefix}[an extensive reference documentation]."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:770
#, no-wrap
msgid "FAQ"
msgstr ""

#. type: Title ===
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:772
#, no-wrap
msgid "Why Elasticsearch only?"
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:775
msgid "Hibernate Search supports both a Lucene backend and an Elasticsearch backend."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:778
msgid "In the context of Quarkus and to build microservices, we thought the latter would make more sense.  Thus we focused our efforts on it."
msgstr ""

#. type: Plain text
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:780
msgid "We don't have plans to support the Lucene backend in Quarkus for now."
msgstr ""

#. type: Title ==
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:782
#, no-wrap
msgid "Hibernate Search Configuration Reference"
msgstr ""

#. type: Block title
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:788
#, no-wrap
msgid "About bean references"
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:791
msgid "When referencing beans using a string value in configuration properties, that string is parsed."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:793
msgid "Here are the most common formats:"
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:796
msgid "`bean:` followed by the name of a `@Named` CDI bean.  For example `bean:myBean`."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:799
msgid "`class:` followed by the fully-qualified name of a class, to be instantiated through CDI if it's a CDI bean, or through its public, no-argument constructor otherwise.  For example `class:com.mycompany.MyClass`."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:803
msgid "An arbitrary string referencing a built-in implementation.  Available values are detailed in the documentation of each configuration property, such as `async`/`read-sync`/`write-sync`/`sync` for <<quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy,`quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy`>>."
msgstr ""

#. type: delimited block =
#: upstream/_versions/1.11/guides/hibernate-search-orm-elasticsearch.adoc:807
msgid "Other formats are also accepted, but are only useful for advanced use cases.  See link:{hibernate-search-doc-prefix}#configuration-bean-reference-parsing[this section of Hibernate Search's reference documentation] for more information."
msgstr ""
