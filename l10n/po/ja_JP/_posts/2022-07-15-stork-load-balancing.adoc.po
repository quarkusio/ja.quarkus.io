msgid ""
msgstr ""
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: doc-l10n-kit"

#. type: YAML Front Matter: title
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "How to select the \"right\" service with Stork?"
msgstr "Storkã§ \"æ­£ã—ã„ \"ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠã™ã‚‹æ–¹æ³•ã¨ã¯ï¼Ÿ"

#. type: YAML Front Matter: synopsis
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "How Stork selects the best service instance and the various built-in stategies."
msgstr "StorkãŒæœ€é©ãªã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã™ã‚‹æ–¹æ³•ã¨ã€æ§˜ã€…ãªçµ„ã¿è¾¼ã¿stategyã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"The essence of distributed systems resides in the interaction between _services_.\n"
"In modern architectures, you often have multiple instances of your service to share the load or improve the resilience by redundancy."
msgstr "åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã®æœ¬è³ªã¯ _ã‚µãƒ¼ãƒ“ã‚¹_ é–“ã®ç›¸äº’ä½œç”¨ã«ã‚ã‚Šã¾ã™ã€‚æœ€æ–°ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¯ã€è² è·ã‚’åˆ†æ‹…ã—ãŸã‚Šã€å†—é•·æ€§ã«ã‚ˆã£ã¦è€éšœå®³æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã«ã€ã‚µãƒ¼ãƒ“ã‚¹ã®è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æŒã¤ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"But, when you have all these instances, how do you select the _best_ one? That's where Stork helps.\n"
"Stork is a service discovery and load balancing framework. Stork will locate and choose the most appropriate instance for each call.\n"
"In this post, we will look into some of the load-balancing strategies offered by Stork, so you can decide which one is the best for you."
msgstr "ã—ã‹ã—ã€ã“ã®ã‚ˆã†ãªå ´åˆã€ã©ã®ã‚ˆã†ã« _æœ€é©ãª_ ã‚‚ã®ã‚’é¸ã¹ã°ã‚ˆã„ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿãã“ã§StorkãŒå½¹ç«‹ã¡ã¾ã™ã€‚Storkã¯ã‚µãƒ¼ãƒ“ã‚¹ç™ºè¦‹ã¨è² è·åˆ†æ•£ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚Storkã¯ãã‚Œãã‚Œã®å‘¼ã³å‡ºã—ã«å¯¾ã—ã¦æœ€é©ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ¢ã—ã€é¸æŠã—ã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€StorkãŒæä¾›ã™ã‚‹ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æˆ¦ç•¥ã®ã„ãã¤ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "Playground"
msgstr "éŠã³å ´"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"When your application needs to invoke a remote service (2), it asks Stork to locate this service (3).\n"
"This service discovery step retrieves the service instances. You may have a single instance, which eases the selection process, but you can also have multiple instances available.\n"
"Then, you need to pick one.\n"
"That's where Stork load balancing capability comes and selects the instance (4)."
msgstr "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒãƒªãƒ¢ãƒ¼ãƒˆã‚µãƒ¼ãƒ“ã‚¹ã‚’å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚‹å ´åˆ(2)ã€Storkã«ã‚µãƒ¼ãƒ“ã‚¹ã®å ´æ‰€ã‚’ç‰¹å®šã™ã‚‹ã‚ˆã†ä¾é ¼ã—ã¾ã™(3)ã€‚ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ç™ºè¦‹ã‚¹ãƒ†ãƒƒãƒ—ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ¤œç´¢ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯1ã¤ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ãŒã€è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã—ã‹ã—ã€è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒåˆ©ç”¨å¯èƒ½ãªå ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚ãã“ã§Storkã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æ©Ÿèƒ½ãŒã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã—ã¾ã™(4)ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"To illustrate this service selection feature, we need an application.\n"
"The following picture represents our system:"
msgstr "ã“ã®ã‚µãƒ¼ãƒ“ã‚¹é¸æŠæ©Ÿèƒ½ã‚’èª¬æ˜ã™ã‚‹ãŸã‚ã«ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ã§ã™ã€‚æ¬¡ã®å›³ã¯ç§ãŸã¡ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’è¡¨ã—ã¦ã„ã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "You can find the source code on https://github.com/cescoffier/stork-load-balancing-playground[https://github.com/cescoffier/stork-load-balancing-playground]."
msgstr "ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ https://github.com/cescoffier/stork-load-balancing-playground ã«æ²è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The system is composed of three service instances: blue, yellow, and green:"
msgstr "ã‚·ã‚¹ãƒ†ãƒ ã¯ã€é’ã€é»„ã€ç·‘ã®3ã¤ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The blue instance returns ğŸ”µ ."
msgstr "é’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ğŸ”µã‚’è¿”ã—ã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The yellow instance returns ğŸŸ¡ . This service is slightly slower than the blue service."
msgstr "é»„è‰²ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ğŸŸ¡ã‚’è¿”ã—ã¾ã™ã€‚ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯é’ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚ˆã‚Šè‹¥å¹²é…ã„ã§ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The green instance returns ğŸŸ¢ . It's the fastest but with a 20% chance of failing."
msgstr "ç·‘è‰²ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ğŸŸ¢ã‚’è¿”ã—ã¾ã™ã€‚æœ€é€Ÿã§ã™ãŒã€å¤±æ•—ã™ã‚‹ç¢ºç‡ã¯20%ã§ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The main application contains a REST Client configured to use stork:"
msgstr "ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ã€storkã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«è¨­å®šã•ã‚ŒãŸREST ClientãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The main endpoint delegates the invocation to the client:"
msgstr "ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å‘¼ã³å‡ºã—ã‚’å§”ã­ã‚‹ï¼š"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"The UI (exposed on http://localhost:8080[http://localhost:8080]) allows you to invoke the `/dispatcher` endpoint ten times. It will use the REST Client ten times, which will lead to ten service selections.\n"
"These calls can be either:"
msgstr "UI link:http://localhost:8080[ï¼ˆhttp://localhost:8080] ï¼‰ã§ `/dispatcher` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’10å›å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯RESTã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’10å›ä½¿ç”¨ã—ã€10å›ã®ã‚µãƒ¼ãƒ“ã‚¹é¸æŠã«ã¤ãªãŒã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®å‘¼ã³å‡ºã—ã¯æ¬¡ã®ã„ãšã‚Œã‹ã«ãªã‚Šã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "Sequential calls: it calls the service ten times sequentially, waiting for the previous call to complete before emitting the next one. This approach preserves the ordering."
msgstr "é †æ¬¡å‘¼ã³å‡ºã—ï¼šã‚µãƒ¼ãƒ“ã‚¹ã‚’10å›é †æ¬¡å‘¼ã³å‡ºã—ã€å‰ã®å‘¼ã³å‡ºã—ãŒå®Œäº†ã™ã‚‹ã®ã‚’å¾…ã£ã¦ã‹ã‚‰æ¬¡ã®å‘¼ã³å‡ºã—ã‚’è¡Œã†ã€‚ã“ã®æ–¹æ³•ã§ã¯ã€é †åºãŒä¿ãŸã‚Œã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "Concurrent calls: it emits ten requests concurrently. You do not control how these requests are sent and the order they are received and processed."
msgstr "åŒæ™‚å‘¼ã³å‡ºã—ï¼šåŒæ™‚ã«10å€‹ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç™ºã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã©ã®ã‚ˆã†ã«é€ä¿¡ã•ã‚Œã€ã©ã®ã‚ˆã†ãªé †åºã§å—ä¿¡ãƒ»å‡¦ç†ã•ã‚Œã‚‹ã‹ã¯åˆ¶å¾¡ã§ãã¾ã›ã‚“ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "Let's now look at the various load-balancing strategies offered by Stork."
msgstr "ã“ã“ã§ã€StorkãŒæä¾›ã™ã‚‹æ§˜ã€…ãªãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æˆ¦ç•¥ã«ã¤ã„ã¦è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "The round-robin strategy"
msgstr "ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³æˆ¦ç•¥"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"Stork uses a round-robin if you do not set any load balancing strategy.\n"
"When you call the service (either sequentially or concurrently), you get something like:"
msgstr "Storkã¯ã€ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æˆ¦ç•¥ã‚’è¨­å®šã—ãªã„å ´åˆã€ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‘¼ã³å‡ºã™ã¨ï¼ˆé€£ç¶šã§ã‚‚åŒæ™‚ã§ã‚‚ï¼‰ã€æ¬¡ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"Stork iterates over the available instances. So we can see ğŸ”µ ğŸŸ¡ ğŸŸ¢ ğŸ”µ ğŸŸ¡ ğŸŸ¢ ğŸ”µ ğŸŸ¡ ğŸŸ¢ sequences.\n"
"It does not change the strategy when the call fails.\n"
"When the green instance fails (âŒ), it does not evict the instance, continues the iteration, and picks the blue instance, then the yellow instance, and then the green one again."
msgstr "ã‚³ã‚¦ãƒãƒˆãƒªã¯åˆ©ç”¨å¯èƒ½ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åå¾©å‡¦ç†ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ğŸ”µ ğŸŸ¡ ğŸŸ¢ ğŸ”µ ğŸŸ¡ ğŸŸ¢ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å‘¼ã³å‡ºã—ãŒå¤±æ•—ã—ã¦ã‚‚æˆ¦ç•¥ã¯å¤‰æ›´ã—ã¾ã›ã‚“ã€‚ç·‘è‰²ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå¤±æ•—ã—ã¦ã‚‚(âŒ)ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é€€å»ã•ã›ãšã€åå¾©ã‚’ç¶šã‘ã€é’è‰²ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€é»„è‰²ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã€ãã—ã¦å†ã³ç·‘è‰²ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"The round-robin strategy is convenient to dispatch the load equally among a set of service instances.\n"
"When there is a failure, and when a retry is possible, you can use `@Retry` to use the next service instance."
msgstr "ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³æˆ¦ç•¥ã¯ã€ä¸€é€£ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é–“ã§è² è·ã‚’å‡ç­‰ã«åˆ†æ•£ã™ã‚‹ã®ã«ä¾¿åˆ©ã§ã™ã€‚éšœå®³ãŒç™ºç”Ÿã—ã€å†è©¦è¡ŒãŒå¯èƒ½ãªå ´åˆã¯ã€ `@Retry` ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "The random strategy"
msgstr "ãƒ©ãƒ³ãƒ€ãƒ ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"Unlike the round-robin, iterating over a set of service instances, the random strategy randomly picks an instance.\n"
"The following dependency provides the random strategy:"
msgstr "ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚»ãƒƒãƒˆã‚’åå¾©ã™ã‚‹ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ­ãƒ“ãƒ³ã¨ã¯ç•°ãªã‚Šã€ãƒ©ãƒ³ãƒ€ãƒ æˆ¦ç•¥ã¯ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚æ¬¡ã®ä¾å­˜é–¢ä¿‚ã¯ãƒ©ãƒ³ãƒ€ãƒ æˆ¦ç•¥ã‚’æä¾›ã—ã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "To use this load balancing strategy, you must configure the load balancer of your service:"
msgstr "ã“ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æˆ¦ç•¥ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "As you can see in the picture below, it does not follow a pattern. So, the same service instance can be called multiple times consecutively."
msgstr "ä¸‹ã®å†™çœŸã§ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ãƒ‘ã‚¿ãƒ¼ãƒ³åŒ–ã•ã‚Œã¦ã„ãªã„ã€‚ãã®ãŸã‚ã€åŒã˜ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é€£ç¶šã—ã¦è¤‡æ•°å›å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"This strategy does not share the load equally between the instances.\n"
"It can, in the worst case, pick a busy instance.\n"
"However, suppose the invoked service is also used by other applications (also using the random load balancing).\n"
"In that case, it can be convenient to share the load and avoid overloading a specific instance globally."
msgstr "ã“ã®æˆ¦ç•¥ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é–“ã§å‡ç­‰ã«è² è·ã‚’åˆ†æ‹…ã™ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æœ€æ‚ªã®å ´åˆã€ãƒ“ã‚¸ãƒ¼çŠ¶æ…‹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸ã¶å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€å‘¼ã³å‡ºã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ãŒä»–ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ©ãƒ³ãƒ€ãƒ ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã‚‚ä½¿ç”¨ï¼‰ã§ã‚‚ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®å ´åˆã€è² è·ã‚’å…±æœ‰ã—ã€ç‰¹å®šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«éè² è·ãŒã‹ã‹ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ã®ãŒä¾¿åˆ©ã§ã™ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "Least-Requests"
msgstr "æœ€å°è¦æ±‚æ•°ï¼ˆLeast-Requests"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"The two previous strategies do not monitor the invocations.\n"
"The _least-requests_ strategy does. When an instance is selected, it tracks the invocations, which counts the number of inflight requests in the case of this strategy.\n"
"When a call completes (successfully or not), it decrements the counter.\n"
"Thus, selecting an instance returns the instance with fewer inflight calls."
msgstr "å‰ã®2ã¤ã®æˆ¦ç•¥ã¯èµ·å‹•ã‚’ç›£è¦–ã—ã¾ã›ã‚“ã€‚ _æœ€å°ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°_ æˆ¦ç•¥ã¯ç›£è¦–ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒé¸æŠã•ã‚Œã‚‹ã¨ã€ã“ã®ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ã®å ´åˆã€ã‚¤ãƒ³ãƒ•ãƒ©ã‚¤ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹å‘¼ã³å‡ºã—ãŒãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã•ã‚Œã¾ã™ã€‚å‘¼ã³å‡ºã—ãŒå®Œäº†ã™ã‚‹ã¨ï¼ˆæˆåŠŸã—ãŸã‹ã©ã†ã‹ã«ã‹ã‹ã‚ã‚‰ãšï¼‰ã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ãƒ‡ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã™ã‚‹ã¨ã€ã‚¤ãƒ³ãƒ•ãƒ©ã‚¤ãƒˆã‚³ãƒ¼ãƒ«ãŒå°‘ãªã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒè¿”ã•ã‚Œã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "To use this strategy, you need the following dependency:"
msgstr "ã“ã®ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ã¯ã€ä»¥ä¸‹ã®ä¾å­˜é–¢ä¿‚ãŒå¿…è¦ã§ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "You also need to configure the load balancer of your service:"
msgstr "ã¾ãŸã€ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "If you call the service sequentially, it always picks the same instance:"
msgstr "ã‚µãƒ¼ãƒ“ã‚¹ã‚’é †æ¬¡å‘¼ã³å‡ºã™ã¨ã€å¸¸ã«åŒã˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸ã³ã¾ã™ï¼š"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"Indeed, the number of inflight requests for the service is always 0, as it waits for the response before calling it another time.\n"
"However, when you call the service concurrently, this strategy becomes a lot more relevant:"
msgstr "å®Ÿéš›ã€ã‚µãƒ¼ãƒ“ã‚¹ã«å¯¾ã™ã‚‹æ©Ÿå†…ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ•°ã¯å¸¸ã«0ã§ã™ã€‚ã—ã‹ã—ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’åŒæ™‚ã«å‘¼ã³å‡ºã™å ´åˆã€ã“ã®æˆ¦ç•¥ã¯ã‚ˆã‚Šé‡è¦ã«ãªã‚Šã¾ã™ï¼š"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"As the green service is the fastest, it gets called more frequently as inflight requests decrease quickly.\n"
"Thus, while the blue and yellow services still have inflight calls, the green service is back to 0 and selected."
msgstr "ç·‘è‰²ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯æœ€é€Ÿã§ã‚ã‚‹ãŸã‚ã€æ©Ÿå†…ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ€¥é€Ÿã«æ¸›å°‘ã™ã‚‹ã«ã¤ã‚Œã¦ã€ã‚ˆã‚Šé »ç¹ã«å‘¼ã³å‡ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€é’ã¨é»„è‰²ã®ã‚µãƒ¼ãƒ“ã‚¹ã«ã¯ã¾ã æ©Ÿå†…å‘¼ã³å‡ºã—ãŒã‚ã‚Šã¾ã™ãŒã€ç·‘ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯0ã«æˆ»ã£ã¦é¸æŠã•ã‚Œã¾ã™ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"This strategy is convenient when you have services with an API having different response times.\n"
"For example, you can have endpoints answering quickly and endpoints doing a lot more work, thus taking more time."
msgstr "ã“ã®æˆ¦ç•¥ã¯ã€ç•°ãªã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ã‚’æŒã¤APIã‚’æŒã¤ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚‹å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚ä¾‹ãˆã°ã€ç´ æ—©ãå¿œç­”ã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¨ã€ã‚ˆã‚Šå¤šãã®ä½œæ¥­ã‚’è¡Œã„ã€ã‚ˆã‚Šå¤šãã®æ™‚é–“ã‚’è¦ã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"This strategy has one drawback.\n"
"If you have many service instances, you need to iterate over the whole set to find the one to pick."
msgstr "ã“ã®æ–¹æ³•ã«ã¯ä¸€ã¤æ¬ ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚å¤šãã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã‚ã‚‹å ´åˆã€é¸ã¶ã¹ãã‚‚ã®ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã«å…¨ã‚»ãƒƒãƒˆã‚’åå¾©å‡¦ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "The power of two random choices"
msgstr "ãƒ©ãƒ³ãƒ€ãƒ ãª2ã¤ã®é¸æŠã®åŠ›"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"This strategy extends the _least-request_ one and addresses the drawback mentioned above.\n"
"Instead of iterating over the whole list of instances, it picks two instances randomly and selects the one with the fewer inflight requests."
msgstr "ã“ã®ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ã¯ã€ _æœ€å°ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®_ ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ã‚’æ‹¡å¼µã—ã€å‰è¿°ã®æ¬ ç‚¹ã«å¯¾å‡¦ã—ãŸã‚‚ã®ã§ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒªã‚¹ãƒˆå…¨ä½“ã‚’åå¾©ã™ã‚‹ä»£ã‚ã‚Šã«ã€ãƒ©ãƒ³ãƒ€ãƒ ã«2ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸ã³ã€æ©Ÿå†…ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå°‘ãªã„æ–¹ã‚’é¸æŠã—ã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "You also need to configure the load balancer for the service:"
msgstr "ã¾ãŸã€ã‚µãƒ¼ãƒ“ã‚¹ç”¨ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "The results are similar to the _least-request_ as we have only three instances:"
msgstr "ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒ3ã¤ã—ã‹ãªã„ãŸã‚ã€çµæœã¯ _least-requestã¨_ åŒæ§˜ã§ã™ï¼š"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"However, this strategy is less expensive when you have many instances and when the iteration takes too much time.\n"
"In the worst case, it would pick the two most busy instances and select the one with fewer requests."
msgstr "ã—ã‹ã—ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®æ•°ãŒå¤šã„ã¨ãã‚„ã€ç¹°ã‚Šè¿”ã—ã«æ™‚é–“ãŒã‹ã‹ã‚Šã™ãã‚‹ã¨ãã«ã¯ã€ã“ã®æˆ¦ç•¥ã®æ–¹ãŒã‚³ã‚¹ãƒˆãŒä½ããªã‚Šã¾ã™ã€‚æœ€æ‚ªã®å ´åˆã€æœ€ã‚‚å¿™ã—ã„2ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸ã³ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å°‘ãªã„æ–¹ã‚’é¸ã¶ã“ã¨ã«ãªã‚Šã¾ã™ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy, no-wrap
msgid "Least response time"
msgstr "æœ€çŸ­ã®å¿œç­”æ™‚é–“"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"The least response time keeps track of the response time and failures.\n"
"Thus, it selects the fastest instances.\n"
"That strategy handles failures by adding a penalty to failing instances."
msgstr "æœ€å°å¿œç­”æ™‚é–“ã¯ã€å¿œç­”æ™‚é–“ã¨å¤±æ•—ã‚’è¨˜éŒ²ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€æœ€ã‚‚é€Ÿã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã—ã¾ã™ã€‚ã“ã®æˆ¦ç•¥ã¯ã€å¤±æ•—ã—ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãƒšãƒŠãƒ«ãƒ†ã‚£ã‚’åŠ ãˆã‚‹ã“ã¨ã§å¤±æ•—ã‚’å‡¦ç†ã—ã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "You also need to configure the load-balancer for the service:"
msgstr "ã¾ãŸã€ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"This strategy selects the green instance more often.\n"
"However, due to the chance of failure, it will also pick the other ones once in a while."
msgstr "ã“ã®æˆ¦ç•¥ã¯ç·‘ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ã‚ˆã‚Šé »ç¹ã«é¸æŠã—ã¾ã™ã€‚ã—ã‹ã—ã€å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€ãŸã¾ã«ä»–ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚‚é¸æŠã—ã¾ã™ã€‚"

#. type: Title ==
#: _posts/2022-07-15-stork-load-balancing.adoc
#, no-wrap
msgid "Summary"
msgstr "ã¾ã¨ã‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"This blog post has presented the load balancing strategies offered by Stork.\n"
"You can find the full list on http://smallrye.io/smallrye-stork/latest[the Stork web site]."
msgstr "ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯ã€StorkãŒæä¾›ã™ã‚‹ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°æˆ¦ç•¥ã‚’ã”ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚å…¨ãƒªã‚¹ãƒˆã¯ link:http://smallrye.io/smallrye-stork/latest[Storkã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’] ã”è¦§ãã ã•ã„ã€‚"

#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid ""
"Strategies like `random` or `round-robin` allow dispatching the load between instances.\n"
"The `least-request`, `power-of-two-choices`, and `least-response-time` strategies monitor the calls to select the less loaded or fastest instance."
msgstr "`random` ã‚„ `round-robin` ã®ã‚ˆã†ãªã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é–“ã§è² è·ã‚’åˆ†æ•£ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ `least-request` ã€ `power-of-two-choices` ã€ `least-response-time` ã®ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ã¯ã€è² è·ã®å°‘ãªã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚„æœ€é€Ÿã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é¸æŠã™ã‚‹ãŸã‚ã«å‘¼ã³å‡ºã—ã‚’ç›£è¦–ã—ã¾ã™ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "If these strategies do not fit your requirements, that's not a problem because http://smallrye.io/smallrye-stork/latest/load-balancer/custom-load-balancer/[you can implement your own] and craft the perfect selection algorithm."
msgstr "ã‚‚ã—ã€ã“ã‚Œã‚‰ã®ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãŒã‚ãªãŸã®è¦æ±‚ã«åˆã‚ãªã„å ´åˆã§ã‚‚ã€ link:http://smallrye.io/smallrye-stork/latest/load-balancer/custom-load-balancer/[è‡ªåˆ†ã§å®Ÿè£…] ã—ã€å®Œç’§ãªé¸æŠã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§å•é¡Œãªã„ã§ã—ã‚‡ã†ã€‚"

#. type: Plain text
#: _posts/2022-07-15-stork-load-balancing.adoc
#, fuzzy
msgid "You can also learn more about Stork and it integration in Quarkus in the http://smallrye.io/smallrye-stork/latest/quarkus/[Using Stork with Quarkus guide]."
msgstr "ã¾ãŸã€Storkã¨Quarkusã®çµ±åˆã«ã¤ã„ã¦ã¯ã€ã€Œ link:http://smallrye.io/smallrye-stork/latest/quarkus/[Quarkusã§Storkã‚’ä½¿ç”¨ã™ã‚‹ã€ã‚¬ã‚¤ãƒ‰ã§] è©³ã—ãèª¬æ˜ã—ã¦ã„ã¾ã™ã€‚"
