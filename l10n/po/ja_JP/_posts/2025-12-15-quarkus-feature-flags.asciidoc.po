msgid ""
msgstr ""
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: jekyll-l10n\n"

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Quarkus feature flags"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "We introduce a new Quarkiverse project - a lightweight and extensible feature flags extension."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"Feature flags are a proven and popular technique.\n"
"In essence, a feature flag makes it possible to turn on-off and/or configure a specific functionality in your application.\n"
"It is also referred to as toggles or switches.\n"
"There are many types of feature flags.\n"
"You may have heard of a \"killer switch\" that simply disables a problematic feature instantly.\n"
"Feature flags can be used to implement \"gradual rollout\" to deliver new features gradually to small groups of users (aka beta testers).\n"
"Permission flags are used to control access for different users.\n"
"And so on.\n"
"However, that's not the subject of this blogpost.\n"
"We would like to introduce https://github.com/quarkiverse/quarkus-flags/[Quarkus Feature Flags] - a Quarkiverse project that aims to provide a _lightweight_ and _extensible_ feature flags Quarkus extension."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "More specifically, it provides:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "A blocking/non-blocking API to access feature flags."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "A non-blocking SPI to provide flags and externalize the computation of a flag value."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Several built-in flag providers:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Quarkus config can be used to define feature flags,"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "An in-memory flag repository which is useful for testing and dynamic registration of flags."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "*Hibernate ORM* module, where feature flags are mapped from an annotated entity and are automatically loaded from the database."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "*Security* module, so that it's possible to evaluate flags based on the current `SecurityIdentity`."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "*Qute* module, so that it's possible to use the flags directly in templates."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "*CRON* module with a flag evaluator that matches a specific CRON expression."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"Note that the goal of this extension is not to replace robust solutions such as https://openfeature.dev/[OpenFeature] and https://www.getunleash.io/[Unleash].\n"
"Instead, we would like to offer a flexible option that integrates well with other parts of the Quarkus ecosystem."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Flag"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"In this extension, a feature flag is represented by the `io.quarkiverse.flags.Flag` interface.\n"
"It refers to a specific feature with a string identifier and provides several convenient methods to compute the _current value_.\n"
"The value of a feature flag can be represented as `boolean`, `string` or `integer`.\n"
"There can be only one flag for a given feature at a given time.\n"
"A flag can also expose metadata which that can be leveraged in the SPI."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Simple example"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"Let's start simple.\n"
"We will create a flag for a feature called `my-feature-alpha` in the `application.properties` file."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Define a _runtime_ flag for feature `my-feature-alpha` with initial value `true`."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "A `runtime` feature flag can be overriden at runtime, e.g. using a system property or an environment variable. You can also define a flag fixed at build time, i.e. `quarkus.flags.build.\"my-feature-alpha\".value=true`. However, its values ​​cannot be modified at runtime."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"The `io.quarkiverse.flags.Flags` interface represents the central point to access feature flags.\n"
"The container registers a CDI bean that implements `Flags` automatically.\n"
"Therefore, we will simply inject `Flags` and use one of its convenient methods."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "You can also access the flag in your UI built with Qute:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The `flag:` namespace provides other useful properties and methods."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "If you want to use the Qute integration in your application then you'll need to add the `io.quarkiverse.flags:quarkus-flags-qute` extension to your build file first."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Flag providers"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"So far we defined the flag in the Quarkus config.\n"
"This is not very flexible.\n"
"Let's try some other built-in flag providers.\n"
"We can use the `io.quarkiverse.flags.InMemoryFlagProvider` - an in-memory repository that can be useful for testing and dynamic registration."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Inject `InMemoryFlagProvider` to add/remove flags."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "This method is automatically executed at application startup."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The `InMemoryFlagProvider` has higher priority and overrides the flag provided in config."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current value of `my-feature-alpha` is calculated from `MyInitService#alpha`."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"This way we can control the current value of `my-feature-alpha` easily.\n"
"However, in real use cases we will probably need to persist the feature flags in an external system."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"The https://docs.quarkiverse.io/quarkus-flags/dev/hibernate-orm.html[`quarkus-flags-hibernate-orm` extension] provides integration with Hibernate ORM.\n"
"It discovers all JPA entities annotated with `@io.quarkiverse.flags.hibernate.common.FlagDefinition` and generates a flag provider automatically.\n"
"The generated provider simply loads all flags from the database.\n"
"A mapping looks like:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Marks a flag definition entity."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Defines the feature name of a feature flag."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Defines the value of a feature flag."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The feature flags are collected at runtime. More specifically, the extension injects all CDI beans that implement `io.quarkiverse.flags.spi.FlagProvider` and calls the `FlagProvider#getFlags()` method. You can easily implement your own provider."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Flag evaluators"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"In real applications, you will very likely need some dynamic evaluation logic based on some application state, such as the current user or current time.\n"
"There is the `io.quarkiverse.flags.spi.FlagEvaluator` SPI which makes it possible to externalize the computation of the current value of a feature flag.\n"
"Flag evaluators must be CDI beans.\n"
"By default, a flag can reference one `FlagEvaluator` in its _metadata_ with a key `evaluator`. This evaluator is automatically used to compute the current value for any flag produced by means of `Flag.Builder` (i.e. created by `Flag#builder(String)`).\n"
"There are also several built-in evaluators available."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Current time"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"The `io.quarkiverse.flags.TimeSpanFlagEvaluator` evaluates a flag based on the current date-time obtained from the system clock in the default time-zone.\n"
"The current time must be after the `start-time` (exclusive) and before the `end-time` (exclusive)."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Assign the evaluator to the flag. Note that we do not specify the initial value for `my-feature-alpha` - it is `true` by default."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current date-time must be *after* the specified `start-time`. The `java.time.format.DateTimeFormatter.ISO_ZONED_DATE_TIME` is used to parse the `start-time` value."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "We do not specify the `end-time` metadata value, so there is no upper bound for the time inverval."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Current user"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"The `SecurityIdentityFlagEvaluator` from the https://docs.quarkiverse.io/quarkus-flags/dev/security.html[`quarkus-flags-security` extension] can be used to compute the current value of a feature flag based on the current `SecurityIdentity`.\n"
"A typical feature flag configuration looks like:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current user must be authenticated."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current user must have one of the defined roles."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"The `UsernameRolloutFlagEvaluator`, on the other hand, is an evaluator using a simple percentage-based rollout strategy, based on a consistent numerical representation of the current user name.\n"
"It can be used to implement gradual rollout.\n"
"A typical feature flag configuration may look like:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Enable the flag for the given percentage of users."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "CRON"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"The https://docs.quarkiverse.io/quarkus-flags/dev/cron.html[quarkus-flags-cron] extension provides the `CronFlagEvaluator` that can be used to compute the current value of a feature flag based on the current date-time obtained from the system clock in the default time-zone and the configured CRON expression.\n"
"A typical feature flag configuration may look like:"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current date-time must match the given CRON expression. In this particular case, the flag will be enabled *every Monday*."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "By default, the Unix/crontab syntax is used. However, it is also possible to use the syntax from Cron4j, Quartz and Spring. For more information, see https://docs.quarkiverse.io/quarkus-flags/dev/cron.html[the documentation]."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The case for multiple evaluators"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"Sometimes it might be useful to combine several evaluators to compute the value of a flag.\n"
"The core extension provides `io.quarkiverse.flags.CompositeFlagEvaluator` that evaluates a flag with the specified sub-evaluators."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The value of `sub-evaluators` represents a comma-separated list of sub-evaluator identifiers. They are executed in the specified order. In this particular case, the `TimeSpanFlagEvaluator` is executed first and then the `SecurityIdentityFlagEvaluator`."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current date-time must be after the specified start-time."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "The current user must have the role `admin`."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Extensibility"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"Flag providers and flag evaluators are CDI beans.\n"
"So all you have to do is add a bean that implements `FlagProvider` or `FlagEvaluator` in your application.\n"
"You can use CDI interceptors and even decorate these components."
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid "Conclusion"
msgstr ""

#: _posts/2025-12-15-quarkus-feature-flags.asciidoc
msgid ""
"Quarkus Feature Flags is a lightweight and extensible extension that can help you build more flexible applications.\n"
"Feedback, feature requests and contributions are welcome.\n"
"Feel free to create questions and issues on GitHub repository: https://github.com/quarkiverse/quarkus-flags/issues."
msgstr ""
